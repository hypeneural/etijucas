import{g as Qe,_ as et,r as d,f as S,j as t}from"./vendor-radix-CUH4rfwv.js";import{B as P}from"./button-E95AE1KN.js";import{I as Z}from"./input-BGvygzFt.js";import{L as H}from"./label-BxGqwQbw.js";import{C as B}from"./card-dNCUFIBU.js";import{S as le}from"./switch-CagXTNhb.js";import{a as ye,X as tt,c as F,u as rt}from"./index-D5MUE5x7.js";import{t as at,f as Ne}from"./auth.service-qU9X3PjQ.js";import{A as ot}from"./AddressAutocomplete-QV5Gybyw.js";import{S as it}from"./slider-CY_Q0UdR.js";import{A as ne,m as w}from"./vendor-motion-BFiVL1R0.js";import{C as W}from"./check-qYU5Qbo7.js";import{I as Se}from"./image-D44uqjML.js";import{Z as st}from"./zoom-in-Bt83miZ8.js";import{R as nt,m as Re,P as ct}from"./auth-utils-CQTs8M4D.js";import{U as he}from"./user-C6cCG6EL.js";import{L as ae}from"./loader-circle-DYmSdoSV.js";import{C as lt}from"./camera-BG7Xw9Lz.js";import{P as dt,I as ht}from"./pen-line-BAWP9Qp3.js";import{T as pt}from"./trash-2-4rn-7WZi.js";import{B as ut}from"./BottomTabBar-WkTeOxdD.js";import{u as mt}from"./useAuthStore-zZ7TxdTJ.js";import{u as ft}from"./useAppStore-DXLumZkx.js";import{a as K,E as G,A as xt}from"./client-w4Cmw8pS.js";import{A as vt}from"./arrow-left-CgIivF2d.js";import{P as Pe}from"./phone-Bm84Q6Fq.js";import{C as ee}from"./chevron-right-Dq7Azj4P.js";import{M as Ee}from"./map-pin-CXVmWNcb.js";import{L as de}from"./lock-xIVP9NPo.js";import{B as Ae}from"./bell-SPHJvBLC.js";import{L as gt}from"./log-out-6UbHa4ur.js";import{M as wt}from"./mail-DSGW4SPz.js";import{T as te}from"./triangle-alert-DZkP4FP1.js";import{S as ze}from"./shield-wdFsQ4_F.js";import{E as yt,a as bt}from"./eye-DYfQXDVy.js";import"./vendor-utils-DF9nhviX.js";import"./useHaptics-9RCaLgIn.js";import"./vendor-query-BEEFX5y8.js";import"./circle-alert-BSIV9Uxj.js";import"./house-D0i3KuEz.js";import"./building-2-Db6R-iR2.js";import"./calendar-CMtQJ-du.js";import"./ellipsis-G7a78vX0.js";import"./middleware-WYGlAF-S.js";import"./uuid-BwYzP5ph.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=ye("Crop",[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=ye("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=ye("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);var _e=!1,I,pe,ue,oe,ie,Ue,se,me,fe,xe,Ze,ve,ge,He,Be;function R(){if(!_e){_e=!0;var i=navigator.userAgent,o=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(i),e=/(Mac OS X)|(Windows)|(Linux)/.exec(i);if(ve=/\b(iPhone|iP[ao]d)/.exec(i),ge=/\b(iP[ao]d)/.exec(i),xe=/Android/i.exec(i),He=/FBAN\/\w+;/i.exec(i),Be=/Mobile/i.exec(i),Ze=!!/Win64/.exec(i),o){I=o[1]?parseFloat(o[1]):o[5]?parseFloat(o[5]):NaN,I&&document&&document.documentMode&&(I=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(i);Ue=r?parseFloat(r[1])+4:I,pe=o[2]?parseFloat(o[2]):NaN,ue=o[3]?parseFloat(o[3]):NaN,oe=o[4]?parseFloat(o[4]):NaN,oe?(o=/(?:Chrome\/(\d+\.\d+))/.exec(i),ie=o&&o[1]?parseFloat(o[1]):NaN):ie=NaN}else I=pe=ue=ie=oe=NaN;if(e){if(e[1]){var a=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(i);se=a?parseFloat(a[1].replace("_",".")):!0}else se=!1;me=!!e[2],fe=!!e[3]}else se=me=fe=!1}}var we={ie:function(){return R()||I},ieCompatibilityMode:function(){return R()||Ue>I},ie64:function(){return we.ie()&&Ze},firefox:function(){return R()||pe},opera:function(){return R()||ue},webkit:function(){return R()||oe},safari:function(){return we.webkit()},chrome:function(){return R()||ie},windows:function(){return R()||me},osx:function(){return R()||se},linux:function(){return R()||fe},iphone:function(){return R()||ve},mobile:function(){return R()||ve||ge||xe||Be},nativeApp:function(){return R()||He},android:function(){return R()||xe},ipad:function(){return R()||ge}},Nt=we,St=!!(typeof window<"u"&&window.document&&window.document.createElement),Rt={canUseDOM:St},Pt=Rt,Ge=Pt,Xe;Ge.canUseDOM&&(Xe=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function Et(i,o){if(!Ge.canUseDOM||o&&!("addEventListener"in document))return!1;var e="on"+i,r=e in document;if(!r){var a=document.createElement("div");a.setAttribute(e,"return;"),r=typeof a[e]=="function"}return!r&&Xe&&i==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var At=Et,zt=Nt,Dt=At,Me=10,ke=40,Te=800;function Ve(i){var o=0,e=0,r=0,a=0;return"detail"in i&&(e=i.detail),"wheelDelta"in i&&(e=-i.wheelDelta/120),"wheelDeltaY"in i&&(e=-i.wheelDeltaY/120),"wheelDeltaX"in i&&(o=-i.wheelDeltaX/120),"axis"in i&&i.axis===i.HORIZONTAL_AXIS&&(o=e,e=0),r=o*Me,a=e*Me,"deltaY"in i&&(a=i.deltaY),"deltaX"in i&&(r=i.deltaX),(r||a)&&i.deltaMode&&(i.deltaMode==1?(r*=ke,a*=ke):(r*=Te,a*=Te)),r&&!o&&(o=r<1?-1:1),a&&!e&&(e=a<1?-1:1),{spinX:o,spinY:e,pixelX:r,pixelY:a}}Ve.getEventType=function(){return zt.firefox()?"DOMMouseScroll":Dt("wheel")?"wheel":"mousewheel"};var _t=Ve,Mt=_t;const kt=Qe(Mt);function Tt(i,o,e,r,a,s){s===void 0&&(s=0);var c=X(i,o,s),n=c.width,l=c.height,h=Math.min(n,e),p=Math.min(l,r);return h>p*a?{width:p*a,height:p}:{width:h,height:h/a}}function It(i){return i.width>i.height?i.width/i.naturalWidth:i.height/i.naturalHeight}function J(i,o,e,r,a){a===void 0&&(a=0);var s=X(o.width,o.height,a),c=s.width,n=s.height;return{x:Ie(i.x,c,e.width,r),y:Ie(i.y,n,e.height,r)}}function Ie(i,o,e,r){var a=o*r/2-e/2;return ce(i,-a,a)}function Fe(i,o){return Math.sqrt(Math.pow(i.y-o.y,2)+Math.pow(i.x-o.x,2))}function We(i,o){return Math.atan2(o.y-i.y,o.x-i.x)*180/Math.PI}function Ft(i,o,e,r,a,s,c){s===void 0&&(s=0),c===void 0&&(c=!0);var n=c?Wt:Lt,l=X(o.width,o.height,s),h=X(o.naturalWidth,o.naturalHeight,s),p={x:n(100,((l.width-e.width/a)/2-i.x/a)/l.width*100),y:n(100,((l.height-e.height/a)/2-i.y/a)/l.height*100),width:n(100,e.width/l.width*100/a),height:n(100,e.height/l.height*100/a)},m=Math.round(n(h.width,p.width*h.width/100)),u=Math.round(n(h.height,p.height*h.height/100)),v=h.width>=h.height*r,y=v?{width:Math.round(u*r),height:u}:{width:m,height:Math.round(m/r)},g=S(S({},y),{x:Math.round(n(h.width-y.width,p.x*h.width/100)),y:Math.round(n(h.height-y.height,p.y*h.height/100))});return{croppedAreaPercentages:p,croppedAreaPixels:g}}function Wt(i,o){return Math.min(i,Math.max(0,o))}function Lt(i,o){return o}function Ot(i,o,e,r,a,s){var c=X(o.width,o.height,e),n=ce(r.width/c.width*(100/i.width),a,s),l={x:n*c.width/2-r.width/2-c.width*n*(i.x/100),y:n*c.height/2-r.height/2-c.height*n*(i.y/100)};return{crop:l,zoom:n}}function Ut(i,o,e){var r=It(o);return e.height>e.width?e.height/(i.height*r):e.width/(i.width*r)}function Zt(i,o,e,r,a,s){e===void 0&&(e=0);var c=X(o.naturalWidth,o.naturalHeight,e),n=ce(Ut(i,o,r),a,s),l=r.height>r.width?r.height/i.height:r.width/i.width,h={x:((c.width-i.width)/2-i.x)*l,y:((c.height-i.height)/2-i.y)*l};return{crop:h,zoom:n}}function Le(i,o){return{x:(o.x+i.x)/2,y:(o.y+i.y)/2}}function Ht(i){return i*Math.PI/180}function X(i,o,e){var r=Ht(e);return{width:Math.abs(Math.cos(r)*i)+Math.abs(Math.sin(r)*o),height:Math.abs(Math.sin(r)*i)+Math.abs(Math.cos(r)*o)}}function ce(i,o,e){return Math.min(Math.max(i,o),e)}function re(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return i.filter(function(e){return typeof e=="string"&&e.length>0}).join(" ").trim()}var Bt=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,Gt=1,Xt=3,Vt=1,Yt=function(i){et(o,i);function o(){var e=i!==null&&i.apply(this,arguments)||this;return e.cropperRef=d.createRef(),e.imageRef=d.createRef(),e.videoRef=d.createRef(),e.containerPosition={x:0,y:0},e.containerRef=null,e.styleRef=null,e.containerRect=null,e.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},e.dragStartPosition={x:0,y:0},e.dragStartCrop={x:0,y:0},e.gestureZoomStart=0,e.gestureRotationStart=0,e.isTouching=!1,e.lastPinchDistance=0,e.lastPinchRotation=0,e.rafDragTimeout=null,e.rafPinchTimeout=null,e.wheelTimer=null,e.currentDoc=typeof document<"u"?document:null,e.currentWindow=typeof window<"u"?window:null,e.resizeObserver=null,e.previousCropSize=null,e.isInitialized=!1,e.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},e.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!e.containerRef)){var r=!0;e.resizeObserver=new window.ResizeObserver(function(a){if(r){r=!1;return}e.computeSizes()}),e.resizeObserver.observe(e.containerRef)}},e.preventZoomSafari=function(r){return r.preventDefault()},e.cleanEvents=function(){e.currentDoc&&(e.currentDoc.removeEventListener("mousemove",e.onMouseMove),e.currentDoc.removeEventListener("mouseup",e.onDragStopped),e.currentDoc.removeEventListener("touchmove",e.onTouchMove),e.currentDoc.removeEventListener("touchend",e.onDragStopped),e.currentDoc.removeEventListener("gesturechange",e.onGestureChange),e.currentDoc.removeEventListener("gestureend",e.onGestureEnd),e.currentDoc.removeEventListener("scroll",e.onScroll))},e.clearScrollEvent=function(){e.containerRef&&e.containerRef.removeEventListener("wheel",e.onWheel),e.wheelTimer&&clearTimeout(e.wheelTimer)},e.onMediaLoad=function(){var r=e.computeSizes();r&&(e.previousCropSize=r,e.emitCropData(),e.setInitialCrop(r),e.isInitialized=!0),e.props.onMediaLoaded&&e.props.onMediaLoaded(e.mediaSize)},e.setInitialCrop=function(r){if(e.props.initialCroppedAreaPercentages){var a=Ot(e.props.initialCroppedAreaPercentages,e.mediaSize,e.props.rotation,r,e.props.minZoom,e.props.maxZoom),s=a.crop,c=a.zoom;e.props.onCropChange(s),e.props.onZoomChange&&e.props.onZoomChange(c)}else if(e.props.initialCroppedAreaPixels){var n=Zt(e.props.initialCroppedAreaPixels,e.mediaSize,e.props.rotation,r,e.props.minZoom,e.props.maxZoom),s=n.crop,c=n.zoom;e.props.onCropChange(s),e.props.onZoomChange&&e.props.onZoomChange(c)}},e.computeSizes=function(){var r,a,s,c,n,l,h=e.imageRef.current||e.videoRef.current;if(h&&e.containerRef){e.containerRect=e.containerRef.getBoundingClientRect(),e.saveContainerPosition();var p=e.containerRect.width/e.containerRect.height,m=((r=e.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((a=e.videoRef.current)===null||a===void 0?void 0:a.videoWidth)||0,u=((s=e.imageRef.current)===null||s===void 0?void 0:s.naturalHeight)||((c=e.videoRef.current)===null||c===void 0?void 0:c.videoHeight)||0,v=h.offsetWidth<m||h.offsetHeight<u,y=m/u,g=void 0;if(v)switch(e.state.mediaObjectFit){default:case"contain":g=p>y?{width:e.containerRect.height*y,height:e.containerRect.height}:{width:e.containerRect.width,height:e.containerRect.width/y};break;case"horizontal-cover":g={width:e.containerRect.width,height:e.containerRect.width/y};break;case"vertical-cover":g={width:e.containerRect.height*y,height:e.containerRect.height};break}else g={width:h.offsetWidth,height:h.offsetHeight};e.mediaSize=S(S({},g),{naturalWidth:m,naturalHeight:u}),e.props.setMediaSize&&e.props.setMediaSize(e.mediaSize);var j=e.props.cropSize?e.props.cropSize:Tt(e.mediaSize.width,e.mediaSize.height,e.containerRect.width,e.containerRect.height,e.props.aspect,e.props.rotation);return(((n=e.state.cropSize)===null||n===void 0?void 0:n.height)!==j.height||((l=e.state.cropSize)===null||l===void 0?void 0:l.width)!==j.width)&&e.props.onCropSizeChange&&e.props.onCropSizeChange(j),e.setState({cropSize:j},e.recomputeCropPosition),e.props.setCropSize&&e.props.setCropSize(j),j}},e.saveContainerPosition=function(){if(e.containerRef){var r=e.containerRef.getBoundingClientRect();e.containerPosition={x:r.left,y:r.top}}},e.onMouseDown=function(r){e.currentDoc&&(r.preventDefault(),e.currentDoc.addEventListener("mousemove",e.onMouseMove),e.currentDoc.addEventListener("mouseup",e.onDragStopped),e.saveContainerPosition(),e.onDragStart(o.getMousePoint(r)))},e.onMouseMove=function(r){return e.onDrag(o.getMousePoint(r))},e.onScroll=function(r){e.currentDoc&&(r.preventDefault(),e.saveContainerPosition())},e.onTouchStart=function(r){e.currentDoc&&(e.isTouching=!0,!(e.props.onTouchRequest&&!e.props.onTouchRequest(r))&&(e.currentDoc.addEventListener("touchmove",e.onTouchMove,{passive:!1}),e.currentDoc.addEventListener("touchend",e.onDragStopped),e.saveContainerPosition(),r.touches.length===2?e.onPinchStart(r):r.touches.length===1&&e.onDragStart(o.getTouchPoint(r.touches[0]))))},e.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?e.onPinchMove(r):r.touches.length===1&&e.onDrag(o.getTouchPoint(r.touches[0]))},e.onGestureStart=function(r){e.currentDoc&&(r.preventDefault(),e.currentDoc.addEventListener("gesturechange",e.onGestureChange),e.currentDoc.addEventListener("gestureend",e.onGestureEnd),e.gestureZoomStart=e.props.zoom,e.gestureRotationStart=e.props.rotation)},e.onGestureChange=function(r){if(r.preventDefault(),!e.isTouching){var a=o.getMousePoint(r),s=e.gestureZoomStart-1+r.scale;if(e.setNewZoom(s,a,{shouldUpdatePosition:!0}),e.props.onRotationChange){var c=e.gestureRotationStart+r.rotation;e.props.onRotationChange(c)}}},e.onGestureEnd=function(r){e.cleanEvents()},e.onDragStart=function(r){var a,s,c=r.x,n=r.y;e.dragStartPosition={x:c,y:n},e.dragStartCrop=S({},e.props.crop),(s=(a=e.props).onInteractionStart)===null||s===void 0||s.call(a)},e.onDrag=function(r){var a=r.x,s=r.y;e.currentWindow&&(e.rafDragTimeout&&e.currentWindow.cancelAnimationFrame(e.rafDragTimeout),e.rafDragTimeout=e.currentWindow.requestAnimationFrame(function(){if(e.state.cropSize&&!(a===void 0||s===void 0)){var c=a-e.dragStartPosition.x,n=s-e.dragStartPosition.y,l={x:e.dragStartCrop.x+c,y:e.dragStartCrop.y+n},h=e.props.restrictPosition?J(l,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):l;e.props.onCropChange(h)}}))},e.onDragStopped=function(){var r,a;e.isTouching=!1,e.cleanEvents(),e.emitCropData(),(a=(r=e.props).onInteractionEnd)===null||a===void 0||a.call(r)},e.onWheel=function(r){if(e.currentWindow&&!(e.props.onWheelRequest&&!e.props.onWheelRequest(r))){r.preventDefault();var a=o.getMousePoint(r),s=kt(r).pixelY,c=e.props.zoom-s*e.props.zoomSpeed/200;e.setNewZoom(c,a,{shouldUpdatePosition:!0}),e.state.hasWheelJustStarted||e.setState({hasWheelJustStarted:!0},function(){var n,l;return(l=(n=e.props).onInteractionStart)===null||l===void 0?void 0:l.call(n)}),e.wheelTimer&&clearTimeout(e.wheelTimer),e.wheelTimer=e.currentWindow.setTimeout(function(){return e.setState({hasWheelJustStarted:!1},function(){var n,l;return(l=(n=e.props).onInteractionEnd)===null||l===void 0?void 0:l.call(n)})},250)}},e.getPointOnContainer=function(r,a){var s=r.x,c=r.y;if(!e.containerRect)throw new Error("The Cropper is not mounted");return{x:e.containerRect.width/2-(s-a.x),y:e.containerRect.height/2-(c-a.y)}},e.getPointOnMedia=function(r){var a=r.x,s=r.y,c=e.props,n=c.crop,l=c.zoom;return{x:(a+n.x)/l,y:(s+n.y)/l}},e.setNewZoom=function(r,a,s){var c=s===void 0?{}:s,n=c.shouldUpdatePosition,l=n===void 0?!0:n;if(!(!e.state.cropSize||!e.props.onZoomChange)){var h=ce(r,e.props.minZoom,e.props.maxZoom);if(l){var p=e.getPointOnContainer(a,e.containerPosition),m=e.getPointOnMedia(p),u={x:m.x*h-p.x,y:m.y*h-p.y},v=e.props.restrictPosition?J(u,e.mediaSize,e.state.cropSize,h,e.props.rotation):u;e.props.onCropChange(v)}e.props.onZoomChange(h)}},e.getCropData=function(){if(!e.state.cropSize)return null;var r=e.props.restrictPosition?J(e.props.crop,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):e.props.crop;return Ft(r,e.mediaSize,e.state.cropSize,e.getAspect(),e.props.zoom,e.props.rotation,e.props.restrictPosition)},e.emitCropData=function(){var r=e.getCropData();if(r){var a=r.croppedAreaPercentages,s=r.croppedAreaPixels;e.props.onCropComplete&&e.props.onCropComplete(a,s),e.props.onCropAreaChange&&e.props.onCropAreaChange(a,s)}},e.emitCropAreaChange=function(){var r=e.getCropData();if(r){var a=r.croppedAreaPercentages,s=r.croppedAreaPixels;e.props.onCropAreaChange&&e.props.onCropAreaChange(a,s)}},e.recomputeCropPosition=function(){var r,a;if(e.state.cropSize){var s=e.props.crop;if(e.isInitialized&&(!((r=e.previousCropSize)===null||r===void 0)&&r.width)&&(!((a=e.previousCropSize)===null||a===void 0)&&a.height)){var c=Math.abs(e.previousCropSize.width-e.state.cropSize.width)>1e-6||Math.abs(e.previousCropSize.height-e.state.cropSize.height)>1e-6;if(c){var n=e.state.cropSize.width/e.previousCropSize.width,l=e.state.cropSize.height/e.previousCropSize.height;s={x:e.props.crop.x*n,y:e.props.crop.y*l}}}var h=e.props.restrictPosition?J(s,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):s;e.previousCropSize=e.state.cropSize,e.props.onCropChange(h),e.emitCropData()}},e.onKeyDown=function(r){var a,s,c=e.props,n=c.crop,l=c.onCropChange,h=c.keyboardStep,p=c.zoom,m=c.rotation,u=h;if(e.state.cropSize){r.shiftKey&&(u*=.2);var v=S({},n);switch(r.key){case"ArrowUp":v.y-=u,r.preventDefault();break;case"ArrowDown":v.y+=u,r.preventDefault();break;case"ArrowLeft":v.x-=u,r.preventDefault();break;case"ArrowRight":v.x+=u,r.preventDefault();break;default:return}e.props.restrictPosition&&(v=J(v,e.mediaSize,e.state.cropSize,p,m)),r.repeat||(s=(a=e.props).onInteractionStart)===null||s===void 0||s.call(a),l(v)}},e.onKeyUp=function(r){var a,s;switch(r.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":r.preventDefault();break;default:return}e.emitCropData(),(s=(a=e.props).onInteractionEnd)===null||s===void 0||s.call(a)},e}return o.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=Bt,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},o.prototype.componentWillUnmount=function(){var e,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},o.prototype.componentDidUpdate=function(e){var r,a,s,c,n,l,h,p,m;e.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):e.aspect!==this.props.aspect?this.computeSizes():e.objectFit!==this.props.objectFit?this.computeSizes():e.zoom!==this.props.zoom?this.recomputeCropPosition():((r=e.cropSize)===null||r===void 0?void 0:r.height)!==((a=this.props.cropSize)===null||a===void 0?void 0:a.height)||((s=e.cropSize)===null||s===void 0?void 0:s.width)!==((c=this.props.cropSize)===null||c===void 0?void 0:c.width)?this.computeSizes():(((n=e.crop)===null||n===void 0?void 0:n.x)!==((l=this.props.crop)===null||l===void 0?void 0:l.x)||((h=e.crop)===null||h===void 0?void 0:h.y)!==((p=this.props.crop)===null||p===void 0?void 0:p.y))&&this.emitCropAreaChange(),e.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),e.video!==this.props.video&&((m=this.videoRef.current)===null||m===void 0||m.load());var u=this.getObjectFit();u!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:u},this.computeSizes)},o.prototype.getAspect=function(){var e=this.props,r=e.cropSize,a=e.aspect;return r?r.width/r.height:a},o.prototype.getObjectFit=function(){var e,r,a,s;if(this.props.objectFit==="cover"){var c=this.imageRef.current||this.videoRef.current;if(c&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var n=this.containerRect.width/this.containerRect.height,l=((e=this.imageRef.current)===null||e===void 0?void 0:e.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,h=((a=this.imageRef.current)===null||a===void 0?void 0:a.naturalHeight)||((s=this.videoRef.current)===null||s===void 0?void 0:s.videoHeight)||0,p=l/h;return p<n?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},o.prototype.onPinchStart=function(e){var r=o.getTouchPoint(e.touches[0]),a=o.getTouchPoint(e.touches[1]);this.lastPinchDistance=Fe(r,a),this.lastPinchRotation=We(r,a),this.onDragStart(Le(r,a))},o.prototype.onPinchMove=function(e){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var a=o.getTouchPoint(e.touches[0]),s=o.getTouchPoint(e.touches[1]),c=Le(a,s);this.onDrag(c),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var n=Fe(a,s),l=r.props.zoom*(n/r.lastPinchDistance);r.setNewZoom(l,c,{shouldUpdatePosition:!1}),r.lastPinchDistance=n;var h=We(a,s),p=r.props.rotation+(h-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(p),r.lastPinchRotation=h})}},o.prototype.render=function(){var e=this,r,a=this.props,s=a.image,c=a.video,n=a.mediaProps,l=a.cropperProps,h=a.transform,p=a.crop,m=p.x,u=p.y,v=a.rotation,y=a.zoom,g=a.cropShape,j=a.showGrid,f=a.roundCropAreaPixels,z=a.style,E=z.containerStyle,V=z.cropAreaStyle,L=z.mediaStyle,T=a.classes,Y=T.containerClassName,$=T.cropAreaClassName,O=T.mediaClassName,_=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return d.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(b){return e.containerRef=b},"data-testid":"container",style:E,className:re("reactEasyCrop_Container",Y)},s?d.createElement("img",S({alt:"",className:re("reactEasyCrop_Image",_==="contain"&&"reactEasyCrop_Contain",_==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",_==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",O)},n,{src:s,ref:this.imageRef,style:S(S({},L),{transform:h||"translate(".concat(m,"px, ").concat(u,"px) rotate(").concat(v,"deg) scale(").concat(y,")")}),onLoad:this.onMediaLoad})):c&&d.createElement("video",S({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:re("reactEasyCrop_Video",_==="contain"&&"reactEasyCrop_Contain",_==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",_==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",O)},n,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:S(S({},L),{transform:h||"translate(".concat(m,"px, ").concat(u,"px) rotate(").concat(v,"deg) scale(").concat(y,")")}),controls:!1}),(Array.isArray(c)?c:[{src:c}]).map(function(C){return d.createElement("source",S({key:C.src},C))})),this.state.cropSize&&d.createElement("div",S({ref:this.cropperRef,style:S(S({},V),{width:f?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:f?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:re("reactEasyCrop_CropArea",g==="round"&&"reactEasyCrop_CropAreaRound",j&&"reactEasyCrop_CropAreaGrid",$)},l)))},o.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:Xt,minZoom:Gt,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:Vt},o.getMousePoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},o.getTouchPoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},o}(d.Component);async function $t(i,o,e=0){const r=await qt(i),a=document.createElement("canvas"),s=a.getContext("2d");if(!s)throw new Error("No 2d context");const n=2*(Math.max(r.width,r.height)/2*Math.sqrt(2));a.width=n,a.height=n,s.translate(n/2,n/2),s.rotate(e*Math.PI/180),s.translate(-n/2,-n/2),s.drawImage(r,n/2-r.width/2,n/2-r.height/2);const l=s.getImageData(0,0,n,n);return a.width=o.width,a.height=o.height,s.putImageData(l,Math.round(0-n/2+r.width/2-o.x),Math.round(0-n/2+r.height/2-o.y)),a.toDataURL("image/jpeg",.9)}function qt(i){return new Promise((o,e)=>{const r=new Image;r.addEventListener("load",()=>o(r)),r.addEventListener("error",a=>e(a)),r.crossOrigin="anonymous",r.src=i})}function Kt({image:i,onCrop:o,onCancel:e,aspectRatio:r=1}){const[a,s]=d.useState({x:0,y:0}),[c,n]=d.useState(1),[l,h]=d.useState(0),[p,m]=d.useState(null),[u,v]=d.useState(!1),y=d.useCallback((f,z)=>{m(z)},[]),g=d.useCallback(async()=>{if(p){v(!0);try{const f=await $t(i,p,l);o(f)}catch(f){console.error("Error cropping image:",f)}finally{v(!1)}}},[p,i,l,o]),j=d.useCallback(()=>{h(f=>(f+90)%360)},[]);return t.jsx(ne,{children:t.jsxs(w.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] bg-black flex flex-col",children:[t.jsxs(w.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"flex items-center justify-between p-4 text-white safe-top",children:[t.jsx(P,{variant:"ghost",size:"icon",onClick:e,className:"text-white hover:bg-white/10 rounded-full",children:t.jsx(tt,{className:"h-6 w-6"})}),t.jsxs("h2",{className:"font-semibold text-lg flex items-center gap-2",children:[t.jsx(jt,{className:"h-5 w-5"}),"Ajustar foto"]}),t.jsx(P,{variant:"ghost",size:"icon",onClick:g,disabled:u,className:"text-green-400 hover:bg-green-500/20 rounded-full",children:t.jsx(W,{className:"h-6 w-6"})})]}),t.jsx("div",{className:"relative flex-1 bg-black",children:t.jsx(Yt,{image:i,crop:a,zoom:c,rotation:l,aspect:r,cropShape:"round",showGrid:!1,onCropChange:s,onZoomChange:n,onCropComplete:y,classes:{containerClassName:"bg-black",cropAreaClassName:"rounded-full"},style:{containerStyle:{background:"#000"},cropAreaStyle:{border:"3px solid rgba(255, 255, 255, 0.8)",boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.7)"}}})}),t.jsxs(w.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},className:"p-6 space-y-5 bg-gradient-to-t from-black via-black/95 to-transparent safe-bottom",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between text-white/70 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Se,{className:"h-4 w-4"}),t.jsx("span",{children:"Zoom"})]}),t.jsxs("span",{className:"font-mono",children:[Math.round(c*100),"%"]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(P,{variant:"ghost",size:"icon",onClick:()=>n(f=>Math.max(1,f-.2)),className:"text-white hover:bg-white/10 rounded-full h-10 w-10",children:t.jsx(Ct,{className:"h-5 w-5"})}),t.jsx(it,{value:[c],min:1,max:3,step:.05,onValueChange:([f])=>n(f),className:"flex-1"}),t.jsx(P,{variant:"ghost",size:"icon",onClick:()=>n(f=>Math.min(3,f+.2)),className:"text-white hover:bg-white/10 rounded-full h-10 w-10",children:t.jsx(st,{className:"h-5 w-5"})})]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs(P,{variant:"outline",onClick:j,className:"flex-1 h-12 border-white/20 bg-white/5 text-white hover:bg-white/10 rounded-xl",children:[t.jsx(nt,{className:"h-5 w-5 mr-2"}),"Girar 90°"]}),t.jsx(P,{onClick:g,disabled:u,className:"flex-1 h-12 bg-primary hover:bg-primary/90 rounded-xl font-semibold",children:u?t.jsx(w.div,{animate:{rotate:360},transition:{repeat:1/0,duration:1,ease:"linear"},children:t.jsx(Se,{className:"h-5 w-5"})}):t.jsxs(t.Fragment,{children:[t.jsx(W,{className:"h-5 w-5 mr-2"}),"Aplicar"]})})]})]})]})})}function Oe({currentUrl:i,name:o="U",onUpload:e,onRemove:r,disabled:a=!1,size:s="lg"}){const c=d.useRef(null),[n,l]=d.useState(!1),[h,p]=d.useState(null),[m,u]=d.useState(!1),[v,y]=d.useState(!1),[g,j]=d.useState(!1),[f,z]=d.useState(null),E=h||i,V=o.split(" ").map(b=>b[0]).join("").slice(0,2).toUpperCase(),L={sm:"w-16 h-16",md:"w-24 h-24",lg:"w-32 h-32"},T={sm:"h-6 w-6",md:"h-8 w-8",lg:"h-10 w-10"},Y=d.useCallback(async b=>{const N=b.target.files?.[0];if(!N)return;if(!N.type.startsWith("image/")){alert("Por favor, selecione uma imagem.");return}if(N.size>5*1024*1024){alert("A imagem deve ter no máximo 5MB.");return}u(!1);const D=new FileReader;D.onload=M=>{const k=M.target?.result;z(k),j(!0)},D.readAsDataURL(N),c.current&&(c.current.value="")},[]),$=d.useCallback(b=>{j(!1),z(null),l(!0),p(b),fetch(b).then(N=>N.blob()).then(async N=>{const D=new File([N],"avatar.jpg",{type:"image/jpeg"});await e(D,b),y(!0),setTimeout(()=>y(!1),2e3)}).catch(N=>{console.error("Upload failed",N)}).finally(()=>{l(!1)})},[e]),O=d.useCallback(()=>{j(!1),z(null)},[]),_=d.useCallback(()=>{p(null),u(!1),r?.()},[r]),C=d.useCallback(()=>{c.current?.click()},[]);return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[t.jsxs("div",{className:"relative",children:[t.jsxs(w.div,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>!a&&u(!m),className:F(L[s],"rounded-full overflow-hidden cursor-pointer","ring-4 ring-background shadow-xl","relative group"),children:[E?t.jsx(w.img,{initial:{opacity:0,scale:1.1},animate:{opacity:1,scale:1},src:E,alt:o,className:"w-full h-full object-cover"},E):t.jsx("div",{className:F("w-full h-full flex items-center justify-center","bg-gradient-to-br from-primary to-primary/70","text-white font-bold",s==="lg"?"text-4xl":s==="md"?"text-2xl":"text-lg"),children:V||t.jsx(he,{className:T[s]})}),t.jsx(w.div,{initial:{opacity:0},whileHover:{opacity:1},className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:n?t.jsx(ae,{className:"h-8 w-8 text-white animate-spin"}):t.jsx(lt,{className:"h-8 w-8 text-white"})}),t.jsx(ne,{children:v&&t.jsx(w.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},className:"absolute inset-0 bg-green-500/80 flex items-center justify-center",children:t.jsx(W,{className:"h-12 w-12 text-white"})})})]}),t.jsx(w.div,{whileHover:{scale:1.1},className:F("absolute -bottom-1 -right-1 p-2 rounded-full","bg-primary text-white shadow-lg cursor-pointer",a&&"opacity-50 cursor-not-allowed"),onClick:()=>!a&&C(),children:t.jsx(dt,{className:"h-4 w-4"})})]}),t.jsx(ne,{children:m&&!a&&t.jsxs(w.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"flex gap-2",children:[t.jsxs(P,{size:"sm",variant:"outline",onClick:C,className:"rounded-full",children:[t.jsx(ht,{className:"h-4 w-4 mr-1"}),E?"Trocar":"Adicionar"]}),E&&r&&t.jsxs(P,{size:"sm",variant:"outline",onClick:_,className:"rounded-full text-red-500 hover:text-red-600 hover:bg-red-50",children:[t.jsx(pt,{className:"h-4 w-4 mr-1"}),"Remover"]})]})}),t.jsx("input",{ref:c,type:"file",accept:"image/*",capture:"user",onChange:Y,className:"hidden"}),t.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Toque para alterar sua foto"})]}),g&&f&&t.jsx(Kt,{image:f,onCrop:$,onCancel:O})]})}const Q={async getProfile(){return(await K.get(G.users.me)).data},async updateProfile(i){return(await K.put(G.users.update,i)).data},async uploadAvatar(i){const o=new FormData;o.append("file",i);const e=at.getToken(),r=`${xt.baseURL}${G.users.avatar}`,a=await fetch(r,{method:"POST",headers:{Accept:"application/json",...e&&{Authorization:`Bearer ${e}`}},body:o});if(!a.ok){const c=await a.json().catch(()=>({}));throw new Error(c.message||"Falha no upload da imagem")}return await a.json()},async removeAvatar(){await K.delete(G.users.avatar)},async changePassword(i){await K.put(G.users.password,i)},async updateNotifications(i){return(await K.put(G.users.notifications,i)).data}};function Hr(){const i=rt(),{user:o,updateUser:e,logout:r,isAuthenticated:a}=mt(),[s,c]=d.useState(o?.nome||""),[n,l]=d.useState(o?.email||""),[h,p]=d.useState(o?.avatarUrl||""),[m,u]=d.useState(o?.address||{}),[v,y]=d.useState(""),[g,j]=d.useState(""),[f,z]=d.useState(""),[E,V]=d.useState(!1),[L,T]=d.useState(o?.notificationSettings?.reportsEnabled??!0),[Y,$]=d.useState(o?.notificationSettings?.eventsEnabled??!0),[O,_]=d.useState(o?.notificationSettings?.alertsEnabled??!0),[C,b]=d.useState(null),[N,D]=d.useState(!1),[M,k]=d.useState(!1),[U,A]=d.useState(null);d.useEffect(()=>{a||i("/login")},[a,i]);const be=d.useCallback(async x=>{if(x)try{const q=await Q.uploadAvatar(x);p(q.url),o&&e({...o,avatarUrl:q.url})}catch(q){console.error("Avatar upload failed:",q),A(Re(q))}},[o,e]),je=d.useCallback(async()=>{try{await Q.removeAvatar(),p(""),o&&e({...o,avatarUrl:void 0})}catch(x){console.error("Avatar remove failed:",x),A("Falha ao remover avatar")}},[o,e]),Ye=d.useCallback(async()=>{if(!s.trim()){A("Nome é obrigatório");return}D(!0),A(null);try{const x=await Q.updateProfile({nome:s.trim(),email:n.trim()||void 0});e(x),k(!0),setTimeout(()=>{k(!1),b(null)},1500)}catch(x){A(x instanceof Error?x.message:"Erro ao salvar")}finally{D(!1)}},[s,n,e]),$e=d.useCallback(async()=>{if(!m.cep||!m.logradouro){A("Preencha o endereço completo");return}D(!0),A(null);try{const x=await Q.updateProfile({address:m});e(x),k(!0),setTimeout(()=>{k(!1),b(null)},1500)}catch(x){A(x instanceof Error?x.message:"Erro ao salvar")}finally{D(!1)}},[m,e]),qe=d.useCallback(async()=>{if(!v||!g||!f){A("Preencha todos os campos de senha");return}if(g!==f){A("As senhas não conferem");return}if(!ct.test(g)){A("A nova senha deve ter min. 8 chars, maiúscula, minúscula e número.");return}D(!0),A(null);try{await Q.changePassword({currentPassword:v,newPassword:g,confirmPassword:f}),k(!0),y(""),j(""),z(""),setTimeout(()=>{k(!1),b(null)},1500)}catch(x){A(Re(x))}finally{D(!1)}},[v,g,f]),Ke=d.useCallback(()=>{r(),i("/login")},[r,i]),{setActiveTab:Ce}=ft(),Je=d.useCallback(x=>{Ce(x),i("/")},[Ce,i]);return o?t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-primary/10",children:[t.jsx(w.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"sticky top-0 z-50 bg-background/80 backdrop-blur-lg border-b",children:t.jsxs("div",{className:"flex items-center justify-between p-4",children:[t.jsx(P,{variant:"ghost",size:"icon",onClick:()=>C?b(null):i(-1),className:"rounded-xl",children:t.jsx(vt,{className:"h-5 w-5"})}),t.jsx("h1",{className:"font-semibold text-lg",children:C==="profile"?"Editar Perfil":C==="address"?"Editar Endereço":C==="password"?"Alterar Senha":C==="notifications"?"Notificações":"Minha Conta"}),t.jsx("div",{className:"w-10"})]})}),t.jsx("div",{className:"p-4 pb-24 space-y-6",children:t.jsxs(ne,{mode:"wait",children:[!C&&t.jsxs(w.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[t.jsxs(B,{className:"p-6 text-center",children:[t.jsx(Oe,{currentUrl:o.avatarUrl,name:o.nome,onUpload:be,onRemove:je,size:"lg"}),t.jsx("h2",{className:"text-xl font-bold mt-4",children:o.nome}),t.jsxs("p",{className:"text-muted-foreground flex items-center justify-center gap-1",children:[t.jsx(Pe,{className:"h-4 w-4"}),Ne(o.phone)]}),o.phoneVerified&&t.jsxs("div",{className:"mt-2 inline-flex items-center gap-1 px-2 py-1 rounded-full bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 text-xs",children:[t.jsx(W,{className:"h-3 w-3"}),"Verificado"]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs(w.button,{whileTap:{scale:.98},onClick:()=>b("profile"),className:"w-full flex items-center justify-between p-4 bg-card rounded-xl border",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:t.jsx(he,{className:"h-5 w-5 text-primary"})}),t.jsxs("div",{className:"text-left",children:[t.jsx("p",{className:"font-medium",children:"Dados pessoais"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Nome, e-mail e foto"})]})]}),t.jsx(ee,{className:"h-5 w-5 text-muted-foreground"})]}),t.jsxs(w.button,{whileTap:{scale:.98},onClick:()=>b("address"),className:"w-full flex items-center justify-between p-4 bg-card rounded-xl border",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10",children:t.jsx(Ee,{className:"h-5 w-5 text-blue-500"})}),t.jsxs("div",{className:"text-left",children:[t.jsx("p",{className:"font-medium",children:"Endereço"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:o.address?`${o.address.localidade||""}, ${o.address.uf||""}`:"Não cadastrado"})]})]}),t.jsx(ee,{className:"h-5 w-5 text-muted-foreground"})]}),t.jsxs(w.button,{whileTap:{scale:.98},onClick:()=>b("password"),className:"w-full flex items-center justify-between p-4 bg-card rounded-xl border",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-amber-500/10",children:t.jsx(de,{className:"h-5 w-5 text-amber-500"})}),t.jsxs("div",{className:"text-left",children:[t.jsx("p",{className:"font-medium",children:"Alterar senha"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Trocar sua senha de acesso"})]})]}),t.jsx(ee,{className:"h-5 w-5 text-muted-foreground"})]}),t.jsxs(w.button,{whileTap:{scale:.98},onClick:()=>b("notifications"),className:"w-full flex items-center justify-between p-4 bg-card rounded-xl border",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-purple-500/10",children:t.jsx(Ae,{className:"h-5 w-5 text-purple-500"})}),t.jsxs("div",{className:"text-left",children:[t.jsx("p",{className:"font-medium",children:"Notificações"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Configurar alertas"})]})]}),t.jsx(ee,{className:"h-5 w-5 text-muted-foreground"})]})]}),t.jsxs(P,{variant:"outline",size:"lg",onClick:Ke,className:"w-full h-14 rounded-2xl text-red-500 border-red-200 hover:bg-red-50 dark:border-red-800 dark:hover:bg-red-950/30",children:[t.jsx(gt,{className:"h-5 w-5 mr-2"}),"Sair da conta"]})]},"main"),C==="profile"&&t.jsxs(w.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[t.jsx(B,{className:"p-6",children:t.jsx(Oe,{currentUrl:h,name:s,onUpload:be,onRemove:je,size:"lg"})}),t.jsxs(B,{className:"p-4 space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs(H,{className:"flex items-center gap-2",children:[t.jsx(he,{className:"h-4 w-4"}),"Nome completo"]}),t.jsx(Z,{type:"text",value:s,onChange:x=>c(x.target.value),className:"h-12"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs(H,{className:"flex items-center gap-2",children:[t.jsx(wt,{className:"h-4 w-4"}),"E-mail"]}),t.jsx(Z,{type:"email",value:n,onChange:x=>l(x.target.value),placeholder:"seu@email.com",className:"h-12"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs(H,{className:"flex items-center gap-2",children:[t.jsx(Pe,{className:"h-4 w-4"}),"WhatsApp"]}),t.jsx(Z,{type:"tel",value:Ne(o.phone),disabled:!0,className:"h-12 bg-muted"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"O número de WhatsApp não pode ser alterado"})]})]}),U&&t.jsx(w.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-3 rounded-xl bg-red-50 dark:bg-red-950/30 border border-red-200 dark:border-red-800",children:t.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400 flex items-center gap-2",children:[t.jsx(te,{className:"h-4 w-4"}),U]})}),t.jsx(P,{size:"lg",onClick:Ye,disabled:N,className:F("w-full h-14 rounded-2xl text-lg font-semibold",M?"bg-green-600 hover:bg-green-600":"bg-gradient-to-r from-primary to-primary/80"),children:N?t.jsxs(t.Fragment,{children:[t.jsx(ae,{className:"h-5 w-5 mr-2 animate-spin"}),"Salvando..."]}):M?t.jsxs(t.Fragment,{children:[t.jsx(W,{className:"h-5 w-5 mr-2"}),"Salvo!"]}):t.jsxs(t.Fragment,{children:[t.jsx(De,{className:"h-5 w-5 mr-2"}),"Salvar alterações"]})})]},"profile"),C==="address"&&t.jsxs(w.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[t.jsx(B,{className:"p-4",children:t.jsx(ot,{value:m,onChange:u})}),U&&t.jsx(w.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-3 rounded-xl bg-red-50 dark:bg-red-950/30 border border-red-200 dark:border-red-800",children:t.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400 flex items-center gap-2",children:[t.jsx(te,{className:"h-4 w-4"}),U]})}),t.jsx(P,{size:"lg",onClick:$e,disabled:N,className:F("w-full h-14 rounded-2xl text-lg font-semibold",M?"bg-green-600 hover:bg-green-600":"bg-gradient-to-r from-primary to-primary/80"),children:N?t.jsxs(t.Fragment,{children:[t.jsx(ae,{className:"h-5 w-5 mr-2 animate-spin"}),"Salvando..."]}):M?t.jsxs(t.Fragment,{children:[t.jsx(W,{className:"h-5 w-5 mr-2"}),"Salvo!"]}):t.jsxs(t.Fragment,{children:[t.jsx(De,{className:"h-5 w-5 mr-2"}),"Salvar endereço"]})})]},"address"),C==="password"&&t.jsxs(w.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[t.jsxs(B,{className:"p-4 space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs(H,{className:"flex items-center gap-2",children:[t.jsx(ze,{className:"h-4 w-4"}),"Senha atual"]}),t.jsxs("div",{className:"relative",children:[t.jsx(Z,{type:E?"text":"password",value:v,onChange:x=>y(x.target.value),className:"h-12 pr-12"}),t.jsx(P,{type:"button",variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 -translate-y-1/2",onClick:()=>V(!E),children:E?t.jsx(yt,{className:"h-5 w-5"}):t.jsx(bt,{className:"h-5 w-5"})})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs(H,{className:"flex items-center gap-2",children:[t.jsx(de,{className:"h-4 w-4"}),"Nova senha"]}),t.jsx(Z,{type:E?"text":"password",value:g,onChange:x=>j(x.target.value),placeholder:"Mínimo 6 caracteres",className:"h-12"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs(H,{className:"flex items-center gap-2",children:[t.jsx(de,{className:"h-4 w-4"}),"Confirmar nova senha"]}),t.jsx(Z,{type:E?"text":"password",value:f,onChange:x=>z(x.target.value),className:F("h-12",f&&g!==f&&"border-red-400")}),f&&g!==f&&t.jsx("p",{className:"text-xs text-red-500",children:"As senhas não conferem"})]})]}),U&&t.jsx(w.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-3 rounded-xl bg-red-50 dark:bg-red-950/30 border border-red-200 dark:border-red-800",children:t.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400 flex items-center gap-2",children:[t.jsx(te,{className:"h-4 w-4"}),U]})}),t.jsx(P,{size:"lg",onClick:qe,disabled:N||!v||!g||!f,className:F("w-full h-14 rounded-2xl text-lg font-semibold",M?"bg-green-600 hover:bg-green-600":"bg-gradient-to-r from-primary to-primary/80"),children:N?t.jsxs(t.Fragment,{children:[t.jsx(ae,{className:"h-5 w-5 mr-2 animate-spin"}),"Alterando..."]}):M?t.jsxs(t.Fragment,{children:[t.jsx(W,{className:"h-5 w-5 mr-2"}),"Senha alterada!"]}):t.jsxs(t.Fragment,{children:[t.jsx(ze,{className:"h-5 w-5 mr-2"}),"Alterar senha"]})})]},"password"),C==="notifications"&&t.jsxs(w.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-4",children:[t.jsxs(B,{className:"p-4 space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-green-500/10",children:t.jsx(Ee,{className:"h-5 w-5 text-green-500"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:"Minhas denúncias"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Atualizações sobre suas denúncias"})]})]}),t.jsx(le,{checked:L,onCheckedChange:T})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10",children:t.jsx(Ae,{className:"h-5 w-5 text-blue-500"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:"Eventos"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Novos eventos na cidade"})]})]}),t.jsx(le,{checked:Y,onCheckedChange:$})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-amber-500/10",children:t.jsx(te,{className:"h-5 w-5 text-amber-500"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:"Alertas"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Alertas importantes da cidade"})]})]}),t.jsx(le,{checked:O,onCheckedChange:_})]})]}),t.jsx("p",{className:"text-xs text-muted-foreground text-center px-4",children:"Você receberá notificações via WhatsApp para as opções ativadas"})]},"notifications")]})}),t.jsx(ut,{activeTab:"mais",onTabChange:Je})]}):null}export{Hr as default};
