import{r as n}from"./vendor-app-B8nTTOoa.js";function d(r){const t=r.match(/\b(\d{6})\b/);return t?t[1]:null}function f(){const[r,t]=n.useState(null),[s,i]=n.useState(!1),a=typeof navigator<"u"&&"clipboard"in navigator&&typeof navigator.clipboard.readText=="function",c=n.useCallback(async()=>{if(!a)return null;try{const e=await navigator.clipboard.readText(),o=d(e);if(o)return t(o),i(!1),o}catch(e){console.debug("Clipboard read failed:",e)}return null},[a]),l=n.useCallback(()=>{t(null),i(!1)},[]);return n.useEffect(()=>{if(!a)return;const e=()=>{document.visibilityState==="visible"&&(i(!0),setTimeout(()=>{i(!1)},1e4))};return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}},[a]),{detectedCode:r,showPasteChip:s,readClipboard:c,clearDetectedCode:l,isSupported:a}}export{f as u};
