const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoginPage-BxoykR1i.js","assets/vendor-app-CFsuVmH9.js","assets/auth.service-BZPOLBHX.js","assets/card-DCECeHj3.js","assets/input-ClxaPzc5.js","assets/PhoneInput-cq6Z3dHS.js","assets/label-DFaz3-aU.js","assets/slider-CN-_Dayh.js","assets/useCityName-BRW09jaa.js","assets/AuthPage-D2w07IwS.js","assets/RegisterPage-BxGJC-IO.js","assets/confetti.module-B5JVzsfH.js","assets/OTPInput-Cf5eeYcd.js","assets/AddressAutocomplete-D41QnWX8.js","assets/auth-utils-B5I9WPFS.js","assets/ForgotPasswordPage-CvYET2YE.js","assets/ProfilePage-Cs7IhKrE.js","assets/switch-yizH50pb.js","assets/BottomTabBar-ChZqyQME.js","assets/useAppStore-x428ufYq.js","assets/bairros-Cf5Z_oCw.js","assets/MassesPage-Bxo7bYJI.js","assets/badge-Dv12eWed.js","assets/drawer-BHvj2gDJ.js","assets/checkbox-CdQustvD.js","assets/scroll-area-BTgtGLG2.js","assets/separator-CXoXjrYd.js","assets/pt-BR-CKou-_jD.js","assets/EventDetailsPage-1Uu1M8Aq.js","assets/useEventFilters-CCWWmw26.js","assets/useEventsApi-B06ZegKA.js","assets/TopicDetailPage-COWQJlpS.js","assets/useUploadImage-CqROKH_n.js","assets/skeleton-DYYlyahO.js","assets/CommentComposer-CJtPa7u-.js","assets/textarea-Bq5O6XfD.js","assets/dropdown-menu-CGKO6AWZ.js","assets/VoteDetailPage-ev6jQO_F.js","assets/votes-wH7N6FUY.js","assets/sheet-BXn8pupL.js","assets/votes.service--8T0OUeS.js","assets/LoginPromptSheet-C1RNHY8_.js","assets/VotesListPage-ahMZjW_P.js","assets/tabs-vWlLg9Oj.js","assets/select-BEtsTj19.js","assets/VereadoresListPage-CT4PxfzH.js","assets/avatar-Bjzmwdxr.js","assets/VereadorDetailPage-p3mo1AYy.js","assets/ReportWizardPage-CYFPazBR.js","assets/useMyReports-C9dCjspx.js","assets/CategoryIcon-BWoNIg7T.js","assets/iconify-Bxls-_w8.js","assets/LoginRequired-B9JeGfu8.js","assets/LocationMap-DdPeyNWA.js","assets/vendor-maps-CPsMBO3w.js","assets/useHaptic-D9J3ZOOx.js","assets/MyReportsPage-C1xzJ_WR.js","assets/ReportDetailPage-ai3YtGRa.js","assets/aspect-ratio-DtZ3Jx4e.js","assets/TourismDetailPage-BeaHAryj.js","assets/tourism.types-CYMpQcZr.js","assets/WeatherPage-V-J8j6Vu.js","assets/weather.service-MuzXONRR.js","assets/UsefulPhonesScreen-BtUoY8Jp.js","assets/TrashScheduleScreen-DLFpzVnh.js","assets/ForumScreen-CmWpe7uE.js","assets/useBairros-DWAhSDhx.js","assets/bairro.service-Sv2tOZKK.js","assets/ReportScreen-Cx6CN-76.js","assets/ReportsMapScreen-B0J3_ICh.js","assets/ReportsMapScreen-Dgihpmma.css","assets/AgendaScreen-PtreGdHd.js","assets/TourismScreen-CPOlrP4J.js","assets/MoreScreen-D3PHO_ed.js","assets/HomeScreen-5LLenNAg.js","assets/VehicleConsultationPage-B2d0BTJP.js","assets/vendor-html2img-BvVRVkKh.js","assets/MainLayout-CV1Mhl2_.js"])))=>i.map(i=>d[i]);
import{bS as no,r as $,d0 as oo,d1 as ao,j as f,d2 as xn,d3 as Sn,d4 as En,d5 as An,$ as so,d6 as In,d7 as jn,w as Tn,d8 as io,R as V,d9 as lo,da as _n,db as co,dc as uo,dd as fo,de as mo,df as po,h as ho,m as dt,a4 as Ir,C as go,br as yo,dg as vo,bz as Rn,dh as wo,di as bo,a as xo,H as So,A as Eo,M as jr,b as Tr,ab as Ao,_ as Io,ac as jo,dj as To,dk as _o,dl as Ro,dm as H,dn as Ye}from"./vendor-app-CFsuVmH9.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function a(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(r){if(r.ep)return;r.ep=!0;const n=a(r);fetch(r.href,n)}})();const Do="modulepreload",Co=function(e){return"/"+e},_r={},re=function(t,a,o){let r=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=c?.nonce||c?.getAttribute("nonce");r=Promise.allSettled(a.map(p=>{if(p=Co(p),p in _r)return;_r[p]=!0;const v=p.endsWith(".css"),i=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${i}`))return;const d=document.createElement("link");if(d.rel=v?"stylesheet":Do,v||(d.as="script"),d.crossOrigin="",d.href=p,u&&d.setAttribute("nonce",u),document.head.appendChild(d),v)return new Promise((l,s)=>{d.addEventListener("load",l),d.addEventListener("error",()=>s(new Error(`Unable to preload CSS for ${p}`)))})}))}function n(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return r.then(c=>{for(const u of c||[])u.status==="rejected"&&n(u.reason);return t().catch(n)})};var Dn,Rr=no;Dn=Rr.createRoot,Rr.hydrateRoot;function No(e={}){const{immediate:t=!1,onNeedRefresh:a,onOfflineReady:o,onRegistered:r,onRegisteredSW:n,onRegisterError:c}=e;let u,p;const v=async(d=!0)=>{await p};async function i(){if("serviceWorker"in navigator){if(u=await re(async()=>{const{Workbox:d}=await import("./workbox-window.prod.es5-vqzQaGvo.js");return{Workbox:d}},[]).then(({Workbox:d})=>new d("/sw.js",{scope:"/",type:"classic"})).catch(d=>{c?.(d)}),!u)return;u.addEventListener("activated",d=>{(d.isUpdate||d.isExternal)&&window.location.reload()}),u.addEventListener("installed",d=>{d.isUpdate||o?.()}),u.register({immediate:t}).then(d=>{n?n("/sw.js",d):r?.(d)}).catch(d=>{c?.(d)})}}return p=i(),v}const ko=1,Po=1e6;let Yt=0;function Mo(){return Yt=(Yt+1)%Number.MAX_SAFE_INTEGER,Yt.toString()}const Gt=new Map,Dr=e=>{if(Gt.has(e))return;const t=setTimeout(()=>{Gt.delete(e),_t({type:"REMOVE_TOAST",toastId:e})},Po);Gt.set(e,t)},Oo=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,ko)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(a=>a.id===t.toast.id?{...a,...t.toast}:a)};case"DISMISS_TOAST":{const{toastId:a}=t;return a?Dr(a):e.toasts.forEach(o=>{Dr(o.id)}),{...e,toasts:e.toasts.map(o=>o.id===a||a===void 0?{...o,open:!1}:o)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(a=>a.id!==t.toastId)}}},Pt=[];let Mt={toasts:[]};function _t(e){Mt=Oo(Mt,e),Pt.forEach(t=>{t(Mt)})}function Lo({...e}){const t=Mo(),a=r=>_t({type:"UPDATE_TOAST",toast:{...r,id:t}}),o=()=>_t({type:"DISMISS_TOAST",toastId:t});return _t({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:r=>{r||o()}}}),{id:t,dismiss:o,update:a}}function Fo(){const[e,t]=$.useState(Mt);return $.useEffect(()=>(Pt.push(t),()=>{const a=Pt.indexOf(t);a>-1&&Pt.splice(a,1)}),[e]),{...e,toast:Lo,dismiss:a=>_t({type:"DISMISS_TOAST",toastId:a})}}function st(...e){return oo(ao(e))}const Uo=io,Cn=$.forwardRef(({className:e,...t},a)=>f.jsx(xn,{ref:a,className:st("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Cn.displayName=xn.displayName;const Bo=Tn("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Nn=$.forwardRef(({className:e,variant:t,...a},o)=>f.jsx(Sn,{ref:o,className:st(Bo({variant:t}),e),...a}));Nn.displayName=Sn.displayName;const $o=$.forwardRef(({className:e,...t},a)=>f.jsx(En,{ref:a,className:st("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));$o.displayName=En.displayName;const kn=$.forwardRef(({className:e,...t},a)=>f.jsx(An,{ref:a,className:st("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:f.jsx(so,{className:"h-4 w-4"})}));kn.displayName=An.displayName;const Pn=$.forwardRef(({className:e,...t},a)=>f.jsx(In,{ref:a,className:st("text-sm font-semibold",e),...t}));Pn.displayName=In.displayName;const Mn=$.forwardRef(({className:e,...t},a)=>f.jsx(jn,{ref:a,className:st("text-sm opacity-90",e),...t}));Mn.displayName=jn.displayName;function zo(){const{toasts:e}=Fo();return f.jsxs(Uo,{children:[e.map(function({id:t,title:a,description:o,action:r,...n}){return f.jsxs(Nn,{...n,children:[f.jsxs("div",{className:"grid gap-1",children:[a&&f.jsx(Pn,{children:a}),o&&f.jsx(Mn,{children:o})]}),r,f.jsx(kn,{})]},t)}),f.jsx(Cn,{})]})}var Cr=["light","dark"],Vo="(prefers-color-scheme: dark)",Ho=$.createContext(void 0),Wo={setTheme:e=>{},themes:[]},Ko=()=>{var e;return(e=$.useContext(Ho))!=null?e:Wo};$.memo(({forcedTheme:e,storageKey:t,attribute:a,enableSystem:o,enableColorScheme:r,defaultTheme:n,value:c,attrs:u,nonce:p})=>{let v=n==="system",i=a==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${u.map(w=>`'${w}'`).join(",")})`};`:`var d=document.documentElement,n='${a}',s='setAttribute';`,d=r?Cr.includes(n)&&n?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${n}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",l=(w,S=!1,T=!0)=>{let x=c?c[w]:w,k=S?w+"|| ''":`'${x}'`,N="";return r&&T&&!S&&Cr.includes(w)&&(N+=`d.style.colorScheme = '${w}';`),a==="class"?S||x?N+=`c.add(${k})`:N+="null":x&&(N+=`d[s](n,${k})`),N},s=e?`!function(){${i}${l(e)}}()`:o?`!function(){try{${i}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${v})){var t='${Vo}',m=window.matchMedia(t);if(m.media!==t||m.matches){${l("dark")}}else{${l("light")}}}else if(e){${c?`var x=${JSON.stringify(c)};`:""}${l(c?"x[e]":"e",!0)}}${v?"":"else{"+l(n,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${i}var e=localStorage.getItem('${t}');if(e){${c?`var x=${JSON.stringify(c)};`:""}${l(c?"x[e]":"e",!0)}}else{${l(n,!1,!1)};}${d}}catch(t){}}();`;return $.createElement("script",{nonce:p,dangerouslySetInnerHTML:{__html:s}})});var Qo=e=>{switch(e){case"success":return Go;case"info":return Jo;case"warning":return Xo;case"error":return Zo;default:return null}},qo=Array(12).fill(0),Yo=({visible:e,className:t})=>V.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},V.createElement("div",{className:"sonner-spinner"},qo.map((a,o)=>V.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${o}`})))),Go=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Xo=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Jo=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Zo=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),ea=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},V.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),V.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),ta=()=>{let[e,t]=V.useState(document.hidden);return V.useEffect(()=>{let a=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",a),()=>window.removeEventListener("visibilitychange",a)},[]),e},or=1,ra=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:a,...o}=e,r=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:or++,n=this.toasts.find(u=>u.id===r),c=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(r)&&this.dismissedToasts.delete(r),n?this.toasts=this.toasts.map(u=>u.id===r?(this.publish({...u,...e,id:r,title:a}),{...u,...e,id:r,dismissible:c,title:a}):u):this.addToast({title:a,...o,dismissible:c,id:r}),r},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(a=>a({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let a;t.loading!==void 0&&(a=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let o=e instanceof Promise?e:e(),r=a!==void 0,n,c=o.then(async p=>{if(n=["resolve",p],V.isValidElement(p))r=!1,this.create({id:a,type:"default",message:p});else if(oa(p)&&!p.ok){r=!1;let v=typeof t.error=="function"?await t.error(`HTTP error! status: ${p.status}`):t.error,i=typeof t.description=="function"?await t.description(`HTTP error! status: ${p.status}`):t.description;this.create({id:a,type:"error",message:v,description:i})}else if(t.success!==void 0){r=!1;let v=typeof t.success=="function"?await t.success(p):t.success,i=typeof t.description=="function"?await t.description(p):t.description;this.create({id:a,type:"success",message:v,description:i})}}).catch(async p=>{if(n=["reject",p],t.error!==void 0){r=!1;let v=typeof t.error=="function"?await t.error(p):t.error,i=typeof t.description=="function"?await t.description(p):t.description;this.create({id:a,type:"error",message:v,description:i})}}).finally(()=>{var p;r&&(this.dismiss(a),a=void 0),(p=t.finally)==null||p.call(t)}),u=()=>new Promise((p,v)=>c.then(()=>n[0]==="reject"?v(n[1]):p(n[1])).catch(v));return typeof a!="string"&&typeof a!="number"?{unwrap:u}:Object.assign(a,{unwrap:u})},this.custom=(e,t)=>{let a=t?.id||or++;return this.create({jsx:e(a),id:a,...t}),a},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},je=new ra,na=(e,t)=>{let a=t?.id||or++;return je.addToast({title:e,...t,id:a}),a},oa=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",aa=na,sa=()=>je.toasts,ia=()=>je.getActiveToasts(),Ei=Object.assign(aa,{success:je.success,info:je.info,warning:je.warning,error:je.error,custom:je.custom,message:je.message,promise:je.promise,dismiss:je.dismiss,loading:je.loading},{getHistory:sa,getToasts:ia});function la(e,{insertAt:t}={}){if(typeof document>"u")return;let a=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",t==="top"&&a.firstChild?a.insertBefore(o,a.firstChild):a.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}la(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ct(e){return e.label!==void 0}var ca=3,da="32px",ua="16px",Nr=4e3,fa=356,ma=14,pa=20,ha=200;function Be(...e){return e.filter(Boolean).join(" ")}function ga(e){let[t,a]=e.split("-"),o=[];return t&&o.push(t),a&&o.push(a),o}var ya=e=>{var t,a,o,r,n,c,u,p,v,i,d;let{invert:l,toast:s,unstyled:w,interacting:S,setHeights:T,visibleToasts:x,heights:k,index:N,toasts:R,expanded:P,removeToast:b,defaultRichColors:O,closeButton:h,style:g,cancelButtonStyle:A,actionButtonStyle:_,className:I="",descriptionClassName:D="",duration:E,position:C,gap:y,loadingIcon:m,expandByDefault:F,classNames:j,icons:L,closeButtonAriaLabel:W="Close toast",pauseWhenPageIsHidden:B}=e,[z,U]=V.useState(null),[M,K]=V.useState(null),[q,Z]=V.useState(!1),[G,te]=V.useState(!1),[ae,de]=V.useState(!1),[ze,Pe]=V.useState(!1),[ce,me]=V.useState(!1),[ie,ne]=V.useState(0),[pe,ge]=V.useState(0),le=V.useRef(s.duration||E||Nr),be=V.useRef(null),oe=V.useRef(null),se=N===0,Ee=N+1<=x,ue=s.type,Le=s.dismissible!==!1,ye=s.className||"",qe=s.descriptionClassName||"",fe=V.useMemo(()=>k.findIndex(Q=>Q.toastId===s.id)||0,[k,s.id]),Re=V.useMemo(()=>{var Q;return(Q=s.closeButton)!=null?Q:h},[s.closeButton,h]),Ae=V.useMemo(()=>s.duration||E||Nr,[s.duration,E]),De=V.useRef(0),ve=V.useRef(0),Ve=V.useRef(0),He=V.useRef(null),[Qt,Et]=C.split("-"),At=V.useMemo(()=>k.reduce((Q,ee,J)=>J>=fe?Q:Q+ee.height,0),[k,fe]),Je=ta(),qt=s.invert||l,Me=ue==="loading";ve.current=V.useMemo(()=>fe*y+At,[fe,At]),V.useEffect(()=>{le.current=Ae},[Ae]),V.useEffect(()=>{Z(!0)},[]),V.useEffect(()=>{let Q=oe.current;if(Q){let ee=Q.getBoundingClientRect().height;return ge(ee),T(J=>[{toastId:s.id,height:ee,position:s.position},...J]),()=>T(J=>J.filter(he=>he.toastId!==s.id))}},[T,s.id]),V.useLayoutEffect(()=>{if(!q)return;let Q=oe.current,ee=Q.style.height;Q.style.height="auto";let J=Q.getBoundingClientRect().height;Q.style.height=ee,ge(J),T(he=>he.find(Fe=>Fe.toastId===s.id)?he.map(Fe=>Fe.toastId===s.id?{...Fe,height:J}:Fe):[{toastId:s.id,height:J,position:s.position},...he])},[q,s.title,s.description,T,s.id]);let we=V.useCallback(()=>{te(!0),ne(ve.current),T(Q=>Q.filter(ee=>ee.toastId!==s.id)),setTimeout(()=>{b(s)},ha)},[s,b,T,ve]);V.useEffect(()=>{if(s.promise&&ue==="loading"||s.duration===1/0||s.type==="loading")return;let Q;return P||S||B&&Je?(()=>{if(Ve.current<De.current){let ee=new Date().getTime()-De.current;le.current=le.current-ee}Ve.current=new Date().getTime()})():le.current!==1/0&&(De.current=new Date().getTime(),Q=setTimeout(()=>{var ee;(ee=s.onAutoClose)==null||ee.call(s,s),we()},le.current)),()=>clearTimeout(Q)},[P,S,s,ue,B,Je,we]),V.useEffect(()=>{s.delete&&we()},[we,s.delete]);function Ze(){var Q,ee,J;return L!=null&&L.loading?V.createElement("div",{className:Be(j?.loader,(Q=s?.classNames)==null?void 0:Q.loader,"sonner-loader"),"data-visible":ue==="loading"},L.loading):m?V.createElement("div",{className:Be(j?.loader,(ee=s?.classNames)==null?void 0:ee.loader,"sonner-loader"),"data-visible":ue==="loading"},m):V.createElement(Yo,{className:Be(j?.loader,(J=s?.classNames)==null?void 0:J.loader),visible:ue==="loading"})}return V.createElement("li",{tabIndex:0,ref:oe,className:Be(I,ye,j?.toast,(t=s?.classNames)==null?void 0:t.toast,j?.default,j?.[ue],(a=s?.classNames)==null?void 0:a[ue]),"data-sonner-toast":"","data-rich-colors":(o=s.richColors)!=null?o:O,"data-styled":!(s.jsx||s.unstyled||w),"data-mounted":q,"data-promise":!!s.promise,"data-swiped":ce,"data-removed":G,"data-visible":Ee,"data-y-position":Qt,"data-x-position":Et,"data-index":N,"data-front":se,"data-swiping":ae,"data-dismissible":Le,"data-type":ue,"data-invert":qt,"data-swipe-out":ze,"data-swipe-direction":M,"data-expanded":!!(P||F&&q),style:{"--index":N,"--toasts-before":N,"--z-index":R.length-N,"--offset":`${G?ie:ve.current}px`,"--initial-height":F?"auto":`${pe}px`,...g,...s.style},onDragEnd:()=>{de(!1),U(null),He.current=null},onPointerDown:Q=>{Me||!Le||(be.current=new Date,ne(ve.current),Q.target.setPointerCapture(Q.pointerId),Q.target.tagName!=="BUTTON"&&(de(!0),He.current={x:Q.clientX,y:Q.clientY}))},onPointerUp:()=>{var Q,ee,J,he;if(ze||!Le)return;He.current=null;let Fe=Number(((Q=oe.current)==null?void 0:Q.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),et=Number(((ee=oe.current)==null?void 0:ee.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),lt=new Date().getTime()-((J=be.current)==null?void 0:J.getTime()),Ue=z==="x"?Fe:et,tt=Math.abs(Ue)/lt;if(Math.abs(Ue)>=pa||tt>.11){ne(ve.current),(he=s.onDismiss)==null||he.call(s,s),K(z==="x"?Fe>0?"right":"left":et>0?"down":"up"),we(),Pe(!0),me(!1);return}de(!1),U(null)},onPointerMove:Q=>{var ee,J,he,Fe;if(!He.current||!Le||((ee=window.getSelection())==null?void 0:ee.toString().length)>0)return;let et=Q.clientY-He.current.y,lt=Q.clientX-He.current.x,Ue=(J=e.swipeDirections)!=null?J:ga(C);!z&&(Math.abs(lt)>1||Math.abs(et)>1)&&U(Math.abs(lt)>Math.abs(et)?"x":"y");let tt={x:0,y:0};z==="y"?(Ue.includes("top")||Ue.includes("bottom"))&&(Ue.includes("top")&&et<0||Ue.includes("bottom")&&et>0)&&(tt.y=et):z==="x"&&(Ue.includes("left")||Ue.includes("right"))&&(Ue.includes("left")&&lt<0||Ue.includes("right")&&lt>0)&&(tt.x=lt),(Math.abs(tt.x)>0||Math.abs(tt.y)>0)&&me(!0),(he=oe.current)==null||he.style.setProperty("--swipe-amount-x",`${tt.x}px`),(Fe=oe.current)==null||Fe.style.setProperty("--swipe-amount-y",`${tt.y}px`)}},Re&&!s.jsx?V.createElement("button",{"aria-label":W,"data-disabled":Me,"data-close-button":!0,onClick:Me||!Le?()=>{}:()=>{var Q;we(),(Q=s.onDismiss)==null||Q.call(s,s)},className:Be(j?.closeButton,(r=s?.classNames)==null?void 0:r.closeButton)},(n=L?.close)!=null?n:ea):null,s.jsx||$.isValidElement(s.title)?s.jsx?s.jsx:typeof s.title=="function"?s.title():s.title:V.createElement(V.Fragment,null,ue||s.icon||s.promise?V.createElement("div",{"data-icon":"",className:Be(j?.icon,(c=s?.classNames)==null?void 0:c.icon)},s.promise||s.type==="loading"&&!s.icon?s.icon||Ze():null,s.type!=="loading"?s.icon||L?.[ue]||Qo(ue):null):null,V.createElement("div",{"data-content":"",className:Be(j?.content,(u=s?.classNames)==null?void 0:u.content)},V.createElement("div",{"data-title":"",className:Be(j?.title,(p=s?.classNames)==null?void 0:p.title)},typeof s.title=="function"?s.title():s.title),s.description?V.createElement("div",{"data-description":"",className:Be(D,qe,j?.description,(v=s?.classNames)==null?void 0:v.description)},typeof s.description=="function"?s.description():s.description):null),$.isValidElement(s.cancel)?s.cancel:s.cancel&&Ct(s.cancel)?V.createElement("button",{"data-button":!0,"data-cancel":!0,style:s.cancelButtonStyle||A,onClick:Q=>{var ee,J;Ct(s.cancel)&&Le&&((J=(ee=s.cancel).onClick)==null||J.call(ee,Q),we())},className:Be(j?.cancelButton,(i=s?.classNames)==null?void 0:i.cancelButton)},s.cancel.label):null,$.isValidElement(s.action)?s.action:s.action&&Ct(s.action)?V.createElement("button",{"data-button":!0,"data-action":!0,style:s.actionButtonStyle||_,onClick:Q=>{var ee,J;Ct(s.action)&&((J=(ee=s.action).onClick)==null||J.call(ee,Q),!Q.defaultPrevented&&we())},className:Be(j?.actionButton,(d=s?.classNames)==null?void 0:d.actionButton)},s.action.label):null))};function kr(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function va(e,t){let a={};return[e,t].forEach((o,r)=>{let n=r===1,c=n?"--mobile-offset":"--offset",u=n?ua:da;function p(v){["top","right","bottom","left"].forEach(i=>{a[`${c}-${i}`]=typeof v=="number"?`${v}px`:v})}typeof o=="number"||typeof o=="string"?p(o):typeof o=="object"?["top","right","bottom","left"].forEach(v=>{o[v]===void 0?a[`${c}-${v}`]=u:a[`${c}-${v}`]=typeof o[v]=="number"?`${o[v]}px`:o[v]}):p(u)}),a}var wa=$.forwardRef(function(e,t){let{invert:a,position:o="bottom-right",hotkey:r=["altKey","KeyT"],expand:n,closeButton:c,className:u,offset:p,mobileOffset:v,theme:i="light",richColors:d,duration:l,style:s,visibleToasts:w=ca,toastOptions:S,dir:T=kr(),gap:x=ma,loadingIcon:k,icons:N,containerAriaLabel:R="Notifications",pauseWhenPageIsHidden:P}=e,[b,O]=V.useState([]),h=V.useMemo(()=>Array.from(new Set([o].concat(b.filter(B=>B.position).map(B=>B.position)))),[b,o]),[g,A]=V.useState([]),[_,I]=V.useState(!1),[D,E]=V.useState(!1),[C,y]=V.useState(i!=="system"?i:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),m=V.useRef(null),F=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=V.useRef(null),L=V.useRef(!1),W=V.useCallback(B=>{O(z=>{var U;return(U=z.find(M=>M.id===B.id))!=null&&U.delete||je.dismiss(B.id),z.filter(({id:M})=>M!==B.id)})},[]);return V.useEffect(()=>je.subscribe(B=>{if(B.dismiss){O(z=>z.map(U=>U.id===B.id?{...U,delete:!0}:U));return}setTimeout(()=>{lo.flushSync(()=>{O(z=>{let U=z.findIndex(M=>M.id===B.id);return U!==-1?[...z.slice(0,U),{...z[U],...B},...z.slice(U+1)]:[B,...z]})})})}),[]),V.useEffect(()=>{if(i!=="system"){y(i);return}if(i==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?y("dark"):y("light")),typeof window>"u")return;let B=window.matchMedia("(prefers-color-scheme: dark)");try{B.addEventListener("change",({matches:z})=>{y(z?"dark":"light")})}catch{B.addListener(({matches:U})=>{try{y(U?"dark":"light")}catch(M){console.error(M)}})}},[i]),V.useEffect(()=>{b.length<=1&&I(!1)},[b]),V.useEffect(()=>{let B=z=>{var U,M;r.every(K=>z[K]||z.code===K)&&(I(!0),(U=m.current)==null||U.focus()),z.code==="Escape"&&(document.activeElement===m.current||(M=m.current)!=null&&M.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",B),()=>document.removeEventListener("keydown",B)},[r]),V.useEffect(()=>{if(m.current)return()=>{j.current&&(j.current.focus({preventScroll:!0}),j.current=null,L.current=!1)}},[m.current]),V.createElement("section",{ref:t,"aria-label":`${R} ${F}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},h.map((B,z)=>{var U;let[M,K]=B.split("-");return b.length?V.createElement("ol",{key:B,dir:T==="auto"?kr():T,tabIndex:-1,ref:m,className:u,"data-sonner-toaster":!0,"data-theme":C,"data-y-position":M,"data-lifted":_&&b.length>1&&!n,"data-x-position":K,style:{"--front-toast-height":`${((U=g[0])==null?void 0:U.height)||0}px`,"--width":`${fa}px`,"--gap":`${x}px`,...s,...va(p,v)},onBlur:q=>{L.current&&!q.currentTarget.contains(q.relatedTarget)&&(L.current=!1,j.current&&(j.current.focus({preventScroll:!0}),j.current=null))},onFocus:q=>{q.target instanceof HTMLElement&&q.target.dataset.dismissible==="false"||L.current||(L.current=!0,j.current=q.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{D||I(!1)},onDragEnd:()=>I(!1),onPointerDown:q=>{q.target instanceof HTMLElement&&q.target.dataset.dismissible==="false"||E(!0)},onPointerUp:()=>E(!1)},b.filter(q=>!q.position&&z===0||q.position===B).map((q,Z)=>{var G,te;return V.createElement(ya,{key:q.id,icons:N,index:Z,toast:q,defaultRichColors:d,duration:(G=S?.duration)!=null?G:l,className:S?.className,descriptionClassName:S?.descriptionClassName,invert:a,visibleToasts:w,closeButton:(te=S?.closeButton)!=null?te:c,interacting:D,position:B,style:S?.style,unstyled:S?.unstyled,classNames:S?.classNames,cancelButtonStyle:S?.cancelButtonStyle,actionButtonStyle:S?.actionButtonStyle,removeToast:W,toasts:b.filter(ae=>ae.position==q.position),heights:g.filter(ae=>ae.position==q.position),setHeights:A,expandByDefault:n,gap:x,loadingIcon:k,expanded:_,pauseWhenPageIsHidden:P,swipeDirections:e.swipeDirections})})):null}))});const ba=({...e})=>{const{theme:t="system"}=Ko();return f.jsx(wa,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})},xa=co,Sa=$.forwardRef(({className:e,sideOffset:t=4,...a},o)=>f.jsx(_n,{ref:o,sideOffset:t,className:st("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a}));Sa.displayName=_n.displayName;var Ea=["added","removed","updated"];function Pr(e){return Ea.includes(e)}async function Aa({queryClient:e,persister:t,maxAge:a=1e3*60*60*24,buster:o="",hydrateOptions:r}){try{const n=await t.restoreClient();if(n)if(n.timestamp){const c=Date.now()-n.timestamp>a,u=n.buster!==o;if(c||u)return t.removeClient();uo(e,n.clientState,r)}else return t.removeClient()}catch(n){throw await t.removeClient(),n}}async function Mr({queryClient:e,persister:t,buster:a="",dehydrateOptions:o}){const r={buster:a,timestamp:Date.now(),clientState:fo(e,o)};await t.persistClient(r)}function Ia(e){const t=e.queryClient.getQueryCache().subscribe(o=>{Pr(o.type)&&Mr(e)}),a=e.queryClient.getMutationCache().subscribe(o=>{Pr(o.type)&&Mr(e)});return()=>{t(),a()}}var ja=({children:e,persistOptions:t,onSuccess:a,onError:o,...r})=>{const[n,c]=$.useState(!0),u=$.useRef({persistOptions:t,onSuccess:a,onError:o}),p=$.useRef(!1);return $.useEffect(()=>{u.current={persistOptions:t,onSuccess:a,onError:o}}),$.useEffect(()=>{const v={...u.current.persistOptions,queryClient:r.client};return p.current||(p.current=!0,Aa(v).then(()=>u.current.onSuccess?.()).catch(()=>u.current.onError?.()).finally(()=>{c(!1)})),n?void 0:Ia(v)},[r.client,n]),f.jsx(mo,{...r,children:f.jsx(po,{value:n,children:e})})};function On(){return navigator.connection||navigator.mozConnection||navigator.webkitConnection}function Or(){const e=On();return{isOnline:typeof navigator<"u"?navigator.onLine:!0,effectiveType:e?.effectiveType,downlink:e?.downlink,rtt:e?.rtt,saveData:e?.saveData}}function Ta(){const[e,t]=$.useState(Or),[a,o]=$.useState(!1),[r,n]=$.useState(null),c=$.useCallback(()=>{const u=Or();t(p=>(!p.isOnline&&u.isOnline&&(o(!0),n(new Date),setTimeout(()=>{o(!1)},5e3)),u))},[]);return $.useEffect(()=>{window.addEventListener("online",c),window.addEventListener("offline",c);const u=On();return u&&u.addEventListener("change",c),()=>{window.removeEventListener("online",c),window.removeEventListener("offline",c),u&&u.removeEventListener("change",c)}},[c]),{...e,wasOffline:a,backOnlineSince:r}}function _a({className:e=""}){const{isOnline:t,wasOffline:a,effectiveType:o}=Ta(),r=o==="slow-2g"||o==="2g",n=!t||a||r;return n?f.jsx(ho,{children:n&&f.jsx(dt.div,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},exit:{y:-100,opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:`fixed top-0 inset-x-0 z-50 safe-top ${e}`,children:f.jsxs("div",{className:"mx-auto max-w-[420px]",children:[!t&&f.jsxs("div",{className:"glass mx-3 mt-3 px-4 py-3 rounded-xl flex items-center gap-3 bg-yellow-500/90 text-white shadow-lg",children:[f.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-white/20",children:f.jsx(Ir,{className:"w-4 h-4"})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"text-sm font-semibold",children:"Você está offline"}),f.jsx("p",{className:"text-xs opacity-90",children:"Alguns recursos podem estar limitados"})]})]}),t&&a&&f.jsxs("div",{className:"glass mx-3 mt-3 px-4 py-3 rounded-xl flex items-center gap-3 bg-green-500/90 text-white shadow-lg",children:[f.jsx(dt.div,{initial:{scale:0},animate:{scale:1},className:"flex items-center justify-center w-8 h-8 rounded-full bg-white/20",children:f.jsx(go,{className:"w-4 h-4"})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"text-sm font-semibold",children:"Conexão restaurada"}),f.jsx("p",{className:"text-xs opacity-90",children:"Sincronizando dados..."})]}),f.jsx(yo,{className:"w-4 h-4 animate-spin"})]}),t&&!a&&r&&f.jsxs("div",{className:"glass mx-3 mt-3 px-4 py-2 rounded-xl flex items-center gap-3 bg-orange-500/90 text-white shadow-lg",children:[f.jsx("div",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-white/20",children:f.jsx(Ir,{className:"w-3 h-3"})}),f.jsx("p",{className:"text-xs font-medium",children:"Conexão lenta detectada"})]})]})})}):null}function St(e){return new Promise((t,a)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>a(e.error)})}function it(e,t){let a;const o=()=>{if(a)return a;const r=indexedDB.open(e);return r.onupgradeneeded=()=>r.result.createObjectStore(t),a=St(r),a.then(n=>{n.onclose=()=>a=void 0},()=>{}),a};return(r,n)=>o().then(c=>n(c.transaction(t,r).objectStore(t)))}let Xt;function Ht(){return Xt||(Xt=it("keyval-store","keyval")),Xt}function Ne(e,t=Ht()){return t("readonly",a=>St(a.get(e)))}function ke(e,t,a=Ht()){return a("readwrite",o=>(o.put(t,e),St(o.transaction)))}function Qe(e,t=Ht()){return t("readwrite",a=>(a.delete(e),St(a.transaction)))}function Ra(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},St(e.transaction)}function Oe(e=Ht()){return e("readonly",t=>{if(t.getAllKeys)return St(t.getAllKeys());const a=[];return Ra(t,o=>a.push(o.key)).then(()=>a)})}const Jt="etijucas-react-query-cache";function Da(){return{persistClient:async e=>{try{await ke(Jt,e)}catch(t){console.warn("Failed to persist React Query cache:",t)}},restoreClient:async()=>{try{return await Ne(Jt)}catch(e){console.warn("Failed to restore React Query cache:",e);return}},removeClient:async()=>{try{await Qe(Jt)}catch(e){console.warn("Failed to remove React Query cache:",e)}}}}const Ca=Da();function Na(){return f.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:f.jsxs("div",{className:"flex flex-col items-center gap-3",children:[f.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando..."})]})})}function ka({children:e,fallback:t}){return vo()?f.jsx(f.Fragment,{children:t??f.jsx(Na,{})}):f.jsx(f.Fragment,{children:e})}function Pa(e,t){let a;try{a=e()}catch{return}return{getItem:r=>{var n;const c=p=>p===null?null:JSON.parse(p,void 0),u=(n=a.getItem(r))!=null?n:null;return u instanceof Promise?u.then(c):c(u)},setItem:(r,n)=>a.setItem(r,JSON.stringify(n,void 0)),removeItem:r=>a.removeItem(r)}}const ar=e=>t=>{try{const a=e(t);return a instanceof Promise?a:{then(o){return ar(o)(a)},catch(o){return this}}}catch(a){return{then(o){return this},catch(o){return ar(o)(a)}}}},Ma=(e,t)=>(a,o,r)=>{let n={storage:Pa(()=>window.localStorage),partialize:T=>T,version:0,merge:(T,x)=>({...x,...T}),...t},c=!1,u=0;const p=new Set,v=new Set;let i=n.storage;if(!i)return e((...T)=>{console.warn(`[zustand persist middleware] Unable to update item '${n.name}', the given storage is currently unavailable.`),a(...T)},o,r);const d=()=>{const T=n.partialize({...o()});return i.setItem(n.name,{state:T,version:n.version})},l=r.setState;r.setState=(T,x)=>(l(T,x),d());const s=e((...T)=>(a(...T),d()),o,r);r.getInitialState=()=>s;let w;const S=()=>{var T,x;if(!i)return;const k=++u;c=!1,p.forEach(R=>{var P;return R((P=o())!=null?P:s)});const N=((x=n.onRehydrateStorage)==null?void 0:x.call(n,(T=o())!=null?T:s))||void 0;return ar(i.getItem.bind(i))(n.name).then(R=>{if(R)if(typeof R.version=="number"&&R.version!==n.version){if(n.migrate){const P=n.migrate(R.state,R.version);return P instanceof Promise?P.then(b=>[!0,b]):[!0,P]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,R.state];return[!1,void 0]}).then(R=>{var P;if(k!==u)return;const[b,O]=R;if(w=n.merge(O,(P=o())!=null?P:s),a(w,!0),b)return d()}).then(()=>{k===u&&(N?.(w,void 0),w=o(),c=!0,v.forEach(R=>R(w)))}).catch(R=>{k===u&&N?.(void 0,R)})};return r.persist={setOptions:T=>{n={...n,...T},T.storage&&(i=T.storage)},clearStorage:()=>{i?.removeItem(n.name)},getOptions:()=>n,rehydrate:()=>S(),hasHydrated:()=>c,onHydrate:T=>(p.add(T),()=>{p.delete(T)}),onFinishHydration:T=>(v.add(T),()=>{v.delete(T)})},n.skipHydration||S(),w||s},Ln=Ma,Oa={forum:"forum",events:"events",denuncias:"reports",reports:"reports",telefones:"phones",phones:"phones",alertas:"alerts",alerts:"alerts",turismo:"tourism",tourism:"tourism","coleta-lixo":"trash",trash:"trash",missas:"masses",masses:"masses",veiculos:"vehicles",vehicles:"vehicles",tempo:"weather",weather:"weather",votacoes:"voting",voting:"voting",vereadores:"council",council:"council"};function Zt(e){const t=e.toLowerCase().trim();return Oa[t]??t}function La(){return!1}const Xe=Rn()(Ln((e,t)=>({city:null,brand:null,modules:[],geo:null,tenantKey:null,tenantTimezone:null,isLoading:!1,isBootstrapped:!1,error:null,bootstrap:async a=>{e({isLoading:!0,error:null});try{const r=await fetch("/api/v1/config",{headers:{"X-City":a,Accept:"application/json"}});if(!r.ok){const v=await r.json().catch(()=>({}));throw new Error(v.message||"Cidade não encontrada")}const n=r.headers.get("X-Tenant-Key"),c=r.headers.get("X-Tenant-Timezone"),{data:u}=await r.json(),p=(u.modules||[]).map(v=>({...v,key:Zt(v.key||v.slug||""),slug:(v.slug||"").toLowerCase()}));return e({city:u.city,brand:u.brand,modules:p,geo:u.geo,tenantKey:n??null,tenantTimezone:c??u.city?.timezone??null,isLoading:!1,isBootstrapped:!0,error:null}),u.brand?.primaryColor&&document.documentElement.style.setProperty("--color-primary",u.brand.primaryColor),!0}catch(o){const r=o instanceof Error?o.message:"Erro ao carregar configuração";return e({error:r,isLoading:!1,isBootstrapped:!1}),!1}},syncTransportContext:({citySlug:a,tenantKey:o,tenantTimezone:r})=>e(n=>{const c={};return o&&o!==n.tenantKey&&(c.tenantKey=o),r&&r!==n.tenantTimezone?c.tenantTimezone=r:!n.tenantTimezone&&n.city?.timezone&&(c.tenantTimezone=n.city.timezone),a&&n.city&&a!==n.city.slug&&(c.city={...n.city,slug:a}),c}),clear:()=>e({city:null,brand:null,modules:[],geo:null,tenantKey:null,tenantTimezone:null,isBootstrapped:!1,error:null}),isModuleEnabled:a=>{const o=Zt(a);return t().modules.some(n=>{const c=Zt(n.key||n.slug||""),u=(n.slug||"").toLowerCase();return n.enabled!==!1&&(c===o||u===o)})?!0:La()&&!t().isBootstrapped},getCitySlug:()=>t().city?.slug??null}),{name:"etijucas-tenant",partialize:e=>({city:e.city,brand:e.brand,modules:e.modules,geo:e.geo,tenantKey:e.tenantKey,tenantTimezone:e.tenantTimezone,isBootstrapped:e.isBootstrapped})})),Fn=e=>{const t=typeof window<"u"?window.location.pathname:"",a=hr(t);return a||(Xe.getState().city?.slug??null)};function hr(e){const t=e.match(/^\/([a-z]{2})\/([a-z0-9-]+)/i);if(!t)return null;const[,a,o]=t;return`${o.toLowerCase()}-${a.toLowerCase()}`}function sr(){return hr(window.location.pathname)??"tijucas-sc"}const Ai=Object.freeze(Object.defineProperty({__proto__:null,extractCitySlugFromPath:hr,resolveCityFromUrl:sr,resolveCitySlugForRequest:Fn,useTenantStore:Xe},Symbol.toStringTag,{value:"Module"}));function Fa({module:e,children:t,fallback:a=null,silent:o=!1}){const r=Xe(c=>c.isModuleEnabled(e));return Xe(c=>c.isBootstrapped)?r?f.jsx(f.Fragment,{children:t}):o?null:f.jsx(f.Fragment,{children:a}):null}const rt=it("etijucas-reports","reports"),nt=it("etijucas-topics","topics"),Nt=it("etijucas-comments","comments"),ot=it("etijucas-sync","queue"),ct=it("etijucas-events","events"),It=it("etijucas-tourism","spots"),jt=it("etijucas-bairros","bairros");async function vt(e,t,a){try{return await e()}catch(o){return console.warn(`[localDatabase] ${a}:`,o),t}}const Rt={async getAll(){return vt(async()=>{const e=await Oe(rt),t=[];for(const a of e){const o=await Ne(a,rt);o&&t.push(o)}return t.sort((a,o)=>new Date(o.createdAt).getTime()-new Date(a.createdAt).getTime())},[],"Error getting reports")},async getById(e){return vt(()=>Ne(e,rt),void 0,"Error getting report by id")},async save(e){return vt(()=>ke(e.id,e,rt),void 0,"Error saving report")},async saveMany(e){return vt(async()=>{for(const t of e)await ke(t.id,t,rt)},void 0,"Error saving reports")},async delete(e){return vt(()=>Qe(e,rt),void 0,"Error deleting report")},async clear(){return vt(async()=>{const e=await Oe(rt);for(const t of e)await Qe(t,rt)},void 0,"Error clearing reports")}},Ii={async getAll(){try{const e=await Oe(nt),t=[];for(const a of e){const o=await Ne(a,nt);o&&t.push(o)}return t.sort((a,o)=>new Date(o.createdAt).getTime()-new Date(a.createdAt).getTime())}catch(e){return console.error("Error getting topics from IndexedDB:",e),[]}},async getById(e){try{return await Ne(e,nt)}catch(t){console.error("Error getting topic from IndexedDB:",t);return}},async save(e){try{await ke(e.id,e,nt)}catch(t){console.error("Error saving topic to IndexedDB:",t)}},async saveMany(e){try{for(const t of e)await ke(t.id,t,nt)}catch(t){console.error("Error saving topics to IndexedDB:",t)}},async update(e,t){try{const a=await Ne(e,nt);if(a){const o={...a,...t};return await ke(e,o,nt),o}}catch(a){console.error("Error updating topic in IndexedDB:",a)}},async delete(e){try{await Qe(e,nt)}catch(t){console.error("Error deleting topic from IndexedDB:",t)}}},ji={async getByTopicId(e){try{const t=await Oe(Nt),a=[];for(const o of t){const r=await Ne(o,Nt);r&&r.topicId===e&&a.push(r)}return a.sort((o,r)=>new Date(o.createdAt).getTime()-new Date(r.createdAt).getTime())}catch(t){return console.error("Error getting comments from IndexedDB:",t),[]}},async save(e){try{await ke(e.id,e,Nt)}catch(t){console.error("Error saving comment to IndexedDB:",t)}},async delete(e){try{await Qe(e,Nt)}catch(t){console.error("Error deleting comment from IndexedDB:",t)}}},Ti={async getAll(){try{const e=await Oe(ot),t=[];for(const a of e){const o=await Ne(a,ot);o&&t.push(o)}return t.sort((a,o)=>new Date(a.createdAt).getTime()-new Date(o.createdAt).getTime())}catch(e){return console.error("Error getting sync queue from IndexedDB:",e),[]}},async add(e){const t={...e,id:`sync-${Date.now()}-${Math.random().toString(36).slice(2)}`,createdAt:new Date,retryCount:0};try{await ke(t.id,t,ot)}catch(a){console.error("Error adding to sync queue:",a)}return t},async update(e,t){try{const a=await Ne(e,ot);a&&await ke(e,{...a,...t},ot)}catch(a){console.error("Error updating sync queue item:",a)}},async remove(e){try{await Qe(e,ot)}catch(t){console.error("Error removing from sync queue:",t)}},async clear(){try{const e=await Oe(ot);for(const t of e)await Qe(t,ot)}catch(e){console.error("Error clearing sync queue:",e)}},async exists(e){try{return(await this.getAll()).some(a=>a.idempotencyKey===e)}catch{return!1}}},_i={async getAll(){try{const e=await Oe(ct),t=[];for(const a of e){const o=await Ne(a,ct);o&&t.push(o)}return t.sort((a,o)=>{const r=a.startDateTime||a.dateTime,n=o.startDateTime||o.dateTime;return!r||!n?0:new Date(r).getTime()-new Date(n).getTime()})}catch(e){return console.error("Error getting events from IndexedDB:",e),[]}},async getById(e){try{return await Ne(e,ct)}catch(t){console.error("Error getting event from IndexedDB:",t);return}},async save(e){try{await ke(e.id,e,ct)}catch(t){console.error("Error saving event to IndexedDB:",t)}},async saveMany(e){try{for(const t of e)await ke(t.id,t,ct)}catch(t){console.error("Error saving events to IndexedDB:",t)}},async clear(){try{const e=await Oe(ct);for(const t of e)await Qe(t,ct)}catch(e){console.error("Error clearing events from IndexedDB:",e)}}},Ri={async getAll(){try{const e=await Oe(It),t=[];for(const a of e){const o=await Ne(a,It);o&&t.push(o)}return t}catch(e){return console.error("Error getting tourism spots from IndexedDB:",e),[]}},async saveMany(e){try{for(const t of e)await ke(t.id,t,It)}catch(t){console.error("Error saving tourism spots to IndexedDB:",t)}},async clear(){try{const e=await Oe(It);for(const t of e)await Qe(t,It)}catch(e){console.error("Error clearing tourism spots from IndexedDB:",e)}}},Di={async getAll(){try{const e=await Oe(jt),t=[];for(const a of e){const o=await Ne(a,jt);o&&t.push(o)}return t.sort((a,o)=>a.nome.localeCompare(o.nome,"pt-BR"))}catch(e){return console.error("Error getting bairros from IndexedDB:",e),[]}},async saveMany(e){try{for(const t of e)await ke(t.id,t,jt)}catch(t){console.error("Error saving bairros to IndexedDB:",t)}},async clear(){try{const e=await Oe(jt);for(const t of e)await Qe(t,jt)}catch(e){console.error("Error clearing bairros from IndexedDB:",e)}}},Ua="/api/v1",pt={baseURL:Ua,timeout:1e4,retryAttempts:3,retryDelay:1e3},Se={auth:{login:"/auth/login",sendOtp:"/auth/send-otp",resendOtp:"/auth/resend-otp",verifyOtp:"/auth/verify-otp",register:"/auth/register",forgotPassword:"/auth/forgot-password",resetPassword:"/auth/reset-password",refresh:"/auth/refresh",logout:"/auth/logout",me:"/auth/me"},users:{me:"/users/me",update:"/users/me",avatar:"/users/me/avatar",password:"/users/me/password",notifications:"/users/me/notifications"},reports:{categories:"/report-categories",create:"/reports",list:"/reports",map:"/reports/map",stats:"/reports/stats",myReports:"/reports/me",get:e=>`/reports/${e}`,addMedia:e=>`/reports/${e}/media`,removeMedia:(e,t)=>`/reports/${e}/media/${t}`,updateStatus:e=>`/reports/${e}/status`,adminList:"/admin/reports"},geocode:{autocomplete:"/geocode/autocomplete",reverse:"/geocode/reverse"},forum:{topics:"/forum/topics",topic:e=>`/forum/topics/${e}`,createTopic:"/forum/topics",updateTopic:e=>`/forum/topics/${e}`,deleteTopic:e=>`/forum/topics/${e}`,likeTopic:e=>`/forum/topics/${e}/like`,saveTopic:e=>`/forum/topics/${e}/save`,reportTopic:e=>`/forum/topics/${e}/report`,savedTopics:"/forum/saved",comments:e=>`/forum/topics/${e}/comments`,deleteComment:(e,t)=>`/forum/topics/${e}/comments/${t}`,likeComment:e=>`/forum/comments/${e}/like`,reportComment:e=>`/forum/comments/${e}/report`,upload:"/forum/upload"},topics:{list:"/forum/topics",get:e=>`/forum/topics/${e}`,create:"/forum/topics",update:e=>`/forum/topics/${e}`,delete:e=>`/forum/topics/${e}`,like:e=>`/forum/topics/${e}/like`,unlike:e=>`/forum/topics/${e}/like`,comments:e=>`/forum/topics/${e}/comments`},events:{list:"/events",get:e=>`/events/${e}`,upcoming:"/events/upcoming",today:"/events/today",weekend:"/events/weekend",featured:"/events/featured",search:"/events/search",homeFeatured:"/events/home-featured",calendarSummary:"/events/calendar-summary",byDate:e=>`/events/date/${e}`,byMonth:(e,t)=>`/events/month/${e}/${t}`,byCategory:e=>`/events/category/${e}`,byBairro:e=>`/events/bairro/${e}`,byVenue:e=>`/events/venue/${e}`,byTag:e=>`/events/tag/${e}`,byOrganizer:e=>`/events/organizer/${e}`,categories:"/events/categories",tags:"/events/tags",tagsTrending:"/events/tags/trending",rsvp:e=>`/events/${e}/rsvp`,attendees:e=>`/events/${e}/attendees`,favorite:e=>`/events/${e}/favorite`,myEvents:"/users/me/events",myFavorites:"/users/me/favorites/events"},trash:{schedules:"/trash/schedules",byBairro:e=>`/trash/schedules/bairro/${e}`,today:"/trash/today",next:"/trash/next",types:"/trash/types"},masses:{list:"/masses",byBairro:e=>`/masses/bairro/${e}`,today:"/masses/today",tomorrow:"/masses/tomorrow"},phones:{list:"/phones",byCategory:e=>`/phones/category/${e}`,search:"/phones/search"},alerts:{list:"/alerts",get:e=>`/alerts/${e}`,active:"/alerts/active"},bairros:{list:"/bairros",get:e=>`/bairros/${e}`},tourism:{spots:"/tourism/spots",get:e=>`/tourism/spots/${e}`,categories:"/tourism/categories",like:e=>`/tourism/spots/${e}/like`,save:e=>`/tourism/spots/${e}/save`,reviews:e=>`/tourism/spots/${e}/reviews`,createReview:e=>`/tourism/spots/${e}/reviews`,deleteReview:e=>`/tourism/reviews/${e}`},uploads:{image:"/uploads/image",images:"/uploads/images"},votes:{vereadores:"/vereadores",vereador:e=>`/vereadores/${e}`,vereadorVotacoes:e=>`/vereadores/${e}/votacoes`,votacoes:"/votacoes",votacao:e=>`/votacoes/${e}`,votacoesStats:"/votacoes/stats",votacoesAnos:"/votacoes/anos",partidos:"/partidos",legislaturas:"/legislaturas"},vehicles:{lookup:"/vehicles/lookup",stats:"/vehicles/stats"},plates:{recognize:"/plates/recognize"}},Ba={topics:{all:["topics"],list:e=>["topics","list",e],detail:e=>["topics","detail",e],comments:e=>["topics",e,"comments"]},tourism:{all:["tourism"],spots:e=>["tourism","spots",e],detail:e=>["tourism","detail",e],reviews:e=>["tourism",e,"reviews"],categories:["tourism","categories"]},votes:{all:["votes"],vereadores:e=>["votes","vereadores",e],vereador:e=>["votes","vereador",e],vereadorVotacoes:e=>["votes","vereador",e,"votacoes"],votacoes:e=>["votes","votacoes",e],votacao:e=>["votes","votacao",e],stats:["votes","stats"],anos:["votes","anos"],partidos:["votes","partidos"],legislaturas:["votes","legislaturas"]}},Ci=Object.freeze(Object.defineProperty({__proto__:null,API_CONFIG:pt,ENDPOINTS:Se,QUERY_KEYS:Ba},Symbol.toStringTag,{value:"Module"})),gr="etijucas_token",yr="etijucas_refresh_token";let Ot=!1,Tt=null;function vr(){return localStorage.getItem(gr)}function $a(){return localStorage.getItem(yr)}function Un(e,t){localStorage.setItem(gr,e),localStorage.setItem(yr,t)}function Ut(){localStorage.removeItem(gr),localStorage.removeItem(yr)}class Ce extends Error{constructor(t,a,o,r){super(t),this.status=a,this.code=o,this.errors=r,this.name="ApiError"}}const za=e=>new Promise(t=>setTimeout(t,e));function wr(e,t){const a=pt.baseURL.endsWith("/")?pt.baseURL.slice(0,-1):pt.baseURL,o=e.startsWith("/")?e:`/${e}`;let r=`${a}${o}`;if(t){const n=new URLSearchParams;Object.entries(t).forEach(([u,p])=>{p!=null&&n.append(u,String(p))});const c=n.toString();c&&(r+=(r.includes("?")?"&":"?")+c)}return r}function Va(e){if(typeof navigator<"u"&&"connection"in navigator){const t=navigator.connection;if(t?.saveData||t?.effectiveType==="slow-2g"||t?.effectiveType==="2g")return 3e3;if(t?.effectiveType==="3g")return 5e3}return e}function br(){const e=Fn();return e?{"X-City":e}:{}}function xr(e){const t=e.headers.get("X-Tenant-Key"),a=e.headers.get("X-Tenant-Timezone"),o=e.headers.get("X-Tenant-City");!t&&!a&&!o||Xe.getState().syncTransportContext({citySlug:o,tenantKey:t,tenantTimezone:a})}async function Ha(){if(Ot&&Tt)return Tt;const e=$a();return e?(Ot=!0,Tt=(async()=>{try{const t=await fetch(wr(Se.auth.refresh,void 0),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",...br()},body:JSON.stringify({refreshToken:e})});if(xr(t),!t.ok)return Ut(),null;const a=await t.json();return Un(a.token,a.refreshToken),a.token}catch{return Ut(),null}finally{Ot=!1,Tt=null}})(),Tt):null}async function ut(e,t={},a=1){if(typeof navigator<"u"&&!navigator.onLine)throw new Ce("Você está offline. Os dados serão sincronizados quando a conexão voltar.",0,"OFFLINE");const{params:o,timeout:r,...n}=t,c=r??Va(pt.timeout),u=wr(e,o),p=new AbortController,v=setTimeout(()=>p.abort(),c);try{const i=vr(),d={"Content-Type":"application/json",Accept:"application/json","X-App-Version":"1.0.0",...i&&{Authorization:`Bearer ${i}`},...br(),...n.headers},l=await fetch(u,{...n,signal:p.signal,headers:d});if(clearTimeout(v),xr(l),l.status===401){if(!t._skipRefresh&&!Ot&&await Ha())return ut(e,{...t,_skipRefresh:!0},a);throw Ut(),new Ce("Sessão expirada. Faça login novamente.",401,"UNAUTHENTICATED")}if(!l.ok){const s=await l.json().catch(()=>({}));throw new Ce(s.message||`HTTP ${l.status}: ${l.statusText}`,l.status,s.code,s.errors)}return l.status===204?{}:l.json()}catch(i){if(clearTimeout(v),i instanceof Ce&&i.status>=400&&i.status<500)throw i;if(a<pt.retryAttempts)return await za(pt.retryDelay*a),ut(e,t,a+1);throw i instanceof Error&&i.name==="AbortError"?new Ce("Request timeout",408):i instanceof Ce?i:new Ce(i instanceof Error?i.message:"Network error",0)}}const Ie={get:(e,t)=>ut(e,{method:"GET",params:t}),post:(e,t)=>ut(e,{method:"POST",body:t?JSON.stringify(t):void 0}),put:(e,t)=>ut(e,{method:"PUT",body:t?JSON.stringify(t):void 0}),patch:(e,t)=>ut(e,{method:"PATCH",body:t?JSON.stringify(t):void 0}),postFormData:async(e,t,a)=>{const o=wr(e),r=vr(),n={Accept:"application/json","X-App-Version":"1.0.0",...r&&{Authorization:`Bearer ${r}`},...br(),...a?.headers||{}},c=await fetch(o,{method:"POST",headers:n,body:t});if(xr(c),!c.ok){const u=await c.json().catch(()=>({}));throw new Ce(u.message||"Upload failed",c.status,u.code,u.errors)}return c.json()},delete:e=>ut(e,{method:"DELETE"})},Ni=Object.freeze(Object.defineProperty({__proto__:null,ApiError:Ce,apiClient:Ie,clearAuthToken:Ut,getAuthToken:vr,setTokens:Un},Symbol.toStringTag,{value:"Module"}));function Wa(e,t){return t.forEach(function(a){a&&typeof a!="string"&&!Array.isArray(a)&&Object.keys(a).forEach(function(o){if(o!=="default"&&!(o in e)){var r=Object.getOwnPropertyDescriptor(a,o);Object.defineProperty(e,o,r.get?r:{enumerable:!0,get:function(){return a[o]}})}})}),Object.freeze(e)}function Bn(e,t){return new Promise(function(a,o){let r;return Ka(e).then(function(n){try{return r=n,a(new Blob([t.slice(0,2),r,t.slice(2)],{type:"image/jpeg"}))}catch(c){return o(c)}},o)})}const Ka=e=>new Promise((t,a)=>{const o=new FileReader;o.addEventListener("load",({target:{result:r}})=>{const n=new DataView(r);let c=0;if(n.getUint16(c)!==65496)return a("not a valid JPEG");for(c+=2;;){const u=n.getUint16(c);if(u===65498)break;const p=n.getUint16(c+2);if(u===65505&&n.getUint32(c+4)===1165519206){const v=c+10;let i;switch(n.getUint16(v)){case 18761:i=!0;break;case 19789:i=!1;break;default:return a("TIFF header contains invalid endian")}if(n.getUint16(v+2,i)!==42)return a("TIFF header contains invalid version");const d=n.getUint32(v+4,i),l=v+d+2+12*n.getUint16(v+d,i);for(let s=v+d+2;s<l;s+=12)if(n.getUint16(s,i)==274){if(n.getUint16(s+2,i)!==3)return a("Orientation data type is invalid");if(n.getUint32(s+4,i)!==1)return a("Orientation data count is invalid");n.setUint16(s+8,1,i);break}return t(r.slice(c,c+2+p))}c+=2+p}return t(new Blob)}),o.readAsArrayBuffer(e)});var Bt={},Qa={get exports(){return Bt},set exports(e){Bt=e}};(function(e){var t,a,o={};Qa.exports=o,o.parse=function(r,n){for(var c=o.bin.readUshort,u=o.bin.readUint,p=0,v={},i=new Uint8Array(r),d=i.length-4;u(i,d)!=101010256;)d--;p=d,p+=4;var l=c(i,p+=4);c(i,p+=2);var s=u(i,p+=2),w=u(i,p+=4);p+=4,p=w;for(var S=0;S<l;S++){u(i,p),p+=4,p+=4,p+=4,u(i,p+=4),s=u(i,p+=4);var T=u(i,p+=4),x=c(i,p+=4),k=c(i,p+2),N=c(i,p+4);p+=6;var R=u(i,p+=8);p+=4,p+=x+k+N,o._readLocal(i,R,v,s,T,n)}return v},o._readLocal=function(r,n,c,u,p,v){var i=o.bin.readUshort,d=o.bin.readUint;d(r,n),i(r,n+=4),i(r,n+=2);var l=i(r,n+=2);d(r,n+=2),d(r,n+=4),n+=4;var s=i(r,n+=8),w=i(r,n+=2);n+=2;var S=o.bin.readUTF8(r,n,s);if(n+=s,n+=w,v)c[S]={size:p,csize:u};else{var T=new Uint8Array(r.buffer,n);if(l==0)c[S]=new Uint8Array(T.buffer.slice(n,n+u));else{if(l!=8)throw"unknown compression method: "+l;var x=new Uint8Array(p);o.inflateRaw(T,x),c[S]=x}}},o.inflateRaw=function(r,n){return o.F.inflate(r,n)},o.inflate=function(r,n){return r[0],r[1],o.inflateRaw(new Uint8Array(r.buffer,r.byteOffset+2,r.length-6),n)},o.deflate=function(r,n){n==null&&(n={level:6});var c=0,u=new Uint8Array(50+Math.floor(1.1*r.length));u[c]=120,u[c+1]=156,c+=2,c=o.F.deflateRaw(r,u,c,n.level);var p=o.adler(r,0,r.length);return u[c+0]=p>>>24&255,u[c+1]=p>>>16&255,u[c+2]=p>>>8&255,u[c+3]=p>>>0&255,new Uint8Array(u.buffer,0,c+4)},o.deflateRaw=function(r,n){n==null&&(n={level:6});var c=new Uint8Array(50+Math.floor(1.1*r.length)),u=o.F.deflateRaw(r,c,u,n.level);return new Uint8Array(c.buffer,0,u)},o.encode=function(r,n){n==null&&(n=!1);var c=0,u=o.bin.writeUint,p=o.bin.writeUshort,v={};for(var i in r){var d=!o._noNeed(i)&&!n,l=r[i],s=o.crc.crc(l,0,l.length);v[i]={cpr:d,usize:l.length,crc:s,file:d?o.deflateRaw(l):l}}for(var i in v)c+=v[i].file.length+30+46+2*o.bin.sizeUTF8(i);c+=22;var w=new Uint8Array(c),S=0,T=[];for(var i in v){var x=v[i];T.push(S),S=o._writeHeader(w,S,i,x,0)}var k=0,N=S;for(var i in v)x=v[i],T.push(S),S=o._writeHeader(w,S,i,x,1,T[k++]);var R=S-N;return u(w,S,101010256),S+=4,p(w,S+=4,k),p(w,S+=2,k),u(w,S+=2,R),u(w,S+=4,N),S+=4,S+=2,w.buffer},o._noNeed=function(r){var n=r.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(n)!=-1},o._writeHeader=function(r,n,c,u,p,v){var i=o.bin.writeUint,d=o.bin.writeUshort,l=u.file;return i(r,n,p==0?67324752:33639248),n+=4,p==1&&(n+=2),d(r,n,20),d(r,n+=2,0),d(r,n+=2,u.cpr?8:0),i(r,n+=2,0),i(r,n+=4,u.crc),i(r,n+=4,l.length),i(r,n+=4,u.usize),d(r,n+=4,o.bin.sizeUTF8(c)),d(r,n+=2,0),n+=2,p==1&&(n+=2,n+=2,i(r,n+=6,v),n+=4),n+=o.bin.writeUTF8(r,n,c),p==0&&(r.set(l,n),n+=l.length),n},o.crc={table:function(){for(var r=new Uint32Array(256),n=0;n<256;n++){for(var c=n,u=0;u<8;u++)1&c?c=3988292384^c>>>1:c>>>=1;r[n]=c}return r}(),update:function(r,n,c,u){for(var p=0;p<u;p++)r=o.crc.table[255&(r^n[c+p])]^r>>>8;return r},crc:function(r,n,c){return 4294967295^o.crc.update(4294967295,r,n,c)}},o.adler=function(r,n,c){for(var u=1,p=0,v=n,i=n+c;v<i;){for(var d=Math.min(v+5552,i);v<d;)p+=u+=r[v++];u%=65521,p%=65521}return p<<16|u},o.bin={readUshort:function(r,n){return r[n]|r[n+1]<<8},writeUshort:function(r,n,c){r[n]=255&c,r[n+1]=c>>8&255},readUint:function(r,n){return 16777216*r[n+3]+(r[n+2]<<16|r[n+1]<<8|r[n])},writeUint:function(r,n,c){r[n]=255&c,r[n+1]=c>>8&255,r[n+2]=c>>16&255,r[n+3]=c>>24&255},readASCII:function(r,n,c){for(var u="",p=0;p<c;p++)u+=String.fromCharCode(r[n+p]);return u},writeASCII:function(r,n,c){for(var u=0;u<c.length;u++)r[n+u]=c.charCodeAt(u)},pad:function(r){return r.length<2?"0"+r:r},readUTF8:function(r,n,c){for(var u,p="",v=0;v<c;v++)p+="%"+o.bin.pad(r[n+v].toString(16));try{u=decodeURIComponent(p)}catch{return o.bin.readASCII(r,n,c)}return u},writeUTF8:function(r,n,c){for(var u=c.length,p=0,v=0;v<u;v++){var i=c.charCodeAt(v);if(!(4294967168&i))r[n+p]=i,p++;else if(!(4294965248&i))r[n+p]=192|i>>6,r[n+p+1]=128|i>>0&63,p+=2;else if(!(4294901760&i))r[n+p]=224|i>>12,r[n+p+1]=128|i>>6&63,r[n+p+2]=128|i>>0&63,p+=3;else{if(4292870144&i)throw"e";r[n+p]=240|i>>18,r[n+p+1]=128|i>>12&63,r[n+p+2]=128|i>>6&63,r[n+p+3]=128|i>>0&63,p+=4}}return p},sizeUTF8:function(r){for(var n=r.length,c=0,u=0;u<n;u++){var p=r.charCodeAt(u);if(!(4294967168&p))c++;else if(!(4294965248&p))c+=2;else if(!(4294901760&p))c+=3;else{if(4292870144&p)throw"e";c+=4}}return c}},o.F={},o.F.deflateRaw=function(r,n,c,u){var p=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][u],v=o.F.U,i=o.F._goodIndex;o.F._hash;var d=o.F._putsE,l=0,s=c<<3,w=0,S=r.length;if(u==0){for(;l<S;)d(n,s,l+(_=Math.min(65535,S-l))==S?1:0),s=o.F._copyExact(r,l,_,n,s+8),l+=_;return s>>>3}var T=v.lits,x=v.strt,k=v.prev,N=0,R=0,P=0,b=0,O=0,h=0;for(S>2&&(x[h=o.F._hash(r,0)]=0),l=0;l<S;l++){if(O=h,l+1<S-2){h=o.F._hash(r,l+1);var g=l+1&32767;k[g]=x[h],x[h]=g}if(w<=l){(N>14e3||R>26697)&&S-l>100&&(w<l&&(T[N]=l-w,N+=2,w=l),s=o.F._writeBlock(l==S-1||w==S?1:0,T,N,b,r,P,l-P,n,s),N=R=b=0,P=l);var A=0;l<S-2&&(A=o.F._bestMatch(r,l,k,O,Math.min(p[2],S-l),p[3]));var _=A>>>16,I=65535&A;if(A!=0){I=65535&A;var D=i(_=A>>>16,v.of0);v.lhst[257+D]++;var E=i(I,v.df0);v.dhst[E]++,b+=v.exb[D]+v.dxb[E],T[N]=_<<23|l-w,T[N+1]=I<<16|D<<8|E,N+=2,w=l+_}else v.lhst[r[l]]++;R++}}for(P==l&&r.length!=0||(w<l&&(T[N]=l-w,N+=2,w=l),s=o.F._writeBlock(1,T,N,b,r,P,l-P,n,s),N=0,R=0,N=R=b=0,P=l);7&s;)s++;return s>>>3},o.F._bestMatch=function(r,n,c,u,p,v){var i=32767&n,d=c[i],l=i-d+32768&32767;if(d==i||u!=o.F._hash(r,n-l))return 0;for(var s=0,w=0,S=Math.min(32767,n);l<=S&&--v!=0&&d!=i;){if(s==0||r[n+s]==r[n+s-l]){var T=o.F._howLong(r,n,l);if(T>s){if(w=l,(s=T)>=p)break;l+2<T&&(T=l+2);for(var x=0,k=0;k<T-2;k++){var N=n-l+k+32768&32767,R=N-c[N]+32768&32767;R>x&&(x=R,d=N)}}}l+=(i=d)-(d=c[i])+32768&32767}return s<<16|w},o.F._howLong=function(r,n,c){if(r[n]!=r[n-c]||r[n+1]!=r[n+1-c]||r[n+2]!=r[n+2-c])return 0;var u=n,p=Math.min(r.length,n+258);for(n+=3;n<p&&r[n]==r[n-c];)n++;return n-u},o.F._hash=function(r,n){return(r[n]<<8|r[n+1])+(r[n+2]<<4)&65535},o.saved=0,o.F._writeBlock=function(r,n,c,u,p,v,i,d,l){var s,w,S,T,x,k,N,R,P,b=o.F.U,O=o.F._putsF,h=o.F._putsE;b.lhst[256]++,w=(s=o.F.getTrees())[0],S=s[1],T=s[2],x=s[3],k=s[4],N=s[5],R=s[6],P=s[7];var g=32+(l+3&7?8-(l+3&7):0)+(i<<3),A=u+o.F.contSize(b.fltree,b.lhst)+o.F.contSize(b.fdtree,b.dhst),_=u+o.F.contSize(b.ltree,b.lhst)+o.F.contSize(b.dtree,b.dhst);_+=14+3*N+o.F.contSize(b.itree,b.ihst)+(2*b.ihst[16]+3*b.ihst[17]+7*b.ihst[18]);for(var I=0;I<286;I++)b.lhst[I]=0;for(I=0;I<30;I++)b.dhst[I]=0;for(I=0;I<19;I++)b.ihst[I]=0;var D=g<A&&g<_?0:A<_?1:2;if(O(d,l,r),O(d,l+1,D),l+=3,D==0){for(;7&l;)l++;l=o.F._copyExact(p,v,i,d,l)}else{var E,C;if(D==1&&(E=b.fltree,C=b.fdtree),D==2){o.F.makeCodes(b.ltree,w),o.F.revCodes(b.ltree,w),o.F.makeCodes(b.dtree,S),o.F.revCodes(b.dtree,S),o.F.makeCodes(b.itree,T),o.F.revCodes(b.itree,T),E=b.ltree,C=b.dtree,h(d,l,x-257),h(d,l+=5,k-1),h(d,l+=5,N-4),l+=4;for(var y=0;y<N;y++)h(d,l+3*y,b.itree[1+(b.ordr[y]<<1)]);l+=3*N,l=o.F._codeTiny(R,b.itree,d,l),l=o.F._codeTiny(P,b.itree,d,l)}for(var m=v,F=0;F<c;F+=2){for(var j=n[F],L=j>>>23,W=m+(8388607&j);m<W;)l=o.F._writeLit(p[m++],E,d,l);if(L!=0){var B=n[F+1],z=B>>16,U=B>>8&255,M=255&B;h(d,l=o.F._writeLit(257+U,E,d,l),L-b.of0[U]),l+=b.exb[U],O(d,l=o.F._writeLit(M,C,d,l),z-b.df0[M]),l+=b.dxb[M],m+=L}}l=o.F._writeLit(256,E,d,l)}return l},o.F._copyExact=function(r,n,c,u,p){var v=p>>>3;return u[v]=c,u[v+1]=c>>>8,u[v+2]=255-u[v],u[v+3]=255-u[v+1],v+=4,u.set(new Uint8Array(r.buffer,n,c),v),p+(c+4<<3)},o.F.getTrees=function(){for(var r=o.F.U,n=o.F._hufTree(r.lhst,r.ltree,15),c=o.F._hufTree(r.dhst,r.dtree,15),u=[],p=o.F._lenCodes(r.ltree,u),v=[],i=o.F._lenCodes(r.dtree,v),d=0;d<u.length;d+=2)r.ihst[u[d]]++;for(d=0;d<v.length;d+=2)r.ihst[v[d]]++;for(var l=o.F._hufTree(r.ihst,r.itree,7),s=19;s>4&&r.itree[1+(r.ordr[s-1]<<1)]==0;)s--;return[n,c,l,p,i,s,u,v]},o.F.getSecond=function(r){for(var n=[],c=0;c<r.length;c+=2)n.push(r[c+1]);return n},o.F.nonZero=function(r){for(var n="",c=0;c<r.length;c+=2)r[c+1]!=0&&(n+=(c>>1)+",");return n},o.F.contSize=function(r,n){for(var c=0,u=0;u<n.length;u++)c+=n[u]*r[1+(u<<1)];return c},o.F._codeTiny=function(r,n,c,u){for(var p=0;p<r.length;p+=2){var v=r[p],i=r[p+1];u=o.F._writeLit(v,n,c,u);var d=v==16?2:v==17?3:7;v>15&&(o.F._putsE(c,u,i,d),u+=d)}return u},o.F._lenCodes=function(r,n){for(var c=r.length;c!=2&&r[c-1]==0;)c-=2;for(var u=0;u<c;u+=2){var p=r[u+1],v=u+3<c?r[u+3]:-1,i=u+5<c?r[u+5]:-1,d=u==0?-1:r[u-1];if(p==0&&v==p&&i==p){for(var l=u+5;l+2<c&&r[l+2]==p;)l+=2;(s=Math.min(l+1-u>>>1,138))<11?n.push(17,s-3):n.push(18,s-11),u+=2*s-2}else if(p==d&&v==p&&i==p){for(l=u+5;l+2<c&&r[l+2]==p;)l+=2;var s=Math.min(l+1-u>>>1,6);n.push(16,s-3),u+=2*s-2}else n.push(p,0)}return c>>>1},o.F._hufTree=function(r,n,c){var u=[],p=r.length,v=n.length,i=0;for(i=0;i<v;i+=2)n[i]=0,n[i+1]=0;for(i=0;i<p;i++)r[i]!=0&&u.push({lit:i,f:r[i]});var d=u.length,l=u.slice(0);if(d==0)return 0;if(d==1){var s=u[0].lit;return l=s==0?1:0,n[1+(s<<1)]=1,n[1+(l<<1)]=1,1}u.sort(function(R,P){return R.f-P.f});var w=u[0],S=u[1],T=0,x=1,k=2;for(u[0]={lit:-1,f:w.f+S.f,l:w,r:S,d:0};x!=d-1;)w=T!=x&&(k==d||u[T].f<u[k].f)?u[T++]:u[k++],S=T!=x&&(k==d||u[T].f<u[k].f)?u[T++]:u[k++],u[x++]={lit:-1,f:w.f+S.f,l:w,r:S};var N=o.F.setDepth(u[x-1],0);for(N>c&&(o.F.restrictDepth(l,c,N),N=c),i=0;i<d;i++)n[1+(l[i].lit<<1)]=l[i].d;return N},o.F.setDepth=function(r,n){return r.lit!=-1?(r.d=n,n):Math.max(o.F.setDepth(r.l,n+1),o.F.setDepth(r.r,n+1))},o.F.restrictDepth=function(r,n,c){var u=0,p=1<<c-n,v=0;for(r.sort(function(d,l){return l.d==d.d?d.f-l.f:l.d-d.d}),u=0;u<r.length&&r[u].d>n;u++){var i=r[u].d;r[u].d=n,v+=p-(1<<c-i)}for(v>>>=c-n;v>0;)(i=r[u].d)<n?(r[u].d++,v-=1<<n-i-1):u++;for(;u>=0;u--)r[u].d==n&&v<0&&(r[u].d--,v++);v!=0&&console.log("debt left")},o.F._goodIndex=function(r,n){var c=0;return n[16|c]<=r&&(c|=16),n[8|c]<=r&&(c|=8),n[4|c]<=r&&(c|=4),n[2|c]<=r&&(c|=2),n[1|c]<=r&&(c|=1),c},o.F._writeLit=function(r,n,c,u){return o.F._putsF(c,u,n[r<<1]),u+n[1+(r<<1)]},o.F.inflate=function(r,n){var c=Uint8Array;if(r[0]==3&&r[1]==0)return n||new c(0);var u=o.F,p=u._bitsF,v=u._bitsE,i=u._decodeTiny,d=u.makeCodes,l=u.codes2map,s=u._get17,w=u.U,S=n==null;S&&(n=new c(r.length>>>2<<3));for(var T,x,k=0,N=0,R=0,P=0,b=0,O=0,h=0,g=0,A=0;k==0;)if(k=p(r,A,1),N=p(r,A+1,2),A+=3,N!=0){if(S&&(n=o.F._check(n,g+(1<<17))),N==1&&(T=w.flmap,x=w.fdmap,O=511,h=31),N==2){R=v(r,A,5)+257,P=v(r,A+5,5)+1,b=v(r,A+10,4)+4,A+=14;for(var _=0;_<38;_+=2)w.itree[_]=0,w.itree[_+1]=0;var I=1;for(_=0;_<b;_++){var D=v(r,A+3*_,3);w.itree[1+(w.ordr[_]<<1)]=D,D>I&&(I=D)}A+=3*b,d(w.itree,I),l(w.itree,I,w.imap),T=w.lmap,x=w.dmap,A=i(w.imap,(1<<I)-1,R+P,r,A,w.ttree);var E=u._copyOut(w.ttree,0,R,w.ltree);O=(1<<E)-1;var C=u._copyOut(w.ttree,R,P,w.dtree);h=(1<<C)-1,d(w.ltree,E),l(w.ltree,E,T),d(w.dtree,C),l(w.dtree,C,x)}for(;;){var y=T[s(r,A)&O];A+=15&y;var m=y>>>4;if(!(m>>>8))n[g++]=m;else{if(m==256)break;var F=g+m-254;if(m>264){var j=w.ldef[m-257];F=g+(j>>>3)+v(r,A,7&j),A+=7&j}var L=x[s(r,A)&h];A+=15&L;var W=L>>>4,B=w.ddef[W],z=(B>>>4)+p(r,A,15&B);for(A+=15&B,S&&(n=o.F._check(n,g+(1<<17)));g<F;)n[g]=n[g++-z],n[g]=n[g++-z],n[g]=n[g++-z],n[g]=n[g++-z];g=F}}}else{7&A&&(A+=8-(7&A));var U=4+(A>>>3),M=r[U-4]|r[U-3]<<8;S&&(n=o.F._check(n,g+M)),n.set(new c(r.buffer,r.byteOffset+U,M),g),A=U+M<<3,g+=M}return n.length==g?n:n.slice(0,g)},o.F._check=function(r,n){var c=r.length;if(n<=c)return r;var u=new Uint8Array(Math.max(c<<1,n));return u.set(r,0),u},o.F._decodeTiny=function(r,n,c,u,p,v){for(var i=o.F._bitsE,d=o.F._get17,l=0;l<c;){var s=r[d(u,p)&n];p+=15&s;var w=s>>>4;if(w<=15)v[l]=w,l++;else{var S=0,T=0;w==16?(T=3+i(u,p,2),p+=2,S=v[l-1]):w==17?(T=3+i(u,p,3),p+=3):w==18&&(T=11+i(u,p,7),p+=7);for(var x=l+T;l<x;)v[l]=S,l++}}return p},o.F._copyOut=function(r,n,c,u){for(var p=0,v=0,i=u.length>>>1;v<c;){var d=r[v+n];u[v<<1]=0,u[1+(v<<1)]=d,d>p&&(p=d),v++}for(;v<i;)u[v<<1]=0,u[1+(v<<1)]=0,v++;return p},o.F.makeCodes=function(r,n){for(var c,u,p,v,i=o.F.U,d=r.length,l=i.bl_count,s=0;s<=n;s++)l[s]=0;for(s=1;s<d;s+=2)l[r[s]]++;var w=i.next_code;for(c=0,l[0]=0,u=1;u<=n;u++)c=c+l[u-1]<<1,w[u]=c;for(p=0;p<d;p+=2)(v=r[p+1])!=0&&(r[p]=w[v],w[v]++)},o.F.codes2map=function(r,n,c){for(var u=r.length,p=o.F.U.rev15,v=0;v<u;v+=2)if(r[v+1]!=0)for(var i=v>>1,d=r[v+1],l=i<<4|d,s=n-d,w=r[v]<<s,S=w+(1<<s);w!=S;)c[p[w]>>>15-n]=l,w++},o.F.revCodes=function(r,n){for(var c=o.F.U.rev15,u=15-n,p=0;p<r.length;p+=2){var v=r[p]<<n-r[p+1];r[p]=c[v]>>>u}},o.F._putsE=function(r,n,c){c<<=7&n;var u=n>>>3;r[u]|=c,r[u+1]|=c>>>8},o.F._putsF=function(r,n,c){c<<=7&n;var u=n>>>3;r[u]|=c,r[u+1]|=c>>>8,r[u+2]|=c>>>16},o.F._bitsE=function(r,n,c){return(r[n>>>3]|r[1+(n>>>3)]<<8)>>>(7&n)&(1<<c)-1},o.F._bitsF=function(r,n,c){return(r[n>>>3]|r[1+(n>>>3)]<<8|r[2+(n>>>3)]<<16)>>>(7&n)&(1<<c)-1},o.F._get17=function(r,n){return(r[n>>>3]|r[1+(n>>>3)]<<8|r[2+(n>>>3)]<<16)>>>(7&n)},o.F._get25=function(r,n){return(r[n>>>3]|r[1+(n>>>3)]<<8|r[2+(n>>>3)]<<16|r[3+(n>>>3)]<<24)>>>(7&n)},o.F.U=(t=Uint16Array,a=Uint32Array,{next_code:new t(16),bl_count:new t(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new t(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new a(32),flmap:new t(512),fltree:[],fdmap:new t(32),fdtree:[],lmap:new t(32768),ltree:[],ttree:[],dmap:new t(32768),dtree:[],imap:new t(512),itree:[],rev15:new t(32768),lhst:new a(286),dhst:new a(30),ihst:new a(19),lits:new a(15e3),strt:new t(65536),prev:new t(32768)}),function(){for(var r=o.F.U,n=0;n<32768;n++){var c=n;c=(4278255360&(c=(4042322160&(c=(3435973836&(c=(2863311530&c)>>>1|(1431655765&c)<<1))>>>2|(858993459&c)<<2))>>>4|(252645135&c)<<4))>>>8|(16711935&c)<<8,r.rev15[n]=(c>>>16|c<<16)>>>17}function u(p,v,i){for(;v--!=0;)p.push(0,i)}for(n=0;n<32;n++)r.ldef[n]=r.of0[n]<<3|r.exb[n],r.ddef[n]=r.df0[n]<<4|r.dxb[n];u(r.fltree,144,8),u(r.fltree,112,9),u(r.fltree,24,7),u(r.fltree,8,8),o.F.makeCodes(r.fltree,9),o.F.codes2map(r.fltree,9,r.flmap),o.F.revCodes(r.fltree,9),u(r.fdtree,32,5),o.F.makeCodes(r.fdtree,5),o.F.codes2map(r.fdtree,5,r.fdmap),o.F.revCodes(r.fdtree,5),u(r.itree,19,0),u(r.ltree,286,0),u(r.dtree,30,0),u(r.ttree,320,0)}()})();var qa=Wa({__proto__:null,default:Bt},[Bt]);const $e=function(){var e={nextZero(i,d){for(;i[d]!=0;)d++;return d},readUshort:(i,d)=>i[d]<<8|i[d+1],writeUshort(i,d,l){i[d]=l>>8&255,i[d+1]=255&l},readUint:(i,d)=>16777216*i[d]+(i[d+1]<<16|i[d+2]<<8|i[d+3]),writeUint(i,d,l){i[d]=l>>24&255,i[d+1]=l>>16&255,i[d+2]=l>>8&255,i[d+3]=255&l},readASCII(i,d,l){let s="";for(let w=0;w<l;w++)s+=String.fromCharCode(i[d+w]);return s},writeASCII(i,d,l){for(let s=0;s<l.length;s++)i[d+s]=l.charCodeAt(s)},readBytes(i,d,l){const s=[];for(let w=0;w<l;w++)s.push(i[d+w]);return s},pad:i=>i.length<2?`0${i}`:i,readUTF8(i,d,l){let s,w="";for(let S=0;S<l;S++)w+=`%${e.pad(i[d+S].toString(16))}`;try{s=decodeURIComponent(w)}catch{return e.readASCII(i,d,l)}return s}};function t(i,d,l,s){const w=d*l,S=n(s),T=Math.ceil(d*S/8),x=new Uint8Array(4*w),k=new Uint32Array(x.buffer),{ctype:N}=s,{depth:R}=s,P=e.readUshort;if(N==6){const j=w<<2;if(R==8)for(var b=0;b<j;b+=4)x[b]=i[b],x[b+1]=i[b+1],x[b+2]=i[b+2],x[b+3]=i[b+3];if(R==16)for(b=0;b<j;b++)x[b]=i[b<<1]}else if(N==2){const j=s.tabs.tRNS;if(j==null){if(R==8)for(b=0;b<w;b++){var O=3*b;k[b]=255<<24|i[O+2]<<16|i[O+1]<<8|i[O]}if(R==16)for(b=0;b<w;b++)O=6*b,k[b]=255<<24|i[O+4]<<16|i[O+2]<<8|i[O]}else{var h=j[0];const L=j[1],W=j[2];if(R==8)for(b=0;b<w;b++){var g=b<<2;O=3*b,k[b]=255<<24|i[O+2]<<16|i[O+1]<<8|i[O],i[O]==h&&i[O+1]==L&&i[O+2]==W&&(x[g+3]=0)}if(R==16)for(b=0;b<w;b++)g=b<<2,O=6*b,k[b]=255<<24|i[O+4]<<16|i[O+2]<<8|i[O],P(i,O)==h&&P(i,O+2)==L&&P(i,O+4)==W&&(x[g+3]=0)}}else if(N==3){const j=s.tabs.PLTE,L=s.tabs.tRNS,W=L?L.length:0;if(R==1)for(var A=0;A<l;A++){var _=A*T,I=A*d;for(b=0;b<d;b++){g=I+b<<2;var D=3*(E=i[_+(b>>3)]>>7-((7&b)<<0)&1);x[g]=j[D],x[g+1]=j[D+1],x[g+2]=j[D+2],x[g+3]=E<W?L[E]:255}}if(R==2)for(A=0;A<l;A++)for(_=A*T,I=A*d,b=0;b<d;b++)g=I+b<<2,D=3*(E=i[_+(b>>2)]>>6-((3&b)<<1)&3),x[g]=j[D],x[g+1]=j[D+1],x[g+2]=j[D+2],x[g+3]=E<W?L[E]:255;if(R==4)for(A=0;A<l;A++)for(_=A*T,I=A*d,b=0;b<d;b++)g=I+b<<2,D=3*(E=i[_+(b>>1)]>>4-((1&b)<<2)&15),x[g]=j[D],x[g+1]=j[D+1],x[g+2]=j[D+2],x[g+3]=E<W?L[E]:255;if(R==8)for(b=0;b<w;b++){var E;g=b<<2,D=3*(E=i[b]),x[g]=j[D],x[g+1]=j[D+1],x[g+2]=j[D+2],x[g+3]=E<W?L[E]:255}}else if(N==4){if(R==8)for(b=0;b<w;b++){g=b<<2;var C=i[y=b<<1];x[g]=C,x[g+1]=C,x[g+2]=C,x[g+3]=i[y+1]}if(R==16)for(b=0;b<w;b++){var y;g=b<<2,C=i[y=b<<2],x[g]=C,x[g+1]=C,x[g+2]=C,x[g+3]=i[y+2]}}else if(N==0)for(h=s.tabs.tRNS?s.tabs.tRNS:-1,A=0;A<l;A++){const j=A*T,L=A*d;if(R==1)for(var m=0;m<d;m++){var F=(C=255*(i[j+(m>>>3)]>>>7-(7&m)&1))==255*h?0:255;k[L+m]=F<<24|C<<16|C<<8|C}else if(R==2)for(m=0;m<d;m++)F=(C=85*(i[j+(m>>>2)]>>>6-((3&m)<<1)&3))==85*h?0:255,k[L+m]=F<<24|C<<16|C<<8|C;else if(R==4)for(m=0;m<d;m++)F=(C=17*(i[j+(m>>>1)]>>>4-((1&m)<<2)&15))==17*h?0:255,k[L+m]=F<<24|C<<16|C<<8|C;else if(R==8)for(m=0;m<d;m++)F=(C=i[j+m])==h?0:255,k[L+m]=F<<24|C<<16|C<<8|C;else if(R==16)for(m=0;m<d;m++)C=i[j+(m<<1)],F=P(i,j+(m<<1))==h?0:255,k[L+m]=F<<24|C<<16|C<<8|C}return x}function a(i,d,l,s){const w=n(i),S=Math.ceil(l*w/8),T=new Uint8Array((S+1+i.interlace)*s);return d=i.tabs.CgBI?r(d,T):o(d,T),i.interlace==0?d=c(d,i,0,l,s):i.interlace==1&&(d=function(k,N){const R=N.width,P=N.height,b=n(N),O=b>>3,h=Math.ceil(R*b/8),g=new Uint8Array(P*h);let A=0;const _=[0,0,4,0,2,0,1],I=[0,4,0,2,0,1,0],D=[8,8,8,4,4,2,2],E=[8,8,4,4,2,2,1];let C=0;for(;C<7;){const m=D[C],F=E[C];let j=0,L=0,W=_[C];for(;W<P;)W+=m,L++;let B=I[C];for(;B<R;)B+=F,j++;const z=Math.ceil(j*b/8);c(k,N,A,j,L);let U=0,M=_[C];for(;M<P;){let K=I[C],q=A+U*z<<3;for(;K<R;){var y;if(b==1&&(y=(y=k[q>>3])>>7-(7&q)&1,g[M*h+(K>>3)]|=y<<7-((7&K)<<0)),b==2&&(y=(y=k[q>>3])>>6-(7&q)&3,g[M*h+(K>>2)]|=y<<6-((3&K)<<1)),b==4&&(y=(y=k[q>>3])>>4-(7&q)&15,g[M*h+(K>>1)]|=y<<4-((1&K)<<2)),b>=8){const Z=M*h+K*O;for(let G=0;G<O;G++)g[Z+G]=k[(q>>3)+G]}q+=b,K+=F}U++,M+=m}j*L!=0&&(A+=L*(1+z)),C+=1}return g}(d,i)),d}function o(i,d){return r(new Uint8Array(i.buffer,2,i.length-6),d)}var r=function(){const i={H:{}};return i.H.N=function(d,l){const s=Uint8Array;let w,S,T=0,x=0,k=0,N=0,R=0,P=0,b=0,O=0,h=0;if(d[0]==3&&d[1]==0)return l||new s(0);const g=i.H,A=g.b,_=g.e,I=g.R,D=g.n,E=g.A,C=g.Z,y=g.m,m=l==null;for(m&&(l=new s(d.length>>>2<<5));T==0;)if(T=A(d,h,1),x=A(d,h+1,2),h+=3,x!=0){if(m&&(l=i.H.W(l,O+(1<<17))),x==1&&(w=y.J,S=y.h,P=511,b=31),x==2){k=_(d,h,5)+257,N=_(d,h+5,5)+1,R=_(d,h+10,4)+4,h+=14;let j=1;for(var F=0;F<38;F+=2)y.Q[F]=0,y.Q[F+1]=0;for(F=0;F<R;F++){const B=_(d,h+3*F,3);y.Q[1+(y.X[F]<<1)]=B,B>j&&(j=B)}h+=3*R,D(y.Q,j),E(y.Q,j,y.u),w=y.w,S=y.d,h=I(y.u,(1<<j)-1,k+N,d,h,y.v);const L=g.V(y.v,0,k,y.C);P=(1<<L)-1;const W=g.V(y.v,k,N,y.D);b=(1<<W)-1,D(y.C,L),E(y.C,L,w),D(y.D,W),E(y.D,W,S)}for(;;){const j=w[C(d,h)&P];h+=15&j;const L=j>>>4;if(!(L>>>8))l[O++]=L;else{if(L==256)break;{let W=O+L-254;if(L>264){const K=y.q[L-257];W=O+(K>>>3)+_(d,h,7&K),h+=7&K}const B=S[C(d,h)&b];h+=15&B;const z=B>>>4,U=y.c[z],M=(U>>>4)+A(d,h,15&U);for(h+=15&U;O<W;)l[O]=l[O++-M],l[O]=l[O++-M],l[O]=l[O++-M],l[O]=l[O++-M];O=W}}}}else{7&h&&(h+=8-(7&h));const j=4+(h>>>3),L=d[j-4]|d[j-3]<<8;m&&(l=i.H.W(l,O+L)),l.set(new s(d.buffer,d.byteOffset+j,L),O),h=j+L<<3,O+=L}return l.length==O?l:l.slice(0,O)},i.H.W=function(d,l){const s=d.length;if(l<=s)return d;const w=new Uint8Array(s<<1);return w.set(d,0),w},i.H.R=function(d,l,s,w,S,T){const x=i.H.e,k=i.H.Z;let N=0;for(;N<s;){const R=d[k(w,S)&l];S+=15&R;const P=R>>>4;if(P<=15)T[N]=P,N++;else{let b=0,O=0;P==16?(O=3+x(w,S,2),S+=2,b=T[N-1]):P==17?(O=3+x(w,S,3),S+=3):P==18&&(O=11+x(w,S,7),S+=7);const h=N+O;for(;N<h;)T[N]=b,N++}}return S},i.H.V=function(d,l,s,w){let S=0,T=0;const x=w.length>>>1;for(;T<s;){const k=d[T+l];w[T<<1]=0,w[1+(T<<1)]=k,k>S&&(S=k),T++}for(;T<x;)w[T<<1]=0,w[1+(T<<1)]=0,T++;return S},i.H.n=function(d,l){const s=i.H.m,w=d.length;let S,T,x,k;const N=s.j;for(var R=0;R<=l;R++)N[R]=0;for(R=1;R<w;R+=2)N[d[R]]++;const P=s.K;for(S=0,N[0]=0,T=1;T<=l;T++)S=S+N[T-1]<<1,P[T]=S;for(x=0;x<w;x+=2)k=d[x+1],k!=0&&(d[x]=P[k],P[k]++)},i.H.A=function(d,l,s){const w=d.length,S=i.H.m.r;for(let T=0;T<w;T+=2)if(d[T+1]!=0){const x=T>>1,k=d[T+1],N=x<<4|k,R=l-k;let P=d[T]<<R;const b=P+(1<<R);for(;P!=b;)s[S[P]>>>15-l]=N,P++}},i.H.l=function(d,l){const s=i.H.m.r,w=15-l;for(let S=0;S<d.length;S+=2){const T=d[S]<<l-d[S+1];d[S]=s[T]>>>w}},i.H.M=function(d,l,s){s<<=7&l;const w=l>>>3;d[w]|=s,d[w+1]|=s>>>8},i.H.I=function(d,l,s){s<<=7&l;const w=l>>>3;d[w]|=s,d[w+1]|=s>>>8,d[w+2]|=s>>>16},i.H.e=function(d,l,s){return(d[l>>>3]|d[1+(l>>>3)]<<8)>>>(7&l)&(1<<s)-1},i.H.b=function(d,l,s){return(d[l>>>3]|d[1+(l>>>3)]<<8|d[2+(l>>>3)]<<16)>>>(7&l)&(1<<s)-1},i.H.Z=function(d,l){return(d[l>>>3]|d[1+(l>>>3)]<<8|d[2+(l>>>3)]<<16)>>>(7&l)},i.H.i=function(d,l){return(d[l>>>3]|d[1+(l>>>3)]<<8|d[2+(l>>>3)]<<16|d[3+(l>>>3)]<<24)>>>(7&l)},i.H.m=function(){const d=Uint16Array,l=Uint32Array;return{K:new d(16),j:new d(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new d(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new l(32),J:new d(512),_:[],h:new d(32),$:[],w:new d(32768),C:[],v:[],d:new d(32768),D:[],u:new d(512),Q:[],r:new d(32768),s:new l(286),Y:new l(30),a:new l(19),t:new l(15e3),k:new d(65536),g:new d(32768)}}(),function(){const d=i.H.m;for(var l=0;l<32768;l++){let w=l;w=(2863311530&w)>>>1|(1431655765&w)<<1,w=(3435973836&w)>>>2|(858993459&w)<<2,w=(4042322160&w)>>>4|(252645135&w)<<4,w=(4278255360&w)>>>8|(16711935&w)<<8,d.r[l]=(w>>>16|w<<16)>>>17}function s(w,S,T){for(;S--!=0;)w.push(0,T)}for(l=0;l<32;l++)d.q[l]=d.S[l]<<3|d.T[l],d.c[l]=d.p[l]<<4|d.z[l];s(d._,144,8),s(d._,112,9),s(d._,24,7),s(d._,8,8),i.H.n(d._,9),i.H.A(d._,9,d.J),i.H.l(d._,9),s(d.$,32,5),i.H.n(d.$,5),i.H.A(d.$,5,d.h),i.H.l(d.$,5),s(d.Q,19,0),s(d.C,286,0),s(d.D,30,0),s(d.v,320,0)}(),i.H.N}();function n(i){return[1,null,3,1,2,null,4][i.ctype]*i.depth}function c(i,d,l,s,w){let S=n(d);const T=Math.ceil(s*S/8);let x,k;S=Math.ceil(S/8);let N=i[l],R=0;if(N>1&&(i[l]=[0,0,1][N-2]),N==3)for(R=S;R<T;R++)i[R+1]=i[R+1]+(i[R+1-S]>>>1)&255;for(let P=0;P<w;P++)if(x=l+P*T,k=x+P+1,N=i[k-1],R=0,N==0)for(;R<T;R++)i[x+R]=i[k+R];else if(N==1){for(;R<S;R++)i[x+R]=i[k+R];for(;R<T;R++)i[x+R]=i[k+R]+i[x+R-S]}else if(N==2)for(;R<T;R++)i[x+R]=i[k+R]+i[x+R-T];else if(N==3){for(;R<S;R++)i[x+R]=i[k+R]+(i[x+R-T]>>>1);for(;R<T;R++)i[x+R]=i[k+R]+(i[x+R-T]+i[x+R-S]>>>1)}else{for(;R<S;R++)i[x+R]=i[k+R]+u(0,i[x+R-T],0);for(;R<T;R++)i[x+R]=i[k+R]+u(i[x+R-S],i[x+R-T],i[x+R-S-T])}return i}function u(i,d,l){const s=i+d-l,w=s-i,S=s-d,T=s-l;return w*w<=S*S&&w*w<=T*T?i:S*S<=T*T?d:l}function p(i,d,l){l.width=e.readUint(i,d),d+=4,l.height=e.readUint(i,d),d+=4,l.depth=i[d],d++,l.ctype=i[d],d++,l.compress=i[d],d++,l.filter=i[d],d++,l.interlace=i[d],d++}function v(i,d,l,s,w,S,T,x,k){const N=Math.min(d,w),R=Math.min(l,S);let P=0,b=0;for(let C=0;C<R;C++)for(let y=0;y<N;y++)if(T>=0&&x>=0?(P=C*d+y<<2,b=(x+C)*w+T+y<<2):(P=(-x+C)*d-T+y<<2,b=C*w+y<<2),k==0)s[b]=i[P],s[b+1]=i[P+1],s[b+2]=i[P+2],s[b+3]=i[P+3];else if(k==1){var O=i[P+3]*.00392156862745098,h=i[P]*O,g=i[P+1]*O,A=i[P+2]*O,_=s[b+3]*(1/255),I=s[b]*_,D=s[b+1]*_,E=s[b+2]*_;const m=1-O,F=O+_*m,j=F==0?0:1/F;s[b+3]=255*F,s[b+0]=(h+I*m)*j,s[b+1]=(g+D*m)*j,s[b+2]=(A+E*m)*j}else if(k==2)O=i[P+3],h=i[P],g=i[P+1],A=i[P+2],_=s[b+3],I=s[b],D=s[b+1],E=s[b+2],O==_&&h==I&&g==D&&A==E?(s[b]=0,s[b+1]=0,s[b+2]=0,s[b+3]=0):(s[b]=h,s[b+1]=g,s[b+2]=A,s[b+3]=O);else if(k==3){if(O=i[P+3],h=i[P],g=i[P+1],A=i[P+2],_=s[b+3],I=s[b],D=s[b+1],E=s[b+2],O==_&&h==I&&g==D&&A==E)continue;if(O<220&&_>20)return!1}return!0}return{decode:function(d){const l=new Uint8Array(d);let s=8;const w=e,S=w.readUshort,T=w.readUint,x={tabs:{},frames:[]},k=new Uint8Array(l.length);let N,R=0,P=0;const b=[137,80,78,71,13,10,26,10];for(var O=0;O<8;O++)if(l[O]!=b[O])throw"The input is not a PNG file!";for(;s<l.length;){const C=w.readUint(l,s);s+=4;const y=w.readASCII(l,s,4);if(s+=4,y=="IHDR")p(l,s,x);else if(y=="iCCP"){for(var h=s;l[h]!=0;)h++;w.readASCII(l,s,h-s),l[h+1];const m=l.slice(h+2,s+C);let F=null;try{F=o(m)}catch{F=r(m)}x.tabs[y]=F}else if(y=="CgBI")x.tabs[y]=l.slice(s,s+4);else if(y=="IDAT"){for(O=0;O<C;O++)k[R+O]=l[s+O];R+=C}else if(y=="acTL")x.tabs[y]={num_frames:T(l,s),num_plays:T(l,s+4)},N=new Uint8Array(l.length);else if(y=="fcTL"){P!=0&&((E=x.frames[x.frames.length-1]).data=a(x,N.slice(0,P),E.rect.width,E.rect.height),P=0);const m={x:T(l,s+12),y:T(l,s+16),width:T(l,s+4),height:T(l,s+8)};let F=S(l,s+22);F=S(l,s+20)/(F==0?100:F);const j={rect:m,delay:Math.round(1e3*F),dispose:l[s+24],blend:l[s+25]};x.frames.push(j)}else if(y=="fdAT"){for(O=0;O<C-4;O++)N[P+O]=l[s+O+4];P+=C-4}else if(y=="pHYs")x.tabs[y]=[w.readUint(l,s),w.readUint(l,s+4),l[s+8]];else if(y=="cHRM")for(x.tabs[y]=[],O=0;O<8;O++)x.tabs[y].push(w.readUint(l,s+4*O));else if(y=="tEXt"||y=="zTXt"){x.tabs[y]==null&&(x.tabs[y]={});var g=w.nextZero(l,s),A=w.readASCII(l,s,g-s),_=s+C-g-1;if(y=="tEXt")D=w.readASCII(l,g+1,_);else{var I=o(l.slice(g+2,g+2+_));D=w.readUTF8(I,0,I.length)}x.tabs[y][A]=D}else if(y=="iTXt"){x.tabs[y]==null&&(x.tabs[y]={}),g=0,h=s,g=w.nextZero(l,h),A=w.readASCII(l,h,g-h);const m=l[h=g+1];var D;l[h+1],h+=2,g=w.nextZero(l,h),w.readASCII(l,h,g-h),h=g+1,g=w.nextZero(l,h),w.readUTF8(l,h,g-h),_=C-((h=g+1)-s),m==0?D=w.readUTF8(l,h,_):(I=o(l.slice(h,h+_)),D=w.readUTF8(I,0,I.length)),x.tabs[y][A]=D}else if(y=="PLTE")x.tabs[y]=w.readBytes(l,s,C);else if(y=="hIST"){const m=x.tabs.PLTE.length/3;for(x.tabs[y]=[],O=0;O<m;O++)x.tabs[y].push(S(l,s+2*O))}else if(y=="tRNS")x.ctype==3?x.tabs[y]=w.readBytes(l,s,C):x.ctype==0?x.tabs[y]=S(l,s):x.ctype==2&&(x.tabs[y]=[S(l,s),S(l,s+2),S(l,s+4)]);else if(y=="gAMA")x.tabs[y]=w.readUint(l,s)/1e5;else if(y=="sRGB")x.tabs[y]=l[s];else if(y=="bKGD")x.ctype==0||x.ctype==4?x.tabs[y]=[S(l,s)]:x.ctype==2||x.ctype==6?x.tabs[y]=[S(l,s),S(l,s+2),S(l,s+4)]:x.ctype==3&&(x.tabs[y]=l[s]);else if(y=="IEND")break;s+=C,w.readUint(l,s),s+=4}var E;return P!=0&&((E=x.frames[x.frames.length-1]).data=a(x,N.slice(0,P),E.rect.width,E.rect.height)),x.data=a(x,k,x.width,x.height),delete x.compress,delete x.interlace,delete x.filter,x},toRGBA8:function(d){const l=d.width,s=d.height;if(d.tabs.acTL==null)return[t(d.data,l,s,d).buffer];const w=[];d.frames[0].data==null&&(d.frames[0].data=d.data);const S=l*s*4,T=new Uint8Array(S),x=new Uint8Array(S),k=new Uint8Array(S);for(let R=0;R<d.frames.length;R++){const P=d.frames[R],b=P.rect.x,O=P.rect.y,h=P.rect.width,g=P.rect.height,A=t(P.data,h,g,d);if(R!=0)for(var N=0;N<S;N++)k[N]=T[N];if(P.blend==0?v(A,h,g,T,l,s,b,O,0):P.blend==1&&v(A,h,g,T,l,s,b,O,1),w.push(T.buffer.slice(0)),P.dispose!=0){if(P.dispose==1)v(x,h,g,T,l,s,b,O,0);else if(P.dispose==2)for(N=0;N<S;N++)T[N]=k[N]}}return w},_paeth:u,_copyTile:v,_bin:e}}();(function(){const{_copyTile:e}=$e,{_bin:t}=$e,a=$e._paeth;var o={table:function(){const h=new Uint32Array(256);for(let g=0;g<256;g++){let A=g;for(let _=0;_<8;_++)1&A?A=3988292384^A>>>1:A>>>=1;h[g]=A}return h}(),update(h,g,A,_){for(let I=0;I<_;I++)h=o.table[255&(h^g[A+I])]^h>>>8;return h},crc:(h,g,A)=>4294967295^o.update(4294967295,h,g,A)};function r(h,g,A,_){g[A]+=h[0]*_>>4,g[A+1]+=h[1]*_>>4,g[A+2]+=h[2]*_>>4,g[A+3]+=h[3]*_>>4}function n(h){return Math.max(0,Math.min(255,h))}function c(h,g){const A=h[0]-g[0],_=h[1]-g[1],I=h[2]-g[2],D=h[3]-g[3];return A*A+_*_+I*I+D*D}function u(h,g,A,_,I,D,E){E==null&&(E=1);const C=_.length,y=[];for(var m=0;m<C;m++){const M=_[m];y.push([M>>>0&255,M>>>8&255,M>>>16&255,M>>>24&255])}for(m=0;m<C;m++){let M=4294967295;for(var F=0,j=0;j<C;j++){var L=c(y[m],y[j]);j!=m&&L<M&&(M=L,F=j)}}const W=new Uint32Array(I.buffer),B=new Int16Array(g*A*4),z=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(m=0;m<z.length;m++)z[m]=255*((z[m]+.5)/16-.5);for(let M=0;M<A;M++)for(let K=0;K<g;K++){var U;m=4*(M*g+K),E!=2?U=[n(h[m]+B[m]),n(h[m+1]+B[m+1]),n(h[m+2]+B[m+2]),n(h[m+3]+B[m+3])]:(L=z[4*(3&M)+(3&K)],U=[n(h[m]+L),n(h[m+1]+L),n(h[m+2]+L),n(h[m+3]+L)]),F=0;let q=16777215;for(j=0;j<C;j++){const te=c(U,y[j]);te<q&&(q=te,F=j)}const Z=y[F],G=[U[0]-Z[0],U[1]-Z[1],U[2]-Z[2],U[3]-Z[3]];E==1&&(K!=g-1&&r(G,B,m+4,7),M!=A-1&&(K!=0&&r(G,B,m+4*g-4,3),r(G,B,m+4*g,5),K!=g-1&&r(G,B,m+4*g+4,1))),D[m>>2]=F,W[m>>2]=_[F]}}function p(h,g,A,_,I){I==null&&(I={});const{crc:D}=o,E=t.writeUint,C=t.writeUshort,y=t.writeASCII;let m=8;const F=h.frames.length>1;let j,L=!1,W=33+(F?20:0);if(I.sRGB!=null&&(W+=13),I.pHYs!=null&&(W+=21),I.iCCP!=null&&(j=pako.deflate(I.iCCP),W+=21+j.length+4),h.ctype==3){for(var B=h.plte.length,z=0;z<B;z++)h.plte[z]>>>24!=255&&(L=!0);W+=8+3*B+4+(L?8+1*B+4:0)}for(var U=0;U<h.frames.length;U++)F&&(W+=38),W+=(Z=h.frames[U]).cimg.length+12,U!=0&&(W+=4);W+=12;const M=new Uint8Array(W),K=[137,80,78,71,13,10,26,10];for(z=0;z<8;z++)M[z]=K[z];if(E(M,m,13),m+=4,y(M,m,"IHDR"),m+=4,E(M,m,g),m+=4,E(M,m,A),m+=4,M[m]=h.depth,m++,M[m]=h.ctype,m++,M[m]=0,m++,M[m]=0,m++,M[m]=0,m++,E(M,m,D(M,m-17,17)),m+=4,I.sRGB!=null&&(E(M,m,1),m+=4,y(M,m,"sRGB"),m+=4,M[m]=I.sRGB,m++,E(M,m,D(M,m-5,5)),m+=4),I.iCCP!=null){const G=13+j.length;E(M,m,G),m+=4,y(M,m,"iCCP"),m+=4,y(M,m,"ICC profile"),m+=11,m+=2,M.set(j,m),m+=j.length,E(M,m,D(M,m-(G+4),G+4)),m+=4}if(I.pHYs!=null&&(E(M,m,9),m+=4,y(M,m,"pHYs"),m+=4,E(M,m,I.pHYs[0]),m+=4,E(M,m,I.pHYs[1]),m+=4,M[m]=I.pHYs[2],m++,E(M,m,D(M,m-13,13)),m+=4),F&&(E(M,m,8),m+=4,y(M,m,"acTL"),m+=4,E(M,m,h.frames.length),m+=4,E(M,m,I.loop!=null?I.loop:0),m+=4,E(M,m,D(M,m-12,12)),m+=4),h.ctype==3){for(E(M,m,3*(B=h.plte.length)),m+=4,y(M,m,"PLTE"),m+=4,z=0;z<B;z++){const G=3*z,te=h.plte[z],ae=255&te,de=te>>>8&255,ze=te>>>16&255;M[m+G+0]=ae,M[m+G+1]=de,M[m+G+2]=ze}if(m+=3*B,E(M,m,D(M,m-3*B-4,3*B+4)),m+=4,L){for(E(M,m,B),m+=4,y(M,m,"tRNS"),m+=4,z=0;z<B;z++)M[m+z]=h.plte[z]>>>24&255;m+=B,E(M,m,D(M,m-B-4,B+4)),m+=4}}let q=0;for(U=0;U<h.frames.length;U++){var Z=h.frames[U];F&&(E(M,m,26),m+=4,y(M,m,"fcTL"),m+=4,E(M,m,q++),m+=4,E(M,m,Z.rect.width),m+=4,E(M,m,Z.rect.height),m+=4,E(M,m,Z.rect.x),m+=4,E(M,m,Z.rect.y),m+=4,C(M,m,_[U]),m+=2,C(M,m,1e3),m+=2,M[m]=Z.dispose,m++,M[m]=Z.blend,m++,E(M,m,D(M,m-30,30)),m+=4);const G=Z.cimg;E(M,m,(B=G.length)+(U==0?0:4)),m+=4;const te=m;y(M,m,U==0?"IDAT":"fdAT"),m+=4,U!=0&&(E(M,m,q++),m+=4),M.set(G,m),m+=B,E(M,m,D(M,te,m-te)),m+=4}return E(M,m,0),m+=4,y(M,m,"IEND"),m+=4,E(M,m,D(M,m-4,4)),m+=4,M.buffer}function v(h,g,A){for(let _=0;_<h.frames.length;_++){const I=h.frames[_];I.rect.width;const D=I.rect.height,E=new Uint8Array(D*I.bpl+D);I.cimg=s(I.img,D,I.bpp,I.bpl,E,g,A)}}function i(h,g,A,_,I){const D=I[0],E=I[1],C=I[2],y=I[3],m=I[4],F=I[5];let j=6,L=8,W=255;for(var B=0;B<h.length;B++){const me=new Uint8Array(h[B]);for(var z=me.length,U=0;U<z;U+=4)W&=me[U+3]}const M=W!=255,K=function(ie,ne,pe,ge,le,be){const oe=[];for(var se=0;se<ie.length;se++){const fe=new Uint8Array(ie[se]),Re=new Uint32Array(fe.buffer);var Ee;let Ae=0,De=0,ve=ne,Ve=pe,He=ge?1:0;if(se!=0){const Qt=be||ge||se==1||oe[se-2].dispose!=0?1:2;let Et=0,At=1e9;for(let Je=0;Je<Qt;Je++){var ue=new Uint8Array(ie[se-1-Je]);const qt=new Uint32Array(ie[se-1-Je]);let Me=ne,we=pe,Ze=-1,Q=-1;for(let J=0;J<pe;J++)for(let he=0;he<ne;he++)Re[ye=J*ne+he]!=qt[ye]&&(he<Me&&(Me=he),he>Ze&&(Ze=he),J<we&&(we=J),J>Q&&(Q=J));Ze==-1&&(Me=we=Ze=Q=0),le&&((1&Me)==1&&Me--,(1&we)==1&&we--);const ee=(Ze-Me+1)*(Q-we+1);ee<At&&(At=ee,Et=Je,Ae=Me,De=we,ve=Ze-Me+1,Ve=Q-we+1)}ue=new Uint8Array(ie[se-1-Et]),Et==1&&(oe[se-1].dispose=2),Ee=new Uint8Array(ve*Ve*4),e(ue,ne,pe,Ee,ve,Ve,-Ae,-De,0),He=e(fe,ne,pe,Ee,ve,Ve,-Ae,-De,3)?1:0,He==1?l(fe,ne,pe,Ee,{x:Ae,y:De,width:ve,height:Ve}):e(fe,ne,pe,Ee,ve,Ve,-Ae,-De,0)}else Ee=fe.slice(0);oe.push({rect:{x:Ae,y:De,width:ve,height:Ve},img:Ee,blend:He,dispose:0})}if(ge)for(se=0;se<oe.length;se++){if((qe=oe[se]).blend==1)continue;const fe=qe.rect,Re=oe[se-1].rect,Ae=Math.min(fe.x,Re.x),De=Math.min(fe.y,Re.y),ve={x:Ae,y:De,width:Math.max(fe.x+fe.width,Re.x+Re.width)-Ae,height:Math.max(fe.y+fe.height,Re.y+Re.height)-De};oe[se-1].dispose=1,se-1!=0&&d(ie,ne,pe,oe,se-1,ve,le),d(ie,ne,pe,oe,se,ve,le)}let Le=0;if(ie.length!=1)for(var ye=0;ye<oe.length;ye++){var qe;Le+=(qe=oe[ye]).rect.width*qe.rect.height}return oe}(h,g,A,D,E,C),q={},Z=[],G=[];if(_!=0){const me=[];for(U=0;U<K.length;U++)me.push(K[U].img.buffer);const ie=function(le){let be=0;for(var oe=0;oe<le.length;oe++)be+=le[oe].byteLength;const se=new Uint8Array(be);let Ee=0;for(oe=0;oe<le.length;oe++){const ue=new Uint8Array(le[oe]),Le=ue.length;for(let ye=0;ye<Le;ye+=4){let qe=ue[ye],fe=ue[ye+1],Re=ue[ye+2];const Ae=ue[ye+3];Ae==0&&(qe=fe=Re=0),se[Ee+ye]=qe,se[Ee+ye+1]=fe,se[Ee+ye+2]=Re,se[Ee+ye+3]=Ae}Ee+=Le}return se.buffer}(me),ne=S(ie,_);for(U=0;U<ne.plte.length;U++)Z.push(ne.plte[U].est.rgba);let pe=0;for(U=0;U<K.length;U++){const ge=(ae=K[U]).img.length;var te=new Uint8Array(ne.inds.buffer,pe>>2,ge>>2);G.push(te);const le=new Uint8Array(ne.abuf,pe,ge);F&&u(ae.img,ae.rect.width,ae.rect.height,Z,le,te),ae.img.set(le),pe+=ge}}else for(B=0;B<K.length;B++){var ae=K[B];const me=new Uint32Array(ae.img.buffer);var de=ae.rect.width;for(z=me.length,te=new Uint8Array(z),G.push(te),U=0;U<z;U++){const ie=me[U];if(U!=0&&ie==me[U-1])te[U]=te[U-1];else if(U>de&&ie==me[U-de])te[U]=te[U-de];else{let ne=q[ie];if(ne==null&&(q[ie]=ne=Z.length,Z.push(ie),Z.length>=300))break;te[U]=ne}}}const ze=Z.length;for(ze<=256&&m==0&&(L=ze<=2?1:ze<=4?2:ze<=16?4:8,L=Math.max(L,y)),B=0;B<K.length;B++){(ae=K[B]).rect.x,ae.rect.y,de=ae.rect.width;const me=ae.rect.height;let ie=ae.img;new Uint32Array(ie.buffer);let ne=4*de,pe=4;if(ze<=256&&m==0){ne=Math.ceil(L*de/8);var Pe=new Uint8Array(ne*me);const ge=G[B];for(let le=0;le<me;le++){U=le*ne;const be=le*de;if(L==8)for(var ce=0;ce<de;ce++)Pe[U+ce]=ge[be+ce];else if(L==4)for(ce=0;ce<de;ce++)Pe[U+(ce>>1)]|=ge[be+ce]<<4-4*(1&ce);else if(L==2)for(ce=0;ce<de;ce++)Pe[U+(ce>>2)]|=ge[be+ce]<<6-2*(3&ce);else if(L==1)for(ce=0;ce<de;ce++)Pe[U+(ce>>3)]|=ge[be+ce]<<7-1*(7&ce)}ie=Pe,j=3,pe=1}else if(M==0&&K.length==1){Pe=new Uint8Array(de*me*3);const ge=de*me;for(U=0;U<ge;U++){const le=3*U,be=4*U;Pe[le]=ie[be],Pe[le+1]=ie[be+1],Pe[le+2]=ie[be+2]}ie=Pe,j=2,pe=3,ne=3*de}ae.img=ie,ae.bpl=ne,ae.bpp=pe}return{ctype:j,depth:L,plte:Z,frames:K}}function d(h,g,A,_,I,D,E){const C=Uint8Array,y=Uint32Array,m=new C(h[I-1]),F=new y(h[I-1]),j=I+1<h.length?new C(h[I+1]):null,L=new C(h[I]),W=new y(L.buffer);let B=g,z=A,U=-1,M=-1;for(let q=0;q<D.height;q++)for(let Z=0;Z<D.width;Z++){const G=D.x+Z,te=D.y+q,ae=te*g+G,de=W[ae];de==0||_[I-1].dispose==0&&F[ae]==de&&(j==null||j[4*ae+3]!=0)||(G<B&&(B=G),G>U&&(U=G),te<z&&(z=te),te>M&&(M=te))}U==-1&&(B=z=U=M=0),E&&((1&B)==1&&B--,(1&z)==1&&z--),D={x:B,y:z,width:U-B+1,height:M-z+1};const K=_[I];K.rect=D,K.blend=1,K.img=new Uint8Array(D.width*D.height*4),_[I-1].dispose==0?(e(m,g,A,K.img,D.width,D.height,-D.x,-D.y,0),l(L,g,A,K.img,D)):e(L,g,A,K.img,D.width,D.height,-D.x,-D.y,0)}function l(h,g,A,_,I){e(h,g,A,_,I.width,I.height,-I.x,-I.y,2)}function s(h,g,A,_,I,D,E){const C=[];let y,m=[0,1,2,3,4];D!=-1?m=[D]:(g*_>5e5||A==1)&&(m=[0]),E&&(y={level:0});const F=qa;for(var j=0;j<m.length;j++){for(let B=0;B<g;B++)w(I,h,B,_,A,m[j]);C.push(F.deflate(I,y))}let L,W=1e9;for(j=0;j<C.length;j++)C[j].length<W&&(L=j,W=C[j].length);return C[L]}function w(h,g,A,_,I,D){const E=A*_;let C=E+A;if(h[C]=D,C++,D==0)if(_<500)for(var y=0;y<_;y++)h[C+y]=g[E+y];else h.set(new Uint8Array(g.buffer,E,_),C);else if(D==1){for(y=0;y<I;y++)h[C+y]=g[E+y];for(y=I;y<_;y++)h[C+y]=g[E+y]-g[E+y-I]+256&255}else if(A==0){for(y=0;y<I;y++)h[C+y]=g[E+y];if(D==2)for(y=I;y<_;y++)h[C+y]=g[E+y];if(D==3)for(y=I;y<_;y++)h[C+y]=g[E+y]-(g[E+y-I]>>1)+256&255;if(D==4)for(y=I;y<_;y++)h[C+y]=g[E+y]-a(g[E+y-I],0,0)+256&255}else{if(D==2)for(y=0;y<_;y++)h[C+y]=g[E+y]+256-g[E+y-_]&255;if(D==3){for(y=0;y<I;y++)h[C+y]=g[E+y]+256-(g[E+y-_]>>1)&255;for(y=I;y<_;y++)h[C+y]=g[E+y]+256-(g[E+y-_]+g[E+y-I]>>1)&255}if(D==4){for(y=0;y<I;y++)h[C+y]=g[E+y]+256-a(0,g[E+y-_],0)&255;for(y=I;y<_;y++)h[C+y]=g[E+y]+256-a(g[E+y-I],g[E+y-_],g[E+y-I-_])&255}}}function S(h,g){const A=new Uint8Array(h),_=A.slice(0),I=new Uint32Array(_.buffer),D=T(_,g),E=D[0],C=D[1],y=A.length,m=new Uint8Array(y>>2);let F;if(A.length<2e7)for(var j=0;j<y;j+=4)F=x(E,L=A[j]*(1/255),W=A[j+1]*(1/255),B=A[j+2]*(1/255),z=A[j+3]*(1/255)),m[j>>2]=F.ind,I[j>>2]=F.est.rgba;else for(j=0;j<y;j+=4){var L=A[j]*.00392156862745098,W=A[j+1]*(1/255),B=A[j+2]*(1/255),z=A[j+3]*(1/255);for(F=E;F.left;)F=k(F.est,L,W,B,z)<=0?F.left:F.right;m[j>>2]=F.ind,I[j>>2]=F.est.rgba}return{abuf:_.buffer,inds:m,plte:C}}function T(h,g,A){A==null&&(A=1e-4);const _=new Uint32Array(h.buffer),I={i0:0,i1:h.length,bst:null,est:null,tdst:0,left:null,right:null};I.bst=P(h,I.i0,I.i1),I.est=b(I.bst);const D=[I];for(;D.length<g;){let C=0,y=0;for(var E=0;E<D.length;E++)D[E].est.L>C&&(C=D[E].est.L,y=E);if(C<A)break;const m=D[y],F=N(h,_,m.i0,m.i1,m.est.e,m.est.eMq255);if(m.i0>=F||m.i1<=F){m.est.L=0;continue}const j={i0:m.i0,i1:F,bst:null,est:null,tdst:0,left:null,right:null};j.bst=P(h,j.i0,j.i1),j.est=b(j.bst);const L={i0:F,i1:m.i1,bst:null,est:null,tdst:0,left:null,right:null};for(L.bst={R:[],m:[],N:m.bst.N-j.bst.N},E=0;E<16;E++)L.bst.R[E]=m.bst.R[E]-j.bst.R[E];for(E=0;E<4;E++)L.bst.m[E]=m.bst.m[E]-j.bst.m[E];L.est=b(L.bst),m.left=j,m.right=L,D[y]=j,D.push(L)}for(D.sort((C,y)=>y.bst.N-C.bst.N),E=0;E<D.length;E++)D[E].ind=E;return[I,D]}function x(h,g,A,_,I){if(h.left==null)return h.tdst=function(j,L,W,B,z){const U=L-j[0],M=W-j[1],K=B-j[2],q=z-j[3];return U*U+M*M+K*K+q*q}(h.est.q,g,A,_,I),h;const D=k(h.est,g,A,_,I);let E=h.left,C=h.right;D>0&&(E=h.right,C=h.left);const y=x(E,g,A,_,I);if(y.tdst<=D*D)return y;const m=x(C,g,A,_,I);return m.tdst<y.tdst?m:y}function k(h,g,A,_,I){const{e:D}=h;return D[0]*g+D[1]*A+D[2]*_+D[3]*I-h.eMq}function N(h,g,A,_,I,D){for(_-=4;A<_;){for(;R(h,A,I)<=D;)A+=4;for(;R(h,_,I)>D;)_-=4;if(A>=_)break;const E=g[A>>2];g[A>>2]=g[_>>2],g[_>>2]=E,A+=4,_-=4}for(;R(h,A,I)>D;)A-=4;return A+4}function R(h,g,A){return h[g]*A[0]+h[g+1]*A[1]+h[g+2]*A[2]+h[g+3]*A[3]}function P(h,g,A){const _=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],I=[0,0,0,0],D=A-g>>2;for(let E=g;E<A;E+=4){const C=h[E]*.00392156862745098,y=h[E+1]*(1/255),m=h[E+2]*(1/255),F=h[E+3]*(1/255);I[0]+=C,I[1]+=y,I[2]+=m,I[3]+=F,_[0]+=C*C,_[1]+=C*y,_[2]+=C*m,_[3]+=C*F,_[5]+=y*y,_[6]+=y*m,_[7]+=y*F,_[10]+=m*m,_[11]+=m*F,_[15]+=F*F}return _[4]=_[1],_[8]=_[2],_[9]=_[6],_[12]=_[3],_[13]=_[7],_[14]=_[11],{R:_,m:I,N:D}}function b(h){const{R:g}=h,{m:A}=h,{N:_}=h,I=A[0],D=A[1],E=A[2],C=A[3],y=_==0?0:1/_,m=[g[0]-I*I*y,g[1]-I*D*y,g[2]-I*E*y,g[3]-I*C*y,g[4]-D*I*y,g[5]-D*D*y,g[6]-D*E*y,g[7]-D*C*y,g[8]-E*I*y,g[9]-E*D*y,g[10]-E*E*y,g[11]-E*C*y,g[12]-C*I*y,g[13]-C*D*y,g[14]-C*E*y,g[15]-C*C*y],F=m,j=O;let L=[Math.random(),Math.random(),Math.random(),Math.random()],W=0,B=0;if(_!=0)for(let U=0;U<16&&(L=j.multVec(F,L),B=Math.sqrt(j.dot(L,L)),L=j.sml(1/B,L),!(U!=0&&Math.abs(B-W)<1e-9));U++)W=B;const z=[I*y,D*y,E*y,C*y];return{Cov:m,q:z,e:L,L:W,eMq255:j.dot(j.sml(255,z),L),eMq:j.dot(L,z),rgba:(Math.round(255*z[3])<<24|Math.round(255*z[2])<<16|Math.round(255*z[1])<<8|Math.round(255*z[0])<<0)>>>0}}var O={multVec:(h,g)=>[h[0]*g[0]+h[1]*g[1]+h[2]*g[2]+h[3]*g[3],h[4]*g[0]+h[5]*g[1]+h[6]*g[2]+h[7]*g[3],h[8]*g[0]+h[9]*g[1]+h[10]*g[2]+h[11]*g[3],h[12]*g[0]+h[13]*g[1]+h[14]*g[2]+h[15]*g[3]],dot:(h,g)=>h[0]*g[0]+h[1]*g[1]+h[2]*g[2]+h[3]*g[3],sml:(h,g)=>[h*g[0],h*g[1],h*g[2],h*g[3]]};$e.encode=function(g,A,_,I,D,E,C){I==null&&(I=0),C==null&&(C=!1);const y=i(g,A,_,I,[!1,!1,!1,0,C,!1]);return v(y,-1),p(y,A,_,D,E)},$e.encodeLL=function(g,A,_,I,D,E,C,y){const m={ctype:0+(I==1?0:2)+(D==0?0:4),depth:E,frames:[]},F=(I+D)*E,j=F*A;for(let L=0;L<g.length;L++)m.frames.push({rect:{x:0,y:0,width:A,height:_},img:new Uint8Array(g[L]),blend:0,dispose:1,bpp:Math.ceil(F/8),bpl:Math.ceil(j/8)});return v(m,0,!0),p(m,A,_,C,y)},$e.encode.compress=i,$e.encode.dither=u,$e.quantize=S,$e.quantize.getKDtree=T,$e.quantize.getNearest=x})();const $n={toArrayBuffer(e,t){const a=e.width,o=e.height,r=a<<2,n=e.getContext("2d").getImageData(0,0,a,o),c=new Uint32Array(n.data.buffer),u=(32*a+31)/32<<2,p=u*o,v=122+p,i=new ArrayBuffer(v),d=new DataView(i),l=1<<20;let s,w,S,T,x=l,k=0,N=0,R=0;function P(h){d.setUint16(N,h,!0),N+=2}function b(h){d.setUint32(N,h,!0),N+=4}function O(h){N+=h}P(19778),b(v),O(4),b(122),b(108),b(a),b(-o>>>0),P(1),P(32),b(3),b(p),b(2835),b(2835),O(8),b(16711680),b(65280),b(255),b(4278190080),b(1466527264),function h(){for(;k<o&&x>0;){for(T=122+k*u,s=0;s<r;)x--,w=c[R++],S=w>>>24,d.setUint32(T+s,w<<8|S),s+=4;k++}R<c.length?(x=l,setTimeout(h,$n._dly)):t(i)}()},toBlob(e,t){this.toArrayBuffer(e,a=>{t(new Blob([a],{type:"image/bmp"}))})},_dly:9};var _e={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},Ya={[_e.CHROME]:16384,[_e.FIREFOX]:11180,[_e.DESKTOP_SAFARI]:16384,[_e.IE]:8192,[_e.IOS]:4096,[_e.ETC]:8192};const Sr=typeof window<"u",zn=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,$t=Sr&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),Ga=(Sr||zn)&&($t&&$t.getOriginalSymbol(window,"File")||typeof File<"u"&&File),Vn=(Sr||zn)&&($t&&$t.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function Er(e,t,a=Date.now()){return new Promise(o=>{const r=e.split(","),n=r[0].match(/:(.*?);/)[1],c=globalThis.atob(r[1]);let u=c.length;const p=new Uint8Array(u);for(;u--;)p[u]=c.charCodeAt(u);const v=new Blob([p],{type:n});v.name=t,v.lastModified=a,o(v)})}function Hn(e){return new Promise((t,a)=>{const o=new Vn;o.onload=()=>t(o.result),o.onerror=r=>a(r),o.readAsDataURL(e)})}function Wn(e){return new Promise((t,a)=>{const o=new Image;o.onload=()=>t(o),o.onerror=r=>a(r),o.src=e})}function mt(){if(mt.cachedResult!==void 0)return mt.cachedResult;let e=_e.ETC;const{userAgent:t}=navigator;return/Chrom(e|ium)/i.test(t)?e=_e.CHROME:/iP(ad|od|hone)/i.test(t)&&/WebKit/i.test(t)?e=_e.IOS:/Safari/i.test(t)?e=_e.DESKTOP_SAFARI:/Firefox/i.test(t)?e=_e.FIREFOX:(/MSIE/i.test(t)||document.documentMode)&&(e=_e.IE),mt.cachedResult=e,mt.cachedResult}function Kn(e,t){const a=mt(),o=Ya[a];let r=e,n=t,c=r*n;const u=r>n?n/r:r/n;for(;c>o*o;){const p=(o+r)/2,v=(o+n)/2;p<v?(n=v,r=v*u):(n=p*u,r=p),c=r*n}return{width:r,height:n}}function Wt(e,t){let a,o;try{if(a=new OffscreenCanvas(e,t),o=a.getContext("2d"),o===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{a=document.createElement("canvas"),o=a.getContext("2d")}return a.width=e,a.height=t,[a,o]}function Qn(e,t){const{width:a,height:o}=Kn(e.width,e.height),[r,n]=Wt(a,o);return t&&/jpe?g/.test(t)&&(n.fillStyle="white",n.fillRect(0,0,r.width,r.height)),n.drawImage(e,0,0,r.width,r.height),r}function Lt(){return Lt.cachedResult!==void 0||(Lt.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Lt.cachedResult}function zt(e,t={}){return new Promise(function(a,o){let r,n;var c=function(){try{return n=Qn(r,t.fileType||e.type),a([r,n])}catch(p){return o(p)}},u=function(p){try{var v=function(i){try{throw i}catch(d){return o(d)}};try{let i;return Hn(e).then(function(d){try{return i=d,Wn(i).then(function(l){try{return r=l,function(){try{return c()}catch(s){return o(s)}}()}catch(s){return v(s)}},v)}catch(l){return v(l)}},v)}catch(i){v(i)}}catch(i){return o(i)}};try{if(Lt()||[_e.DESKTOP_SAFARI,_e.MOBILE_SAFARI].includes(mt()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(e).then(function(p){try{return r=p,c()}catch{return u()}},u)}catch{u()}})}function Vt(e,t,a,o,r=1){return new Promise(function(n,c){let u;if(t==="image/png"){let v,i,d;return v=e.getContext("2d"),{data:i}=v.getImageData(0,0,e.width,e.height),d=$e.encode([i.buffer],e.width,e.height,4096*r),u=new Blob([d],{type:t}),u.name=a,u.lastModified=o,p.call(this)}{let v=function(){return p.call(this)};if(t==="image/bmp")return new Promise(i=>$n.toBlob(e,i)).then(function(i){try{return u=i,u.name=a,u.lastModified=o,v.call(this)}catch(d){return c(d)}}.bind(this),c);{let i=function(){return v.call(this)};if(typeof OffscreenCanvas=="function"&&e instanceof OffscreenCanvas)return e.convertToBlob({type:t,quality:r}).then(function(d){try{return u=d,u.name=a,u.lastModified=o,i.call(this)}catch(l){return c(l)}}.bind(this),c);{let d;return d=e.toDataURL(t,r),Er(d,a,o).then(function(l){try{return u=l,i.call(this)}catch(s){return c(s)}}.bind(this),c)}}}function p(){return n(u)}})}function Ke(e){e.width=0,e.height=0}function wt(){return new Promise(function(e,t){let a,o,r,n;return wt.cachedResult!==void 0?e(wt.cachedResult):Er("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(c){try{return a=c,zt(a).then(function(u){try{return o=u[1],Vt(o,a.type,a.name,a.lastModified).then(function(p){try{return r=p,Ke(o),zt(r).then(function(v){try{return n=v[0],wt.cachedResult=n.width===1&&n.height===2,e(wt.cachedResult)}catch(i){return t(i)}},t)}catch(v){return t(v)}},t)}catch(p){return t(p)}},t)}catch(u){return t(u)}},t)})}function qn(e){return new Promise((t,a)=>{const o=new Vn;o.onload=r=>{const n=new DataView(r.target.result);if(n.getUint16(0,!1)!=65496)return t(-2);const c=n.byteLength;let u=2;for(;u<c;){if(n.getUint16(u+2,!1)<=8)return t(-1);const p=n.getUint16(u,!1);if(u+=2,p==65505){if(n.getUint32(u+=2,!1)!=1165519206)return t(-1);const v=n.getUint16(u+=6,!1)==18761;u+=n.getUint32(u+4,v);const i=n.getUint16(u,v);u+=2;for(let d=0;d<i;d++)if(n.getUint16(u+12*d,v)==274)return t(n.getUint16(u+12*d+8,v))}else{if((65280&p)!=65280)break;u+=n.getUint16(u,!1)}}return t(-1)},o.onerror=r=>a(r),o.readAsArrayBuffer(e)})}function Yn(e,t){const{width:a}=e,{height:o}=e,{maxWidthOrHeight:r}=t;let n,c=e;return isFinite(r)&&(a>r||o>r)&&([c,n]=Wt(a,o),a>o?(c.width=r,c.height=o/a*r):(c.width=a/o*r,c.height=r),n.drawImage(e,0,0,c.width,c.height),Ke(e)),c}function Gn(e,t){const{width:a}=e,{height:o}=e,[r,n]=Wt(a,o);switch(t>4&&t<9?(r.width=o,r.height=a):(r.width=a,r.height=o),t){case 2:n.transform(-1,0,0,1,a,0);break;case 3:n.transform(-1,0,0,-1,a,o);break;case 4:n.transform(1,0,0,-1,0,o);break;case 5:n.transform(0,1,1,0,0,0);break;case 6:n.transform(0,1,-1,0,o,0);break;case 7:n.transform(0,-1,-1,0,o,a);break;case 8:n.transform(0,-1,1,0,0,a)}return n.drawImage(e,0,0,a,o),Ke(e),r}function Lr(e,t,a=0){return new Promise(function(o,r){let n,c,u,p,v,i,d,l,s,w,S,T,x,k,N,R,P,b,O,h;function g(_=5){if(t.signal&&t.signal.aborted)throw t.signal.reason;n+=_,t.onProgress(Math.min(n,100))}function A(_){if(t.signal&&t.signal.aborted)throw t.signal.reason;n=Math.min(Math.max(_,n),100),t.onProgress(n)}return n=a,c=t.maxIteration||10,u=1024*t.maxSizeMB*1024,g(),zt(e,t).then(function(_){try{return[,p]=_,g(),v=Yn(p,t),g(),new Promise(function(I,D){var E;if(!(E=t.exifOrientation))return qn(e).then(function(y){try{return E=y,C.call(this)}catch(m){return D(m)}}.bind(this),D);function C(){return I(E)}return C.call(this)}).then(function(I){try{return i=I,g(),wt().then(function(D){try{return d=D?v:Gn(v,i),g(),l=t.initialQuality||1,s=t.fileType||e.type,Vt(d,s,e.name,e.lastModified,l).then(function(E){try{{let y=function(){if(c--&&(N>u||N>x)){let F,j;return F=h?.95*O.width:O.width,j=h?.95*O.height:O.height,[P,b]=Wt(F,j),b.drawImage(O,0,0,F,j),l*=s==="image/png"?.85:.95,Vt(P,s,e.name,e.lastModified,l).then(function(L){try{return R=L,Ke(O),O=P,N=R.size,A(Math.min(99,Math.floor((k-N)/(k-u)*100))),y}catch(W){return r(W)}},r)}return[1]},m=function(){return Ke(O),Ke(P),Ke(v),Ke(d),Ke(p),A(100),o(R)};if(w=E,g(),S=w.size>u,T=w.size>e.size,!S&&!T)return A(100),o(w);var C;return x=e.size,k=w.size,N=k,O=d,h=!t.alwaysKeepResolution&&S,(C=function(F){for(;F;){if(F.then)return void F.then(C,r);try{if(F.pop){if(F.length)return F.pop()?m.call(this):F;F=y}else F=F.call(this)}catch(j){return r(j)}}}.bind(this))(y)}}catch(y){return r(y)}}.bind(this),r)}catch(E){return r(E)}}.bind(this),r)}catch(D){return r(D)}}.bind(this),r)}catch(I){return r(I)}}.bind(this),r)})}const Xa=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let er;function Ja(e,t){return new Promise((a,o)=>{er||(er=function(c){const u=[];return u.push(c),URL.createObjectURL(new Blob(u))}(Xa));const r=new Worker(er);r.addEventListener("message",function(c){if(t.signal&&t.signal.aborted)r.terminate();else if(c.data.progress===void 0){if(c.data.error)return o(new Error(c.data.error)),void r.terminate();a(c.data.file),r.terminate()}else t.onProgress(c.data.progress)}),r.addEventListener("error",o),t.signal&&t.signal.addEventListener("abort",()=>{o(t.signal.reason),r.terminate()}),r.postMessage({file:e,imageCompressionLibUrl:t.libURL,options:{...t,onProgress:void 0,signal:void 0}})})}function xe(e,t){return new Promise(function(a,o){let r,n,c,u,p,v;if(r={...t},c=0,{onProgress:u}=r,r.maxSizeMB=r.maxSizeMB||Number.POSITIVE_INFINITY,p=typeof r.useWebWorker!="boolean"||r.useWebWorker,delete r.useWebWorker,r.onProgress=s=>{c=s,typeof u=="function"&&u(c)},!(e instanceof Blob||e instanceof Ga))return o(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(e.type))return o(new Error("The file given is not an image"));if(v=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!p||typeof Worker!="function"||v)return Lr(e,r).then(function(s){try{return n=s,l.call(this)}catch(w){return o(w)}}.bind(this),o);var i=function(){try{return l.call(this)}catch(s){return o(s)}}.bind(this),d=function(s){try{return Lr(e,r).then(function(w){try{return n=w,i()}catch(S){return o(S)}},o)}catch(w){return o(w)}};try{return r.libURL=r.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",Ja(e,r).then(function(s){try{return n=s,i()}catch{return d()}},d)}catch{d()}function l(){try{n.name=e.name,n.lastModified=e.lastModified}catch{}try{r.preserveExif&&e.type==="image/jpeg"&&(!r.fileType||r.fileType&&r.fileType===e.type)&&(n=Bn(e,n))}catch{}return a(n)}})}xe.getDataUrlFromFile=Hn,xe.getFilefromDataUrl=Er,xe.loadImage=Wn,xe.drawImageInCanvas=Qn,xe.drawFileInCanvas=zt,xe.canvasToFile=Vt,xe.getExifOrientation=qn,xe.handleMaxWidthOrHeight=Yn,xe.followExifOrientation=Gn,xe.cleanupCanvasMemory=Ke,xe.isAutoOrientationInBrowser=wt,xe.approximateBelowMaximumCanvasSizeOfBrowser=Kn,xe.copyExifWithoutOrientation=Bn,xe.getBrowserName=mt,xe.version="2.0.2";const Ft={maxWidthOrHeight:1920,targetSizeKB:350,preferredQuality:.8,fallbackQuality:.78},Za=new Set(["image/jpeg","image/jpg","image/png","image/webp","image/heic","image/heif"]);function es(e){switch(e){case"image/webp":return"webp";case"image/jpeg":return"jpg";case"image/png":return"png";default:return"jpg"}}function ts(e,t){return`${e.replace(/\.[^/.]+$/,"")}.${t}`}function rs(e,t,a){const o=es(a),r=ts(t,o);return new File([e],r,{type:a,lastModified:Date.now()})}function ki(e){if(e===0)return"0 B";const t=1024,a=["B","KB","MB","GB"],o=Math.floor(Math.log(e)/Math.log(t));return`${parseFloat((e/Math.pow(t,o)).toFixed(1))} ${a[o]}`}function ns(e){return Za.has(e.type.toLowerCase())||e.type.startsWith("image/")}async function Fr(e,t){const a=await xe(e,{maxSizeMB:t.targetSizeKB/1024,maxWidthOrHeight:t.maxWidthOrHeight,useWebWorker:!0,initialQuality:t.quality,fileType:t.fileType,preserveExif:!1});return rs(a,e.name,t.fileType)}async function os(e,t){try{return await Fr(e,{...t,fileType:"image/webp"})}catch(a){return console.warn("[imageCompression] WebP compression failed, falling back to JPEG",a),Fr(e,{...t,fileType:"image/jpeg",quality:Ft.fallbackQuality})}}async function as(e){if(!ns(e))throw new Error("Invalid image file");return os(e,{maxWidthOrHeight:Ft.maxWidthOrHeight,targetSizeKB:Ft.targetSizeKB,quality:Ft.preferredQuality})}async function ss(){try{return(await Ie.get(Se.reports.categories)).data}catch(e){throw console.error("[ReportService] Failed to fetch categories:",e),e}}const is=8*1024*1024;async function ls(e){const t=[];for(const a of e)try{const o=await as(a);t.push(o)}catch(o){console.warn(`[ReportService] Failed to compress image "${a.name}", using original file`,o),t.push(a)}return t}async function Xn(e,t){const a=new FormData;a.append("categoryId",e.categoryId),a.append("title",e.title),a.append("description",e.description),e.addressText&&a.append("addressText",e.addressText),e.addressSource&&a.append("addressSource",e.addressSource),e.locationQuality&&a.append("locationQuality",e.locationQuality),e.latitude!==void 0&&a.append("latitude",String(e.latitude)),e.longitude!==void 0&&a.append("longitude",String(e.longitude)),e.locationAccuracyM!==void 0&&a.append("locationAccuracyM",String(e.locationAccuracyM)),e.bairroId&&a.append("bairroId",e.bairroId),e.images&&e.images.length>0&&(await ls(e.images)).forEach(r=>{if(r.size>is)throw new Error(`Imagem "${r.name}" excede o limite de 8MB mesmo apos a otimizacao.`);a.append("images[]",r)});try{const o=await Ie.postFormData(Se.reports.create,a,{headers:{"X-Idempotency-Key":t}});if(o.data)try{await Rt.save(o.data)}catch(r){console.warn("[ReportService] Failed to cache report to IndexedDB:",r)}return o.data}catch(o){throw console.error("[ReportService] Failed to create report:",o),o}}async function cs(e={}){const t={bbox:e.bbox,zoom:e.zoom,limit:e.limit??300,status:e.status?.length?e.status.join(","):void 0,category:e.category?.length?e.category.join(","):void 0};try{return await Ie.get(Se.reports.map,t)}catch(a){throw console.error("[ReportService] Failed to fetch reports map:",a),a}}function ds(e){if(typeof navigator<"u"&&navigator.onLine===!1)return!0;if(e instanceof Ce)return e.code==="OFFLINE"||e.status===0||e.status===408;if(e instanceof TypeError)return!0;if(e instanceof Error){const t=e.message.toLowerCase();return t.includes("failed to fetch")||t.includes("network")}return!1}function us(e){return e instanceof Ce&&e.status===409&&e.code==="REPORT_STATUS_CONFLICT"}async function fs(e){try{const t=new URLSearchParams;e?.status&&t.append("status",e.status),e?.categoryId&&t.append("categoryId",e.categoryId),e?.page&&t.append("page",String(e.page)),e?.perPage&&t.append("perPage",String(e.perPage));const a=t.toString(),o=a?`${Se.reports.myReports}?${a}`:Se.reports.myReports,r=await Ie.get(o);if(r.data.length>0)try{await Rt.saveMany(r.data)}catch(n){console.warn("[ReportService] Failed to cache reports to IndexedDB:",n)}return r}catch(t){console.error("[ReportService] Failed to fetch my reports:",t);const a=await Rt.getAll();return{data:a,meta:{current_page:1,last_page:1,per_page:10,total:a.length}}}}async function ms(e){try{const t=new URLSearchParams;e?.status&&t.append("status",e.status),e?.categoryId&&t.append("categoryId",e.categoryId),e?.search&&t.append("search",e.search),e?.page&&t.append("page",String(e.page)),e?.perPage&&t.append("perPage",String(e.perPage));const a=t.toString(),o=a?`${Se.reports.list}?${a}`:Se.reports.list;return await Ie.get(o)}catch(t){throw console.error("[ReportService] Failed to fetch public reports:",t),t}}async function ps(){try{return(await Ie.get(Se.reports.stats)).data}catch(e){return console.error("[ReportService] Failed to fetch reports stats:",e),{total:0,byStatus:{recebido:0,em_analise:0,resolvido:0,rejeitado:0},thisMonth:0,resolvedThisMonth:0}}}async function hs(e){try{const t=await Ie.get(Se.reports.get(e));try{await Rt.save(t.data)}catch(a){console.warn("[ReportService] Failed to cache report to IndexedDB:",a)}return t.data}catch(t){return console.error("[ReportService] Failed to fetch report:",t),await Rt.getById(e)}}async function gs(e,t){const a=new FormData;return t.forEach(r=>{a.append("images[]",r)}),(await Ie.postFormData(Se.reports.addMedia(e),a)).data}async function ys(e,t){await Ie.delete(Se.reports.removeMedia(e,t))}async function vs(e,t){return(await Ie.patch(Se.reports.updateStatus(e),t)).data}async function ws(e,t,a){try{const o=new URLSearchParams({q:e});return t!==void 0&&o.append("lat",String(t)),a!==void 0&&o.append("lon",String(a)),(await Ie.get(`${Se.geocode.autocomplete}?${o.toString()}`)).data}catch(o){return console.error("[ReportService] Geocode autocomplete failed:",o),[]}}async function bs(e,t){try{const a=new URLSearchParams({lat:String(e),lon:String(t)});return(await Ie.get(`${Se.geocode.reverse}?${a.toString()}`)).data}catch(a){return console.error("[ReportService] Geocode reverse failed:",a),null}}const Pi={getCategories:ss,getReportsMap:cs,createReport:Xn,getMyReports:fs,getPublicReports:ms,getReportsStats:ps,getReportById:hs,addReportMedia:gs,removeReportMedia:ys,updateReportStatus:vs,isReportStatusConflictError:us,isOfflineLikeReportError:ds,geocodeAutocomplete:ws,geocodeReverse:bs};function xs(){return typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}function Mi(e){return/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}const Ss=()=>xs(),Oi={categoryId:null,category:null,location:null,locationNote:"",images:[],title:"",description:"",confirmed:!1,currentStep:1,createdAt:new Date,updatedAt:new Date,idempotencyKey:Ss()},Li="etijucas-report-draft",Es={light:10,medium:25,heavy:50,success:[10,50,10],warning:[30,50,30],error:[50,100,50,100,50],selection:5};function As(e="light"){if(typeof navigator>"u"||!("vibrate"in navigator))return!1;try{const t=Es[e];return navigator.vibrate(t),!0}catch{return!1}}const Te={DISMISSED_UNTIL:"install_prompt_dismissed_until",NEVER_SHOW:"install_prompt_never",FIRST_VISIT:"install_prompt_first_visit",VISIT_COUNT:"install_prompt_visit_count"},tr={INITIAL_SHOW:3e4,REMIND_7_DAYS:7*24*60*60*1e3,REMIND_24_HOURS:24*60*60*1e3};let ft=null;typeof window<"u"&&(window.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),ft=e,console.log("[useInstallPrompt] Global capture: beforeinstallprompt event stored")}),window.addEventListener("appinstalled",()=>{ft=null,console.log("[useInstallPrompt] App installed")}));function Ur(){return typeof window>"u"?!1:window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0||document.referrer.includes("android-app://")}function Is(){if(typeof navigator>"u")return"other";const e=navigator.userAgent;return/Android/i.test(e)?"android":/iPhone|iPad|iPod/.test(e)?"ios":/Windows|Mac|Linux/.test(e)&&!/Mobile/.test(e)?"desktop":"other"}function js(){if(typeof navigator>"u")return!1;const e=navigator.userAgent,t=navigator.vendor,a=/iPhone|iPad|iPod/.test(e),o=t==="Apple Computer, Inc.",r=!/CriOS|FxiOS|OPiOS|EdgiOS/.test(e);return a&&o&&r}function Ts(){if(typeof localStorage>"u")return!1;if(localStorage.getItem(Te.NEVER_SHOW)==="true")return!0;const e=localStorage.getItem(Te.DISMISSED_UNTIL);if(e){const t=parseInt(e,10);if(Date.now()<t)return!0;localStorage.removeItem(Te.DISMISSED_UNTIL)}return!1}function _s(){if(typeof localStorage>"u")return 1;const e=localStorage.getItem(Te.VISIT_COUNT)||"0",t=parseInt(e,10)+1;return localStorage.setItem(Te.VISIT_COUNT,t.toString()),localStorage.getItem(Te.FIRST_VISIT)||localStorage.setItem(Te.FIRST_VISIT,Date.now().toString()),t}function Fi(){const[e,t]=$.useState(ft),[a,o]=$.useState(Ur),[r,n]=$.useState(Ts),[c,u]=$.useState(!1),[p,v]=$.useState(!1),[i,d]=$.useState(!1),l=$.useMemo(Is,[]),s=$.useMemo(js,[]);$.useEffect(()=>{ft&&!e&&(console.log("[useInstallPrompt] Found global prompt, syncing to state"),t(ft))},[e]),$.useEffect(()=>{_s()},[]),$.useEffect(()=>{const P=setTimeout(()=>{u(!0)},tr.INITIAL_SHOW);return()=>clearTimeout(P)},[]),$.useEffect(()=>{const P=()=>o(Ur());P();const b=window.matchMedia("(display-mode: standalone)");return b.addEventListener("change",P),()=>b.removeEventListener("change",P)},[]),$.useEffect(()=>{const P=O=>{O.preventDefault();const h=O;ft=h,t(h),console.log("[useInstallPrompt] beforeinstallprompt captured in useEffect")},b=()=>{ft=null,t(null),o(!0),localStorage.removeItem(Te.DISMISSED_UNTIL),localStorage.removeItem(Te.NEVER_SHOW),console.log("[useInstallPrompt] App installed event received")};return window.addEventListener("beforeinstallprompt",P),window.addEventListener("appinstalled",b),()=>{window.removeEventListener("beforeinstallprompt",P),window.removeEventListener("appinstalled",b)}},[]);const w=$.useCallback(async()=>{if(!e)return!1;try{await e.prompt();const{outcome:P}=await e.userChoice;return P==="accepted"?(t(null),!0):!1}catch(P){return console.error("Error showing install prompt:",P),!1}},[e]),S=$.useCallback(P=>{switch(n(!0),d(!1),P){case"later_24h":localStorage.setItem(Te.DISMISSED_UNTIL,(Date.now()+tr.REMIND_24_HOURS).toString());break;case"later_7d":localStorage.setItem(Te.DISMISSED_UNTIL,(Date.now()+tr.REMIND_7_DAYS).toString());break;case"never":localStorage.setItem(Te.NEVER_SHOW,"true");break}},[]),T=$.useCallback(()=>{v(!0)},[]),x=$.useCallback(()=>{v(!1)},[]),k=$.useCallback(()=>{localStorage.removeItem(Te.DISMISSED_UNTIL),localStorage.removeItem(Te.NEVER_SHOW),n(!1)},[]),N=$.useCallback(()=>{d(!0),n(!1)},[]);return{shouldShowBanner:$.useMemo(()=>a?!1:i?!0:r||!c||l==="android"&&!e&&!s?!1:s||!!e,[a,r,c,e,s,l,i]),canInstallNative:!!e&&!a,isInstalled:a,isIOSSafari:s&&!a,platform:l,promptInstall:w,dismiss:S,showIOSTutorial:T,hideIOSTutorial:x,isIOSTutorialVisible:p,resetDismissals:k,forceShowBanner:N}}function Rs(){Xe(o=>o.city);const{prefix:e,isMultiCityMode:t}=$.useMemo(()=>{const r=window.location.pathname.match(/^\/([a-z]{2})\/([a-z0-9-]+)/i);if(r){const[n]=r;return{prefix:n,isMultiCityMode:!0}}return{prefix:"",isMultiCityMode:!1}},[]);return{buildRoute:o=>{if(!t)return o;const r=o.startsWith("/")?o:`/${o}`;return r.startsWith(e)?r:`${e}${r}`},prefix:e,isMultiCityMode:t}}function Ds(){const e=wo(),{buildRoute:t}=Rs();return $.useCallback((o,r)=>{if(typeof o=="number"){e(o);return}if(o.startsWith("http://")||o.startsWith("https://")){window.location.href=o;return}const n=t(o);e(n,r)},[e,t])}const Ui=Rn()(Ln((e,t)=>({user:null,token:null,refreshToken:null,isAuthenticated:!1,setAuth:(a,o,r)=>e({user:a,token:o,refreshToken:r,isAuthenticated:!0}),logout:()=>e({user:null,token:null,refreshToken:null,isAuthenticated:!1}),updateUser:a=>e(o=>({user:o.user?{...o.user,...a}:null})),hasRole:a=>{const{user:o}=t();return o?.roles?.includes(a)??!1},isVerified:()=>{const{user:a}=t();return a?.phoneVerified??!1},needsOnboarding:()=>{const{user:a,isAuthenticated:o}=t();return o&&a&&!a.profileCompleted}}),{name:"etijucas-auth",partialize:e=>({user:e.user,token:e.token,refreshToken:e.refreshToken,isAuthenticated:e.isAuthenticated})})),Cs=Tn("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ir=$.forwardRef(({className:e,variant:t,size:a,asChild:o=!1,haptic:r,onClick:n,...c},u)=>{const p=o?bo:"button",v=$.useCallback(i=>{r&&As(r),n?.(i)},[r,n]);return f.jsx(p,{className:st(Cs({variant:t,size:a,className:e})),ref:u,onClick:o?n:v,...c})});ir.displayName="Button";function Ns({moduleName:e,moduleSlug:t}){const a=Ds(),o=Xe(r=>r.city?.name||"sua cidade");return f.jsx("div",{className:"min-h-screen flex items-center justify-center p-6 bg-gradient-to-br from-muted/30 via-background to-muted/50",children:f.jsxs(dt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"max-w-md w-full text-center space-y-6",children:[f.jsx(dt.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.1,bounce:.5},className:"inline-flex p-6 rounded-full bg-muted/50 border border-border",children:f.jsx(xo,{className:"h-12 w-12 text-muted-foreground"})}),f.jsxs(dt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:[f.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Módulo Indisponível"}),f.jsx("p",{className:"mt-2 text-muted-foreground",children:e?f.jsxs(f.Fragment,{children:["O módulo ",f.jsx("strong",{children:e})," ainda não está disponível para"," ",f.jsx("strong",{children:o}),"."]}):f.jsxs(f.Fragment,{children:["Este recurso ainda não está disponível para"," ",f.jsx("strong",{children:o}),"."]})})]}),f.jsx(dt.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"text-sm text-muted-foreground",children:"Estamos trabalhando para ativar novos recursos em breve!"}),f.jsxs(dt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"flex flex-col gap-3",children:[f.jsxs(ir,{size:"lg",onClick:()=>a("/"),className:"w-full h-12 rounded-xl",children:[f.jsx(So,{className:"h-5 w-5 mr-2"}),"Voltar para Início"]}),f.jsxs(ir,{variant:"ghost",onClick:()=>a(-1),className:"w-full h-10",children:[f.jsx(Eo,{className:"h-4 w-4 mr-2"}),"Voltar"]})]})]})})}function Y({module:e,moduleName:t,children:a}){const o=e.toLowerCase(),r=Xe(c=>c.modules.find(u=>{const p=(u.key||"").toLowerCase(),v=(u.slug||"").toLowerCase();return p===o||v===o})),n=t||r?.namePtbr||r?.name||e;return f.jsx(Fa,{module:e,fallback:f.jsx(Ns,{moduleName:n,moduleSlug:e}),children:a})}const lr=(e,t)=>t.some(a=>e instanceof a);let Br,$r;function ks(){return Br||(Br=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ps(){return $r||($r=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cr=new WeakMap,rr=new WeakMap,Kt=new WeakMap;function Ms(e){const t=new Promise((a,o)=>{const r=()=>{e.removeEventListener("success",n),e.removeEventListener("error",c)},n=()=>{a(ht(e.result)),r()},c=()=>{o(e.error),r()};e.addEventListener("success",n),e.addEventListener("error",c)});return Kt.set(t,e),t}function Os(e){if(cr.has(e))return;const t=new Promise((a,o)=>{const r=()=>{e.removeEventListener("complete",n),e.removeEventListener("error",c),e.removeEventListener("abort",c)},n=()=>{a(),r()},c=()=>{o(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",n),e.addEventListener("error",c),e.addEventListener("abort",c)});cr.set(e,t)}let dr={get(e,t,a){if(e instanceof IDBTransaction){if(t==="done")return cr.get(e);if(t==="store")return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return ht(e[t])},set(e,t,a){return e[t]=a,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Jn(e){dr=e(dr)}function Ls(e){return Ps().includes(e)?function(...t){return e.apply(ur(this),t),ht(this.request)}:function(...t){return ht(e.apply(ur(this),t))}}function Fs(e){return typeof e=="function"?Ls(e):(e instanceof IDBTransaction&&Os(e),lr(e,ks())?new Proxy(e,dr):e)}function ht(e){if(e instanceof IDBRequest)return Ms(e);if(rr.has(e))return rr.get(e);const t=Fs(e);return t!==e&&(rr.set(e,t),Kt.set(t,e)),t}const ur=e=>Kt.get(e);function Us(e,t,{blocked:a,upgrade:o,blocking:r,terminated:n}={}){const c=indexedDB.open(e,t),u=ht(c);return o&&c.addEventListener("upgradeneeded",p=>{o(ht(c.result),p.oldVersion,p.newVersion,ht(c.transaction),p)}),a&&c.addEventListener("blocked",p=>a(p.oldVersion,p.newVersion,p)),u.then(p=>{n&&p.addEventListener("close",()=>n()),r&&p.addEventListener("versionchange",v=>r(v.oldVersion,v.newVersion,v))}).catch(()=>{}),u}const Bs=["get","getKey","getAll","getAllKeys","count"],$s=["put","add","delete","clear"],nr=new Map;function zr(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(nr.get(t))return nr.get(t);const a=t.replace(/FromIndex$/,""),o=t!==a,r=$s.includes(a);if(!(a in(o?IDBIndex:IDBObjectStore).prototype)||!(r||Bs.includes(a)))return;const n=async function(c,...u){const p=this.transaction(c,r?"readwrite":"readonly");let v=p.store;return o&&(v=v.index(u.shift())),(await Promise.all([v[a](...u),r&&p.done]))[0]};return nr.set(t,n),n}Jn(e=>({...e,get:(t,a,o)=>zr(t,a)||e.get(t,a,o),has:(t,a)=>!!zr(t,a)||e.has(t,a)}));const zs=["continue","continuePrimaryKey","advance"],Vr={},fr=new WeakMap,Zn=new WeakMap,Vs={get(e,t){if(!zs.includes(t))return e[t];let a=Vr[t];return a||(a=Vr[t]=function(...o){fr.set(this,Zn.get(this)[t](...o))}),a}};async function*Hs(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;const a=new Proxy(t,Vs);for(Zn.set(a,t),Kt.set(a,ur(t));t;)yield a,t=await(fr.get(a)||t.continue()),fr.delete(a)}function Hr(e,t){return t===Symbol.asyncIterator&&lr(e,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&lr(e,[IDBIndex,IDBObjectStore])}Jn(e=>({...e,get(t,a,o){return Hr(t,a)?Hs:e.get(t,a,o)},has(t,a){return Hr(t,a)||e.has(t,a)}}));const Bi="active-report-draft",Wr="etijucas-reports",Ws=2;let Ge=null,kt=!1;async function yt(){if(Ge&&kt)return Ge;try{return Ge=await Us(Wr,Ws,{upgrade(e,t,a){if(console.log(`[reportDraftDB] Upgrading from v${t} to v${a}`),!e.objectStoreNames.contains("drafts")){const o=e.createObjectStore("drafts",{keyPath:"id"});o.createIndex("by-status","syncStatus"),o.createIndex("by-updated","updatedAt")}e.objectStoreNames.contains("images")||e.createObjectStore("images",{keyPath:"id"}).createIndex("by-draft","draftId")},blocked(){console.warn("[reportDraftDB] Database blocked - close other tabs")},blocking(){Ge?.close(),Ge=null,kt=!1}}),kt=!0,Ge}catch(e){if(console.error("[reportDraftDB] Failed to open database:",e),e instanceof Error&&e.name==="NotFoundError"){console.warn("[reportDraftDB] Corrupted database, deleting and recreating...");try{return Ge&&(Ge.close(),Ge=null),await new Promise((t,a)=>{const o=indexedDB.deleteDatabase(Wr);o.onsuccess=()=>t(),o.onerror=()=>a(o.error),o.onblocked=()=>{console.warn("[reportDraftDB] Delete blocked"),t()}}),console.log("[reportDraftDB] Database deleted, recreating..."),kt=!1,yt()}catch(t){throw console.error("[reportDraftDB] Failed to delete database:",t),t}}throw e}}function mr(){return`${Date.now()}-${Math.random().toString(36).substring(2,9)}`}async function eo(e,t="draft",a){const o=await yt(),r=a||e.idempotencyKey||mr(),n=Date.now(),u=(await o.get("drafts",r))?.createdAt??e.createdAt.getTime()??n,p=e.idempotencyKey||mr(),v={categoryId:e.categoryId,category:e.category,location:e.location,locationNote:e.locationNote||null,title:e.title,description:e.description,confirmed:e.confirmed,currentStep:e.currentStep,createdAt:u,updatedAt:n,idempotencyKey:p};await o.put("drafts",{id:r,draft:v,syncStatus:t,createdAt:u,updatedAt:n});const i=o.transaction("images","readwrite"),d=i.objectStore("images"),l=await d.index("by-draft").getAll(r);for(const s of l)await d.delete(s.id);for(const s of e.images){const w=s.file;await d.put({id:s.id,draftId:r,blob:w,filename:s.file.name,capturedAt:s.capturedAt.getTime()})}return await i.done,r}async function Ar(e){const t=await yt(),a=await t.get("drafts",e);if(!a)return null;const r=(await t.getAllFromIndex("images","by-draft",e)).map(c=>{const u=new File([c.blob],c.filename,{type:c.blob.type});return{id:c.id,file:u,previewUrl:URL.createObjectURL(c.blob),capturedAt:new Date(c.capturedAt)}}),n=a.draft;return{categoryId:n.categoryId,category:n.category,location:n.location,title:n.title,description:n.description,confirmed:n.confirmed,currentStep:n.currentStep,createdAt:new Date(n.createdAt),updatedAt:new Date(n.updatedAt),idempotencyKey:n.idempotencyKey,locationNote:n.locationNote||null,images:r}}async function Ks(){const e=await yt(),t=await e.getAll("drafts");return(await Promise.all(t.map(async o=>{const r=await e.getAllFromIndex("images","by-draft",o.id);return{id:o.id,draft:o.draft,syncStatus:o.syncStatus,imageCount:r.length,updatedAt:o.updatedAt}}))).sort((o,r)=>r.updatedAt-o.updatedAt)}async function at(e){return(await(await yt()).getAllFromIndex("drafts","by-status",e)).map(o=>o.id)}async function bt(e,t){const a=await yt(),o=await a.get("drafts",e);o&&await a.put("drafts",{...o,syncStatus:t,updatedAt:Date.now()})}async function to(e){const t=await yt(),a=await t.getAllFromIndex("images","by-draft",e),o=t.transaction("images","readwrite");for(const r of a)await o.store.delete(r.id);await o.done,await t.delete("drafts",e)}async function Qs(){const e=await at("sent");let t=0;for(const a of e)await to(a),t++;return t}function qs(e){for(const t of e)t.previewUrl?.startsWith("blob:")&&URL.revokeObjectURL(t.previewUrl)}const Kr="report_draft";async function Ys(){try{const e=localStorage.getItem(Kr);if(!e)return!1;const t=JSON.parse(e);if(!t)return!1;const a={categoryId:t.categoryId||null,category:t.category||null,location:t.location||null,title:t.title||"",description:t.description||"",confirmed:!1,currentStep:t.currentStep||1,createdAt:new Date,updatedAt:new Date,idempotencyKey:mr(),locationNote:t.locationNote||null,images:[]};return await eo(a,"draft"),localStorage.removeItem(Kr),console.log("[reportDraftDB] Migrated draft from localStorage to IndexedDB"),!0}catch(e){return console.error("[reportDraftDB] Migration failed:",e),!1}}const $i={saveDraft:eo,getDraft:Ar,getAllDrafts:Ks,getDraftsByStatus:at,updateDraftStatus:bt,deleteDraft:to,clearSentDrafts:Qs,revokeImageURLs:qs,migrateFromLocalStorage:Ys},gt={initialDelay:5e3,multiplier:3,maxDelay:3e5,maxRetries:5},Gs=new Set,We={queuedTotal:0,syncedTotal:0,failedTotal:0,retriesScheduledTotal:0,lastSuccessAt:null,lastFailureAt:null,lastErrorType:null};function xt(e){console.info("[ReportSync][metric]",e);for(const t of Gs)try{t(e)}catch(a){console.warn("[ReportSync] Metric listener failed:",a)}}function Xs(e){const t=gt.initialDelay*Math.pow(gt.multiplier,e);return Math.min(t,gt.maxDelay)}const X={isOnline:typeof navigator<"u"?navigator.onLine:!0,isSyncing:!1,lastSyncAttempt:null,retryInfo:new Map,scheduledRetryTimer:null};let Qr=!1,qr=!1;function Js(){Qr||typeof window>"u"||(window.addEventListener("online",()=>{X.isOnline=!0,console.log("[ReportSync] Online - triggering sync"),Dt()}),window.addEventListener("offline",()=>{X.isOnline=!1,console.log("[ReportSync] Offline"),X.scheduledRetryTimer&&(clearTimeout(X.scheduledRetryTimer),X.scheduledRetryTimer=null)}),Qr=!0)}function Zs(){return{...We}}function ei(){qr||(qr=!0,Js(),X.isOnline&&Dt())}async function zi(e){if(!await Ar(e))throw new Error(`[ReportSync] Draft not found for queueing: ${e}`);await bt(e,"queued"),We.queuedTotal+=1,xt({type:"queue_enqueued",timestamp:Date.now(),draftId:e}),X.retryInfo.set(e,{attempts:0,nextRetryAt:null,lastError:null}),X.isOnline&&!X.isSyncing&&Dt()}async function Dt(){if(!X.isOnline)return console.log("[ReportSync] Offline, skipping sync"),{synced:0,failed:0};if(X.isSyncing)return console.log("[ReportSync] Already syncing, skipping"),{synced:0,failed:0};X.isSyncing=!0,X.lastSyncAttempt=Date.now(),xt({type:"sync_started",timestamp:X.lastSyncAttempt});let e=0,t=0;try{const a=await at("queued"),o=await ti(),r=[...a,...o];for(const n of r)await ai(n)?(e++,X.retryInfo.delete(n)):t++;ri()}catch(a){console.error("[ReportSync] Sync loop error:",a)}finally{X.isSyncing=!1}return console.log(`[ReportSync] Sync complete: ${e} synced, ${t} failed`),xt({type:"sync_completed",timestamp:Date.now(),synced:e,failed:t}),{synced:e,failed:t}}async function ti(){const e=await at("failed"),t=Date.now();return e.filter(a=>{const o=X.retryInfo.get(a);return o?o.attempts>=gt.maxRetries?!1:o.nextRetryAt?t>=o.nextRetryAt:!0:!0})}function ri(){if(X.scheduledRetryTimer&&(clearTimeout(X.scheduledRetryTimer),X.scheduledRetryTimer=null),!X.isOnline)return;let e=null;for(const[,t]of X.retryInfo)t.nextRetryAt&&t.attempts<gt.maxRetries&&(!e||t.nextRetryAt<e)&&(e=t.nextRetryAt);if(e){const t=Math.max(0,e-Date.now());console.log(`[ReportSync] Scheduling retry in ${Math.round(t/1e3)}s`),We.retriesScheduledTotal+=1,xt({type:"retry_scheduled",timestamp:Date.now(),delayMs:t}),X.scheduledRetryTimer=setTimeout(()=>{X.scheduledRetryTimer=null,X.isOnline&&!X.isSyncing&&Dt()},t)}}function ni(e){return e instanceof Ce&&e.status>=400&&e.status<500?e.status===408||e.status===429:!0}function oi(e){return e instanceof Ce?e.code?`api:${e.code}`:`api:${e.status}`:e instanceof Error?`error:${e.name}`:"unknown"}async function ai(e){try{await bt(e,"sending");const t=await Ar(e);if(!t)return console.warn("[ReportSync] Draft not found:",e),!1;const a=si(t);if(await Xn(a,t.idempotencyKey))return await bt(e,"sent"),console.log("[ReportSync] Report synced:",e),We.syncedTotal+=1,We.lastSuccessAt=Date.now(),xt({type:"sync_success",timestamp:We.lastSuccessAt,draftId:e}),!0;throw new Error("API returned no result")}catch(t){console.error("[ReportSync] Failed to sync report:",e,t);const a=ni(t),o=oi(t),r=X.retryInfo.get(e)||{attempts:0},n=a?r.attempts+1:gt.maxRetries,c=Xs(n);return X.retryInfo.set(e,{attempts:n,nextRetryAt:a?Date.now()+c:null,lastError:t instanceof Error?t.message:"Unknown error"}),await bt(e,"failed"),We.failedTotal+=1,We.lastFailureAt=Date.now(),We.lastErrorType=o,xt({type:"sync_failure",timestamp:We.lastFailureAt,draftId:e,attempts:n,delayMs:a?c:void 0,errorType:o}),a?console.log(`[ReportSync] Will retry in ${Math.round(c/1e3)}s (attempt ${n}/${gt.maxRetries})`):console.warn(`[ReportSync] Marked as failed without retry (non-retryable): ${e}`),!1}}function si(e){return{categoryId:e.categoryId||"",title:e.title||"",description:e.description||"",addressText:e.location?.address,addressSource:e.location?.source,latitude:e.location?.latitude,longitude:e.location?.longitude,locationQuality:e.location?.quality,locationAccuracyM:e.location?.accuracy,images:e.images.map(t=>t.file)}}async function Vi(){const e=await at("queued"),t=await at("sending"),a=await at("failed"),o=Date.now(),r=a.map(n=>{const c=X.retryInfo.get(n);return{draftId:n,attempts:c?.attempts||0,nextRetryIn:c?.nextRetryAt?Math.max(0,Math.round((c.nextRetryAt-o)/1e3)):null,lastError:c?.lastError||null}});return{isOnline:X.isOnline,isSyncing:X.isSyncing,lastSyncAttempt:X.lastSyncAttempt,pendingCount:e.length+t.length+a.length,failedWithRetryInfo:r,metrics:Zs()}}async function Hi(){const e=await at("failed");for(const t of e)X.retryInfo.set(t,{attempts:0,nextRetryAt:null,lastError:null}),await bt(t,"queued");X.isOnline&&!X.isSyncing&&Dt()}const Yr={cities:"/cities",detect:"/cities/detect"},ro="etijucas_last_city";function ii(){const e=window.location.pathname.match(/^\/([a-z]{2})\/([a-z0-9-]+)/i);return e?{uf:e[1].toLowerCase(),cidade:e[2].toLowerCase()}:null}function li(){try{const e=localStorage.getItem(ro);if(e)return JSON.parse(e)}catch{}return null}function pr(e,t){try{localStorage.setItem(ro,JSON.stringify({uf:e,cidade:t}))}catch{}}function ci({children:e,onCitySelected:t}){const[a,o]=$.useState(null),[r,n]=$.useState([]),[c,u]=$.useState(!1),[p,v]=$.useState(!1),[i,d]=$.useState(""),[l,s]=$.useState(null);$.useEffect(()=>{const k=ii();if(k){pr(k.uf,k.cidade),o(!1);return}const N=li();if(N){const R=`/${N.uf}/${N.cidade}${window.location.search}`;window.location.replace(R);return}o(!0),w()},[]);const w=async()=>{u(!0),s(null);try{const k=await Ie.get(Yr.cities);n(k.data||[])}catch(k){s("Erro ao carregar cidades"),console.error("Failed to load cities:",k)}finally{u(!1)}},S=$.useCallback(k=>{const N=k.uf.toLowerCase(),R=k.slug.split("-")[0];pr(N,R),t?.(k);const P=`/${N}/${R}${window.location.search}`;window.location.replace(P)},[t]),T=$.useCallback(async()=>{if(!navigator.geolocation){s("GPS não suportado neste dispositivo");return}v(!0),s(null),navigator.geolocation.getCurrentPosition(async k=>{try{const{latitude:N,longitude:R}=k.coords,P=await Ie.get(`${Yr.detect}?lat=${N}&lon=${R}`);P.data?S(P.data):s("Nenhuma cidade encontrada próxima. Escolha manualmente.")}catch{s("Erro ao detectar cidade")}finally{v(!1)}},k=>{console.error("Geolocation error:",k),s("Não foi possível obter sua localização"),v(!1)},{enableHighAccuracy:!0,timeout:1e4})},[S]),x=r.filter(k=>k.name.toLowerCase().includes(i.toLowerCase())||k.uf.toLowerCase().includes(i.toLowerCase()));return a===null?f.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:f.jsx("div",{className:"w-10 h-10 border-4 border-primary border-t-transparent rounded-full animate-spin"})}):a?f.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-primary/10 via-background to-background flex flex-col",children:[f.jsxs("div",{className:"flex-shrink-0 px-6 pt-12 pb-6 text-center",children:[f.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-2xl bg-primary/10 flex items-center justify-center",children:f.jsx(jr,{className:"w-8 h-8 text-primary"})}),f.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:"Bem-vindo!"}),f.jsx("p",{className:"text-muted-foreground",children:"Escolha sua cidade para continuar"})]}),f.jsx("div",{className:"px-6 mb-6",children:f.jsx("button",{onClick:T,disabled:p,className:"w-full flex items-center justify-center gap-3 px-4 py-4 rounded-2xl bg-primary text-primary-foreground font-semibold shadow-lg hover:bg-primary/90 transition-all disabled:opacity-50",children:p?f.jsxs(f.Fragment,{children:[f.jsx(Tr,{className:"w-5 h-5 animate-spin"}),"Detectando..."]}):f.jsxs(f.Fragment,{children:[f.jsx(Ao,{className:"w-5 h-5"}),"Usar minha localização"]})})}),f.jsxs("div",{className:"flex items-center gap-4 px-6 mb-4",children:[f.jsx("div",{className:"flex-1 h-px bg-border"}),f.jsx("span",{className:"text-sm text-muted-foreground",children:"ou escolha"}),f.jsx("div",{className:"flex-1 h-px bg-border"})]}),f.jsx("div",{className:"px-6 mb-4",children:f.jsxs("div",{className:"relative",children:[f.jsx(Io,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),f.jsx("input",{type:"text",value:i,onChange:k=>d(k.target.value),placeholder:"Buscar cidade...",className:"w-full pl-12 pr-4 py-3 rounded-xl border border-border bg-muted/50 focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all"})]})}),l&&f.jsx("div",{className:"px-6 mb-4",children:f.jsx("p",{className:"text-sm text-destructive text-center",children:l})}),f.jsx("div",{className:"flex-1 overflow-y-auto px-6 pb-6",children:c?f.jsx("div",{className:"flex items-center justify-center py-8",children:f.jsx(Tr,{className:"w-6 h-6 animate-spin text-primary"})}):x.length===0?f.jsx("p",{className:"text-center text-muted-foreground py-8",children:i?"Nenhuma cidade encontrada":"Nenhuma cidade disponível"}):f.jsx("div",{className:"space-y-2",children:x.map(k=>f.jsxs("button",{onClick:()=>S(k),className:"w-full flex items-center justify-between px-4 py-4 rounded-xl bg-card border border-border hover:border-primary/50 hover:bg-primary/5 transition-all group",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:f.jsx(jr,{className:"w-5 h-5 text-primary"})}),f.jsxs("div",{className:"text-left",children:[f.jsx("p",{className:"font-medium text-foreground",children:k.name}),f.jsx("p",{className:"text-sm text-muted-foreground",children:k.uf})]})]}),f.jsx(jo,{className:"w-5 h-5 text-muted-foreground group-hover:text-primary transition-colors"})]},k.id))})})]}):f.jsx(f.Fragment,{children:e})}const di=$.lazy(()=>re(()=>import("./LoginPage-BxoykR1i.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]))),ui=$.lazy(()=>re(()=>import("./AuthPage-D2w07IwS.js").then(e=>e.W),__vite__mapDeps([9,1,2,3,5,4,6,7]))),fi=$.lazy(()=>re(()=>import("./AuthPage-D2w07IwS.js").then(e=>e.A),__vite__mapDeps([9,1,2,3,5,4,6,7])));$.lazy(()=>re(()=>import("./RegisterPage-BxGJC-IO.js"),__vite__mapDeps([10,1,2,11,4,6,3,5,12,13,7,14])));const mi=$.lazy(()=>re(()=>import("./ForgotPasswordPage-CvYET2YE.js"),__vite__mapDeps([15,1,2,4,6,3,5,12,7,14]))),Gr=$.lazy(()=>re(()=>import("./ProfilePage-Cs7IhKrE.js"),__vite__mapDeps([16,1,2,4,6,3,17,13,7,18,8,19,20,14]))),Xr=$.lazy(()=>re(()=>import("./MassesPage-Bxo7bYJI.js"),__vite__mapDeps([21,1,22,23,24,25,4,26,18,8,19,20,27]))),Jr=$.lazy(()=>re(()=>import("./EventDetailsPage-1Uu1M8Aq.js"),__vite__mapDeps([28,1,22,3,29,30,27]))),Zr=$.lazy(()=>re(()=>import("./TopicDetailPage-COWQJlpS.js"),__vite__mapDeps([31,1,20,32,22,33,34,35,36]))),en=$.lazy(()=>re(()=>import("./VoteDetailPage-ev6jQO_F.js"),__vite__mapDeps([37,1,22,3,18,8,19,20,38,39,40,34,32,35,41]))),tn=$.lazy(()=>re(()=>import("./VotesListPage-ahMZjW_P.js"),__vite__mapDeps([42,1,4,22,43,44,18,8,19,20,39,38,40,41,35]))),rn=$.lazy(()=>re(()=>import("./VereadoresListPage-CT4PxfzH.js"),__vite__mapDeps([45,1,4,22,3,43,44,46,18,8,19,20,40]))),nn=$.lazy(()=>re(()=>import("./VereadorDetailPage-p3mo1AYy.js"),__vite__mapDeps([47,1,22,3,46,18,8,19,20,40,38]))),on=$.lazy(()=>re(()=>import("./ReportWizardPage-CYFPazBR.js"),__vite__mapDeps([48,1,49,3,50,51,52,4,53,54,55,33,22,24,35,11,18,8]))),an=$.lazy(()=>re(()=>import("./MyReportsPage-C1xzJ_WR.js"),__vite__mapDeps([56,1,49,3,22,52,18,8,50,51,4]))),sn=$.lazy(()=>re(()=>import("./ReportDetailPage-ai3YtGRa.js"),__vite__mapDeps([57,1,22,3,33,58,53,54,55,50,51,18,8,27]))),ln=$.lazy(()=>re(()=>import("./TourismDetailPage-BeaHAryj.js"),__vite__mapDeps([59,1,60,22,46,33,25,35,39,58]))),cn=$.lazy(()=>re(()=>import("./WeatherPage-V-J8j6Vu.js"),__vite__mapDeps([61,1,51,3,33,43,62,55,27]))),dn=$.lazy(()=>re(()=>import("./UsefulPhonesScreen-BtUoY8Jp.js"),__vite__mapDeps([63,1,22,36,18,8,4,19,20]))),un=$.lazy(()=>re(()=>import("./TrashScheduleScreen-DLFpzVnh.js"),__vite__mapDeps([64,1,8]))),fn=$.lazy(()=>re(()=>import("./ForumScreen-CmWpe7uE.js"),__vite__mapDeps([65,1,19,20,32,4,44,66,67,22,39,35,17,36]))),mn=$.lazy(()=>re(()=>import("./ReportScreen-Cx6CN-76.js"),__vite__mapDeps([68,1,22,3,4,49,18,8,50,51,27]))),pn=$.lazy(()=>re(()=>import("./ReportsMapScreen-B0J3_ICh.js"),__vite__mapDeps([69,1,49,54,22,24,23,39,50,51,18,8,27,70]))),hn=$.lazy(()=>re(()=>import("./AgendaScreen-PtreGdHd.js"),__vite__mapDeps([71,1,43,22,4,33,26,25,3,29,30,27,23,7,19,20,8]))),gn=$.lazy(()=>re(()=>import("./TourismScreen-CPOlrP4J.js"),__vite__mapDeps([72,1,60,4,22,39,33,25]))),yn=$.lazy(()=>re(()=>import("./MoreScreen-D3PHO_ed.js"),__vite__mapDeps([73,1,19,20,22,8]))),vn=$.lazy(()=>re(()=>import("./HomeScreen-5LLenNAg.js"),__vite__mapDeps([74,1,30,60,66,67,20,39,22,19,8,62,55,33,27,11]))),wn=$.lazy(()=>re(()=>import("./VehicleConsultationPage-B2d0BTJP.js"),__vite__mapDeps([75,1,76,51,39]))),bn=$.lazy(()=>re(()=>import("./MainLayout-CV1Mhl2_.js"),__vite__mapDeps([77,1,67,18,8,19,20,2]))),pi=()=>f.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:f.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})}),hi=new To({defaultOptions:{queries:{staleTime:1e3*60*5,gcTime:1e3*60*60*24,retry:2,refetchOnWindowFocus:!1,networkMode:"offlineFirst"},mutations:{retry:1,networkMode:"offlineFirst"}}}),gi={persister:Ca,maxAge:1e3*60*60*24,buster:"v1"};function yi({children:e}){return f.jsx(ja,{client:hi,persistOptions:gi,children:f.jsx(ka,{children:f.jsx(ci,{children:f.jsx(vi,{children:f.jsxs(xa,{children:[f.jsx(_a,{}),f.jsx(zo,{}),f.jsx(ba,{}),e]})})})})})}function vi({children:e}){const{bootstrap:t,isBootstrapped:a,isLoading:o,error:r,city:n}=Xe();return $.useEffect(()=>{if(o)return;const c=sr(),u=n?.slug??null;if((!a||u!==c)&&(console.log("[TenantBootstrap] Bootstrapping city:",c),t(c)),c&&c!=="tijucas-sc"){const p=window.location.pathname.match(/^\/([a-z]{2})\/([a-z0-9-]+)/i);p&&pr(p[1].toLowerCase(),p[2].toLowerCase())}},[t,n?.slug,a,o]),$.useEffect(()=>{a&&ei()},[a]),!a&&o?f.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-background gap-4",children:[f.jsx("div",{className:"w-10 h-10 border-4 border-primary border-t-transparent rounded-full animate-spin"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando..."})]}):!a&&r?f.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-background p-6 text-center gap-4",children:[f.jsx("p",{className:"text-destructive font-medium",children:"Erro ao carregar configuração"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:r}),f.jsx("button",{onClick:()=>t(sr()),className:"px-4 py-2 bg-primary text-primary-foreground rounded-lg",children:"Tentar novamente"})]}):f.jsx(f.Fragment,{children:e})}const wi=()=>f.jsx(yi,{children:f.jsx(_o,{children:f.jsx($.Suspense,{fallback:f.jsx(pi,{}),children:f.jsxs(Ro,{children:[f.jsx(H,{path:"/auth",element:f.jsx(fi,{})}),f.jsx(H,{path:"/login",element:f.jsx(di,{})}),f.jsx(H,{path:"/login/otp",element:f.jsx(ui,{})}),f.jsx(H,{path:"/cadastro",element:f.jsx(Ye,{to:"/auth",replace:!0})}),f.jsx(H,{path:"/esqueci-senha",element:f.jsx(mi,{})}),f.jsxs(H,{element:f.jsx(bn,{}),children:[f.jsx(H,{path:"/",element:f.jsx(vn,{})}),f.jsx(H,{path:"/mais",element:f.jsx(yn,{})}),f.jsx(H,{path:"/perfil",element:f.jsx(Gr,{})}),f.jsx(H,{path:"/agenda",element:f.jsx(Y,{module:"events",children:f.jsx(hn,{})})}),f.jsx(H,{path:"/agenda/:eventId",element:f.jsx(Y,{module:"events",children:f.jsx(Jr,{})})}),f.jsx(H,{path:"/evento/:eventId",element:f.jsx(Ye,{to:"/agenda/:eventId",replace:!0})}),f.jsx(H,{path:"/forum",element:f.jsx(Y,{module:"forum",children:f.jsx(fn,{})})}),f.jsx(H,{path:"/boca-no-trombone",element:f.jsx(Ye,{to:"/forum",replace:!0})}),f.jsx(H,{path:"/topico/:id",element:f.jsx(Y,{module:"forum",children:f.jsx(Zr,{})})}),f.jsx(H,{path:"/denuncias",element:f.jsx(Y,{module:"reports",children:f.jsx(mn,{})})}),f.jsx(H,{path:"/denuncias/mapa",element:f.jsx(Y,{module:"reports",children:f.jsx(pn,{})})}),f.jsx(H,{path:"/denuncia/nova",element:f.jsx(Y,{module:"reports",children:f.jsx(on,{})})}),f.jsx(H,{path:"/denuncia/:id",element:f.jsx(Y,{module:"reports",children:f.jsx(sn,{})})}),f.jsx(H,{path:"/minhas-denuncias",element:f.jsx(Y,{module:"reports",children:f.jsx(an,{})})}),f.jsx(H,{path:"/coleta-lixo",element:f.jsx(Y,{module:"trash",children:f.jsx(un,{})})}),f.jsx(H,{path:"/coleta",element:f.jsx(Ye,{to:"/coleta-lixo",replace:!0})}),f.jsx(H,{path:"/votacoes",element:f.jsx(Y,{module:"voting",children:f.jsx(tn,{})})}),f.jsx(H,{path:"/votacoes/:id",element:f.jsx(Y,{module:"voting",children:f.jsx(en,{})})}),f.jsx(H,{path:"/vereadores",element:f.jsx(Y,{module:"council",children:f.jsx(rn,{})})}),f.jsx(H,{path:"/vereadores/:slug",element:f.jsx(Y,{module:"council",children:f.jsx(nn,{})})}),f.jsx(H,{path:"/missas",element:f.jsx(Y,{module:"masses",children:f.jsx(Xr,{})})}),f.jsx(H,{path:"/telefones",element:f.jsx(Y,{module:"phones",children:f.jsx(dn,{})})}),f.jsx(H,{path:"/telefones-uteis",element:f.jsx(Ye,{to:"/telefones",replace:!0})}),f.jsx(H,{path:"/pontos-turisticos",element:f.jsx(Y,{module:"tourism",children:f.jsx(gn,{})})}),f.jsx(H,{path:"/ponto-turistico/:id",element:f.jsx(Y,{module:"tourism",children:f.jsx(ln,{})})}),f.jsx(H,{path:"/turismo",element:f.jsx(Ye,{to:"/pontos-turisticos",replace:!0})}),f.jsx(H,{path:"/previsao",element:f.jsx(Y,{module:"weather",children:f.jsx(cn,{})})}),f.jsx(H,{path:"/tempo",element:f.jsx(Ye,{to:"/previsao",replace:!0})}),f.jsx(H,{path:"/veiculos",element:f.jsx(Y,{module:"vehicles",children:f.jsx(wn,{})})}),f.jsx(H,{path:"/consulta-veiculo",element:f.jsx(Ye,{to:"/veiculos",replace:!0})})]}),f.jsxs(H,{path:"/:uf/:cidade",element:f.jsx(bn,{}),children:[f.jsx(H,{index:!0,element:f.jsx(vn,{})}),f.jsx(H,{path:"mais",element:f.jsx(yn,{})}),f.jsx(H,{path:"perfil",element:f.jsx(Gr,{})}),f.jsx(H,{path:"agenda",element:f.jsx(Y,{module:"events",children:f.jsx(hn,{})})}),f.jsx(H,{path:"agenda/:eventId",element:f.jsx(Y,{module:"events",children:f.jsx(Jr,{})})}),f.jsx(H,{path:"forum",element:f.jsx(Y,{module:"forum",children:f.jsx(fn,{})})}),f.jsx(H,{path:"topico/:id",element:f.jsx(Y,{module:"forum",children:f.jsx(Zr,{})})}),f.jsx(H,{path:"denuncias",element:f.jsx(Y,{module:"reports",children:f.jsx(mn,{})})}),f.jsx(H,{path:"denuncias/mapa",element:f.jsx(Y,{module:"reports",children:f.jsx(pn,{})})}),f.jsx(H,{path:"denuncia/nova",element:f.jsx(Y,{module:"reports",children:f.jsx(on,{})})}),f.jsx(H,{path:"denuncia/:id",element:f.jsx(Y,{module:"reports",children:f.jsx(sn,{})})}),f.jsx(H,{path:"minhas-denuncias",element:f.jsx(Y,{module:"reports",children:f.jsx(an,{})})}),f.jsx(H,{path:"coleta-lixo",element:f.jsx(Y,{module:"trash",children:f.jsx(un,{})})}),f.jsx(H,{path:"votacoes",element:f.jsx(Y,{module:"voting",children:f.jsx(tn,{})})}),f.jsx(H,{path:"votacoes/:id",element:f.jsx(Y,{module:"voting",children:f.jsx(en,{})})}),f.jsx(H,{path:"vereadores",element:f.jsx(Y,{module:"council",children:f.jsx(rn,{})})}),f.jsx(H,{path:"vereadores/:slug",element:f.jsx(Y,{module:"council",children:f.jsx(nn,{})})}),f.jsx(H,{path:"missas",element:f.jsx(Y,{module:"masses",children:f.jsx(Xr,{})})}),f.jsx(H,{path:"telefones",element:f.jsx(Y,{module:"phones",children:f.jsx(dn,{})})}),f.jsx(H,{path:"pontos-turisticos",element:f.jsx(Y,{module:"tourism",children:f.jsx(gn,{})})}),f.jsx(H,{path:"ponto-turistico/:id",element:f.jsx(Y,{module:"tourism",children:f.jsx(ln,{})})}),f.jsx(H,{path:"previsao",element:f.jsx(Y,{module:"weather",children:f.jsx(cn,{})})}),f.jsx(H,{path:"veiculos",element:f.jsx(Y,{module:"vehicles",children:f.jsx(wn,{})})})]}),f.jsx(H,{path:"*",element:f.jsx(Ye,{to:"/",replace:!0})})]})})})});async function bi(){}async function xi(){await bi();{const e=No({onNeedRefresh(){confirm("Nova vers�o dispon�vel! Atualizar agora?")&&e(!0)},onOfflineReady(){console.log("App pronto para uso offline")},onRegistered(t){console.log("SW registered:",t?.scope),t&&setInterval(()=>{t.update()},36e5)},onRegisterError(t){console.error("SW registration error:",t)}})}Dn(document.getElementById("root")).render(f.jsx(wi,{}))}xi();export{Ss as A,ir as B,$i as C,Bi as D,Se as E,qs as F,Ys as G,Mi as H,ds as I,zi as J,pt as K,Ce as L,As as M,Rs as N,Ai as O,Ci as P,Ba as Q,Li as R,Ni as S,re as _,Ui as a,Fo as b,st as c,Ie as d,Xe as e,Ei as f,Ut as g,Di as h,Ta as i,_i as j,xs as k,Vi as l,Dt as m,Hi as n,ji as o,Ln as p,Ti as q,Pi as r,Un as s,Ii as t,Ds as u,Ri as v,Fi as w,as as x,ki as y,Oi as z};
