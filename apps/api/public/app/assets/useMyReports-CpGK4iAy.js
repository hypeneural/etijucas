import{b as u,c as n,u as a}from"./vendor-query-BEEFX5y8.js";import{r as o}from"./CategoryIcon-CoRlWqcl.js";import{u as c}from"./useAuthStore-zZ7TxdTJ.js";import{Q as s}from"./client-w4Cmw8pS.js";function f(e){const{isAuthenticated:r}=c(),t=a({queryKey:[...s.myReports,e],queryFn:()=>o.getMyReports(e),staleTime:30*1e3,gcTime:5*60*1e3,refetchOnWindowFocus:!0,enabled:r});return{reports:t.data?.data??[],meta:t.data?.meta,isLoading:t.isLoading,error:t.error,refetch:t.refetch}}function h(){const e=u(),r=n({mutationFn:({payload:t,idempotencyKey:i})=>o.createReport(t,i),onSuccess:()=>{e.invalidateQueries({queryKey:s.myReports}),e.invalidateQueries({queryKey:["reports","public"]}),e.invalidateQueries({queryKey:s.reports.stats()})}});return{createReport:r.mutateAsync,isCreating:r.isPending,error:r.error,reset:r.reset}}function l(e){const r=a({queryKey:["reports","public",e],queryFn:()=>o.getPublicReports(e),staleTime:3e4,gcTime:3e5,refetchOnWindowFocus:!0});return{reports:r.data?.data??[],meta:r.data?.meta,isLoading:r.isLoading,error:r.error,refetch:r.refetch}}function g(){const e=a({queryKey:s.reports.stats(),queryFn:()=>o.getReportsStats(),staleTime:6e4,gcTime:3e5,refetchOnWindowFocus:!0});return{stats:e.data??{total:0,byStatus:{recebido:0,em_analise:0,resolvido:0,rejeitado:0},thisMonth:0,resolvedThisMonth:0},isLoading:e.isLoading,error:e.error,refetch:e.refetch}}export{f as a,g as b,l as c,h as u};
