import{j as e,r as m}from"./vendor-radix-i3jPA7eY.js";import{B as p}from"./button-CzQZFubz.js";import{b as k,c as y,X as $,R as A,T as D,C as w,k as le,f as oe,H as ne,u as ce}from"./index-BDiq7wAJ.js";import{M as q}from"./map-pin-0GriYRC7.js";import{C as T}from"./camera-B9RYu-2f.js";import{m as i,A as V}from"./vendor-motion-CFwwOuCD.js";import{C as de}from"./check-BVsTtdCm.js";import{B as Z}from"./badge-D2Pac-zB.js";import{C as h}from"./card-DNO2UArX.js";import{I}from"./info-DbDb6dAV.js";import{C as P}from"./circle-help-JrNgv8n5.js";import{T as Y}from"./trash-2-Bl95JcG5.js";import{L as _}from"./lightbulb-CuD6qJKe.js";import{C as X}from"./construction-Rju1i-p0.js";import{C as H}from"./chevron-right-CjZsPi3v.js";import{I as me}from"./input-hryC7RkY.js";import{L as R}from"./loader-circle-fkCUtOv7.js";import{P as xe}from"./pen-line-L0zSQmGc.js";import{N as ue}from"./navigation-B8PYb9Jz.js";import{C as pe}from"./checkbox-gYENymje.js";import{T as he,S as ge}from"./textarea-B8JamwNS.js";import{c as L,P as G}from"./confetti.module-D722aubH.js";import{S as be}from"./sparkles-Bm_11PFF.js";import{C as fe}from"./copy-DoQMhmx3.js";import{S as je}from"./share-2-C1f1p6IF.js";import{A as Ne}from"./arrow-left-TgSVdl__.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=k("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=k("FileSearch",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4.268 21a2 2 0 0 0 1.727 1H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"ms7g94"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=k("ImageOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ke=k("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=k("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=k("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=k("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=k("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=k("SwitchCamera",[["path",{d:"M11 19H4a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h5",key:"mtk2lu"}],["path",{d:"M13 5h7a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-5",key:"120jsl"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"m18 22-3-3 3-3",key:"kgdoj7"}],["path",{d:"m6 2 3 3-3 3",key:"1fnbkv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=k("TrafficCone",[["path",{d:"M9.3 6.2a4.55 4.55 0 0 0 5.4 0",key:"flyxqv"}],["path",{d:"M7.9 10.7c.9.8 2.4 1.3 4.1 1.3s3.2-.5 4.1-1.3",key:"1nlxxg"}],["path",{d:"M13.9 3.5a1.93 1.93 0 0 0-3.8-.1l-3 10c-.1.2-.1.4-.1.6 0 1.7 2.2 3 5 3s5-1.3 5-3c0-.2 0-.4-.1-.5Z",key:"vz7x1l"}],["path",{d:"m7.5 12.2-4.7 2.7c-.5.3-.8.7-.8 1.1s.3.8.8 1.1l7.6 4.5c.9.5 2.1.5 3 0l7.6-4.5c.7-.3 1-.7 1-1.1s-.3-.8-.8-1.1l-4.7-2.8",key:"1xfzlw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=k("TreePine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=k("Trees",[["path",{d:"M10 10v.2A3 3 0 0 1 8.9 16H5a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z",key:"1l6gj6"}],["path",{d:"M7 16v6",key:"1a82de"}],["path",{d:"M13 19v3",key:"13sx9i"}],["path",{d:"M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .8-1.7L13 3l-1.4 1.5",key:"1sj9kv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=k("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=k("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]),Ce=[{icon:ke,label:"Categoria"},{icon:q,label:"Localização"},{icon:T,label:"Fotos"},{icon:ve,label:"Revisão"}];function Se({currentStep:a,totalSteps:s,labels:j}){return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:Ce.slice(0,s).map((g,r)=>{const u=r+1,o=u<a,l=u===a,n=g.icon;return e.jsxs("div",{className:"flex flex-col items-center flex-1",children:[r>0&&e.jsx("div",{className:y("absolute h-0.5 -translate-y-4",o||l?"bg-primary":"bg-muted"),style:{width:`calc(100% / ${s} - 2rem)`,left:`calc((100% / ${s}) * ${r} + 1rem)`}}),e.jsx(i.div,{initial:{scale:.8},animate:{scale:l?1.1:1},className:y("relative z-10 h-10 w-10 rounded-full flex items-center justify-center transition-all",o&&"bg-primary text-primary-foreground",l&&"bg-primary text-primary-foreground ring-4 ring-primary/20",!o&&!l&&"bg-muted text-muted-foreground"),children:o?e.jsx(de,{className:"h-5 w-5"}):e.jsx(n,{className:"h-5 w-5"})}),e.jsx("span",{className:y("text-xs mt-1.5 font-medium text-center",l&&"text-primary",o&&"text-foreground",!o&&!l&&"text-muted-foreground"),children:j?.[r]||g.label})]},u)})}),e.jsx("div",{className:"relative -mt-[3.2rem] mx-5 h-0.5 bg-muted rounded-full",children:e.jsx(i.div,{className:"h-full bg-primary rounded-full",initial:{width:0},animate:{width:`${(a-1)/(s-1)*100}%`},transition:{type:"spring",stiffness:300,damping:30}})}),e.jsx("div",{className:"h-4"}),e.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[e.jsxs("span",{className:"font-semibold text-primary",children:["Etapa ",a]}),e.jsxs("span",{className:"text-muted-foreground",children:["de ",s]})]})]})}function Me({title:a,content:s,className:j}){const[g,r]=m.useState(!1),u=Array.isArray(s)?s:[s];return e.jsxs("div",{className:y("inline-flex items-center gap-1",j),children:[e.jsx(i.button,{type:"button",whileTap:{scale:.9},onClick:()=>r(!0),className:"flex h-5 w-5 items-center justify-center rounded-full bg-muted hover:bg-muted/80 transition-colors","aria-label":`Ajuda sobre ${a}`,children:e.jsx(I,{className:"h-3 w-3 text-muted-foreground"})}),e.jsx(V,{children:g&&e.jsxs(e.Fragment,{children:[e.jsx(i.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/40",onClick:()=>r(!1)}),e.jsxs(i.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:300},className:"fixed bottom-0 left-0 right-0 z-50 rounded-t-3xl bg-background p-6 safe-bottom",children:[e.jsx("div",{className:"absolute top-3 left-1/2 -translate-x-1/2 h-1 w-10 rounded-full bg-muted"}),e.jsxs("div",{className:"flex items-start justify-between mt-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 rounded-full bg-primary/10",children:e.jsx(I,{className:"h-4 w-4 text-primary"})}),e.jsx("h3",{className:"font-semibold text-lg",children:a})]}),e.jsx(p,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-full",onClick:()=>r(!1),children:e.jsx($,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"mt-4 space-y-2",children:u.map((o,l)=>e.jsxs("p",{className:"text-sm text-muted-foreground flex items-start gap-2",children:[e.jsx("span",{className:"text-primary mt-0.5",children:"•"}),e.jsx("span",{children:o})]},l))}),e.jsx(p,{className:"w-full mt-6",onClick:()=>r(!1),children:"Entendi"})]})]})})]})}function O({title:a,subtitle:s,helpTitle:j,helpContent:g}){return e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h1",{className:"text-2xl font-bold",children:a}),g&&e.jsx(Me,{title:j||a,content:g})]}),s&&e.jsx("p",{className:"text-sm text-muted-foreground",children:s})]})}const ze=[{id:"buraco",label:"Buraco na via",icon:"construction",tips:["Fotografe de perto e depois mostre o trecho da rua.","Se tiver risco de acidente, marque como urgente."],subcategories:["Cratera grande","Remendo solto","Tampa de bueiro quebrada","Desnível perigoso"]},{id:"mato_alto",label:"Mato alto",icon:"tree-pine",tips:["Mostre a área e o entorno (calçada/rua)."],subcategories:["Praça/área pública","Beira de rua","Terreno baldio"]},{id:"iluminacao",label:"Iluminação pública",icon:"lightbulb",tips:["Se possível, fotografe o poste e a rua para referência."],subcategories:["Poste apagado","Piscando","Fiação baixa","Poste caído (perigo)"]},{id:"lixo",label:"Lixo/Entulho",icon:"trash-2",tips:["Mostre a quantidade e a localização exata."],subcategories:["Lixo acumulado","Entulho","Ponto viciado","Coleta não passou"]},{id:"alagamento",label:"Alagamento/Drenagem",icon:"waves",tips:["Se for seguro, mostre bueiros e o nível da água."],subcategories:["Bueiro entupido","Rua alagando","Boca de lobo quebrada","Esgoto retornando"]},{id:"saude",label:"Saúde/Sanitário",icon:"stethoscope",tips:["Evite fotografar pessoas. Foque no problema."],subcategories:["Água parada","Mau cheiro","Animal morto","Risco sanitário em área pública"]},{id:"barulho",label:"Barulho",icon:"volume-2",tips:["Informe dias e horários. Se tiver, permitir vídeo curto no futuro."],subcategories:["Som alto recorrente","Obra fora de horário","Evento irregular"]},{id:"transito",label:"Trânsito/Sinalização",icon:"traffic-cone",tips:["Mostre placas, faixas ou semáforo no contexto da via."],subcategories:["Semáforo com defeito","Placa faltando","Faixa apagada","Ponto de risco"]},{id:"pracas",label:"Praças/Equipamentos",icon:"trees",tips:["Mostre o item quebrado e a área ao redor."],subcategories:["Parquinho quebrado","Banco danificado","Piso solto","Vandalismo"]},{id:"outros",label:"Outros",icon:"help-circle",tips:["Descreva com poucas palavras e tire uma foto do local."],subcategories:[]}],ie={categories:ze},qe={construction:X,"tree-pine":ae,lightbulb:_,"trash-2":Y,waves:re,stethoscope:Q,"volume-2":te,"traffic-cone":ee,trees:se,"help-circle":P};function Te({draft:a,onUpdate:s,onNext:j}){const g=ie.categories,r=g.find(n=>n.id===a.categoryId),u=n=>{s({categoryId:n,subcategory:null})},o=n=>{s({subcategory:a.subcategory===n?null:n})},l=!!a.categoryId;return e.jsxs("div",{className:"space-y-6 pb-48",children:[e.jsx(O,{title:"O que aconteceu?",subtitle:"Escolha a categoria que melhor descreve o problema",helpTitle:"Como escolher a categoria",helpContent:["Escolha a categoria que mais combina com o problema que você quer reportar.","Se tiver dúvida, escolha 'Outros' e descreva com suas palavras.","Não se preocupe em acertar perfeitamente, nossa equipe vai analisar."]}),e.jsx(h,{className:"p-4 bg-blue-50 dark:bg-blue-950/30 border-blue-200 dark:border-blue-800",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-100 dark:bg-blue-900/50",children:e.jsx(I,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[e.jsx("span",{className:"font-medium",children:"Toque em uma categoria"})," para selecioná-la. Depois você pode detalhar melhor o problema."]})})]})}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:g.map((n,N)=>{const x=qe[n.icon]||P,d=a.categoryId===n.id;return e.jsxs(i.button,{type:"button",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:N*.03},whileTap:{scale:.95},onClick:()=>u(n.id),className:y("relative flex flex-col items-center gap-2 rounded-2xl border-2 p-4 text-center transition-all",d?"border-primary bg-primary/10 shadow-lg":"border-border bg-card hover:bg-muted/50 hover:border-muted-foreground/30"),children:[e.jsx("div",{className:y("p-3 rounded-xl transition-colors",d?"bg-primary text-primary-foreground":"bg-muted"),children:e.jsx(x,{className:"h-6 w-6"})}),e.jsx("span",{className:y("text-sm font-medium leading-tight",d&&"text-primary"),children:n.label}),d&&e.jsx(i.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 h-5 w-5 rounded-full bg-primary flex items-center justify-center",children:e.jsx(H,{className:"h-3 w-3 text-primary-foreground"})})]},n.id)})}),r&&r.subcategories.length>0&&e.jsxs(i.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-px flex-1 bg-border"}),e.jsx("span",{className:"text-sm text-muted-foreground px-2",children:"Detalhe (opcional)"}),e.jsx("div",{className:"h-px flex-1 bg-border"})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Selecione uma opção que descreva melhor o problema:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:r.subcategories.map(n=>e.jsx(i.div,{whileTap:{scale:.95},children:e.jsx(Z,{variant:a.subcategory===n?"default":"outline",className:y("cursor-pointer px-3 py-2 text-sm transition-all",a.subcategory===n?"bg-primary hover:bg-primary/90":"hover:bg-muted"),onClick:()=>o(n),children:n})},n))}),r.tips.length>0&&e.jsx(h,{className:"p-4 border-amber-200 bg-amber-50 dark:bg-amber-950/20 dark:border-amber-800",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-amber-100 dark:bg-amber-900/50",children:e.jsx(_,{className:"h-4 w-4 text-amber-600 dark:text-amber-400"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-amber-800 dark:text-amber-300",children:['Dica para "',r.label,'"']}),e.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-400 mt-1",children:r.tips[0]})]})]})})]}),!a.categoryId&&e.jsx(h,{className:"p-4 border-muted bg-muted/30",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-muted",children:e.jsx(P,{className:"h-4 w-4 text-muted-foreground"})}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Selecione uma categoria acima para continuar"})]})}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 pb-24 bg-background/95 backdrop-blur-lg border-t z-10",children:e.jsx("div",{className:"max-w-lg mx-auto",children:e.jsx(p,{size:"lg",className:y("w-full h-14 text-base font-semibold rounded-2xl transition-all",!l&&"opacity-50"),disabled:!l,onClick:j,children:l?e.jsxs(e.Fragment,{children:["Continuar",e.jsx(H,{className:"h-5 w-5 ml-2"})]}):"Selecione uma categoria"})})})]})}function Ie({draft:a,onUpdate:s,onNext:j,onBack:g}){const[r,u]=m.useState({status:"idle"}),[o,l]=m.useState(!1),n=m.useCallback(async()=>{if(!navigator.geolocation){u({status:"error",errorMessage:"Seu navegador não suporta geolocalização. Tente usar Chrome, Safari ou Firefox."});return}u({status:"requesting"}),navigator.geolocation.getCurrentPosition(async d=>{const b={latitude:d.coords.latitude,longitude:d.coords.longitude,accuracy:d.coords.accuracy,address:void 0,reference:a.location?.reference};b.address="Tijucas, SC",s({location:b}),u({status:"success"})},d=>{let b="Não conseguimos acessar sua localização.";d.code===d.PERMISSION_DENIED?(b="Você não permitiu o acesso à sua localização.",u({status:"denied",errorMessage:b})):d.code===d.POSITION_UNAVAILABLE?(b="Não foi possível determinar sua localização. Verifique se o GPS está ativado.",u({status:"error",errorMessage:b})):d.code===d.TIMEOUT&&(b="Demorou muito para obter sua localização. Verifique sua conexão e tente novamente.",u({status:"error",errorMessage:b}))},{enableHighAccuracy:!0,timeout:15e3,maximumAge:6e4})},[a.location?.reference,s]);m.useEffect(()=>{!a.location&&r.status==="idle"&&n()},[a.location,r.status,n]);const N=d=>{a.location&&s({location:{...a.location,reference:d}})},x=!!a.location;return e.jsxs("div",{className:"space-y-6 pb-48",children:[e.jsx(O,{title:"Onde foi?",subtitle:"Precisamos saber o local do problema",helpTitle:"Por que precisamos da localização?",helpContent:["A localização ajuda nossa equipe a encontrar o problema rapidamente.","Usamos o GPS do seu celular para maior precisão.","Sua localização não é compartilhada publicamente, apenas com a equipe responsável."]}),e.jsx(h,{className:"p-4 bg-blue-50 dark:bg-blue-950/30 border-blue-200 dark:border-blue-800",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-100 dark:bg-blue-900/50",children:e.jsx(I,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:[e.jsx("p",{className:"font-medium mb-1",children:"Como funciona:"}),e.jsx("p",{children:"Vamos usar a localização do seu celular para marcar onde está o problema. Você pode adicionar um ponto de referência para facilitar."})]})]})}),e.jsxs("div",{className:"space-y-4",children:[r.status==="requesting"&&e.jsxs(i.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-12 text-center",children:[e.jsx("div",{className:"p-4 rounded-full bg-primary/10 mb-4",children:e.jsx(R,{className:"h-8 w-8 text-primary animate-spin"})}),e.jsx("p",{className:"font-medium mb-1",children:"Buscando sua localização..."}),e.jsx("p",{className:"text-sm text-muted-foreground",children:'Se aparecer uma mensagem, toque em "Permitir"'})]}),r.status==="denied"&&e.jsx(i.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:e.jsx(h,{className:"p-6 border-amber-200 bg-amber-50 dark:bg-amber-950/20 dark:border-amber-800",children:e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("div",{className:"p-4 rounded-full bg-amber-100 dark:bg-amber-900/30 mb-4",children:e.jsx(q,{className:"h-8 w-8 text-amber-600 dark:text-amber-400"})}),e.jsx("h3",{className:"font-semibold text-lg text-amber-800 dark:text-amber-300",children:"Localização bloqueada"}),e.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-400 mt-2 mb-4",children:r.errorMessage}),e.jsxs(h,{className:"w-full p-4 bg-white dark:bg-background border-amber-200 dark:border-amber-700 text-left",children:[e.jsxs("p",{className:"font-medium text-sm mb-3 flex items-center gap-2",children:[e.jsx(K,{className:"h-4 w-4"}),"Como permitir o acesso:"]}),e.jsxs("ol",{className:"text-sm space-y-2 text-muted-foreground",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold text-primary",children:"1."}),e.jsx("span",{children:"Olhe na barra de endereço do navegador"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold text-primary",children:"2."}),e.jsx("span",{children:"Clique no ícone de cadeado"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold text-primary",children:"3."}),e.jsx("span",{children:'Mude "Localização" para "Permitir"'})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold text-primary",children:"4."}),e.jsx("span",{children:"Toque no botão abaixo para tentar novamente"})]})]})]}),e.jsxs(p,{variant:"outline",className:"mt-4 w-full",onClick:n,children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),"Tentar novamente"]})]})})}),r.status==="error"&&e.jsx(i.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:e.jsx(h,{className:"p-6 border-red-200 bg-red-50 dark:bg-red-950/20 dark:border-red-800",children:e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("div",{className:"p-4 rounded-full bg-red-100 dark:bg-red-900/30 mb-4",children:e.jsx(D,{className:"h-8 w-8 text-red-600 dark:text-red-400"})}),e.jsx("h3",{className:"font-semibold text-lg text-red-800 dark:text-red-300",children:"Erro ao obter localização"}),e.jsx("p",{className:"text-sm text-red-700 dark:text-red-400 mt-2 mb-4",children:r.errorMessage}),e.jsxs(h,{className:"w-full p-4 bg-white dark:bg-background border-red-200 dark:border-red-700 text-left",children:[e.jsx("p",{className:"font-medium text-sm mb-3",children:"O que você pode fazer:"}),e.jsxs("ul",{className:"text-sm space-y-2 text-muted-foreground",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(w,{className:"h-4 w-4 text-green-500 shrink-0 mt-0.5"}),e.jsx("span",{children:"Verifique se o GPS do celular está ligado"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(w,{className:"h-4 w-4 text-green-500 shrink-0 mt-0.5"}),e.jsx("span",{children:"Saia de ambientes fechados para melhor sinal"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(w,{className:"h-4 w-4 text-green-500 shrink-0 mt-0.5"}),e.jsx("span",{children:"Verifique sua conexão com a internet"})]})]})]}),e.jsxs(p,{variant:"outline",className:"mt-4 w-full",onClick:n,children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),"Tentar novamente"]})]})})}),a.location&&e.jsxs(i.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"space-y-4",children:[e.jsx(h,{className:"p-4 bg-green-50 dark:bg-green-950/20 border-green-200 dark:border-green-800",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-green-100 dark:bg-green-900/50",children:e.jsx(w,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-green-800 dark:text-green-300",children:"Localização capturada!"}),e.jsxs("p",{className:"text-sm text-green-700 dark:text-green-400",children:["Precisão: aproximadamente ",Math.round(a.location.accuracy)," metros"]})]})]})}),e.jsxs(h,{className:"overflow-hidden",children:[e.jsxs("div",{className:"relative h-40 bg-gradient-to-br from-green-100 to-blue-100 dark:from-green-900/20 dark:to-blue-900/20",children:[e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx(i.div,{animate:{scale:[1,1.1,1]},transition:{repeat:1/0,duration:2},className:"p-3 rounded-full bg-primary shadow-lg",children:e.jsx(q,{className:"h-6 w-6 text-primary-foreground"})})}),e.jsx("div",{className:"absolute inset-0 opacity-30",children:e.jsx("div",{className:"h-full w-full",style:{backgroundImage:"linear-gradient(rgba(0,0,0,0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(0,0,0,0.1) 1px, transparent 1px)",backgroundSize:"20px 20px"}})})]}),e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:a.location.address||"Localização capturada"}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Coordenadas: ",a.location.latitude.toFixed(4),", ",a.location.longitude.toFixed(4)]})]}),e.jsxs(p,{variant:"outline",size:"sm",onClick:()=>l(!0),children:[e.jsx(xe,{className:"h-3.5 w-3.5 mr-1"}),"Ajustar"]})]})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(q,{className:"h-4 w-4 text-muted-foreground"}),"Ponto de referência (opcional)"]}),e.jsx(me,{placeholder:"Ex: em frente ao mercado, perto da escola...",value:a.location.reference||"",onChange:d=>N(d.target.value),className:"h-12 rounded-xl"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Adicione informações que ajudem a encontrar o local mais facilmente"})]})]}),r.status==="idle"&&!a.location&&e.jsxs(i.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center py-8",children:[e.jsxs(p,{size:"lg",onClick:n,className:"h-14 px-8 rounded-2xl",children:[e.jsx(ue,{className:"h-5 w-5 mr-2"}),"Usar minha localização"]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-3 text-center",children:"Vamos pedir permissão para acessar seu GPS"})]})]}),e.jsx(V,{children:o&&e.jsxs(e.Fragment,{children:[e.jsx(i.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/40",onClick:()=>l(!1)}),e.jsxs(i.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:300},className:"fixed bottom-0 left-0 right-0 z-50 rounded-t-3xl bg-background p-6 pb-8 h-[70vh]",children:[e.jsx("div",{className:"absolute top-3 left-1/2 -translate-x-1/2 h-1 w-10 rounded-full bg-muted"}),e.jsx("h3",{className:"font-semibold text-lg mt-4",children:"Ajustar localização"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Em breve você poderá ajustar o pino no mapa"}),e.jsxs("div",{className:"mt-4 flex-1 rounded-2xl bg-muted/50 h-64 flex items-center justify-center relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:e.jsx(q,{className:"h-8 w-8 text-primary"})}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Mapa interativo (em desenvolvimento)"})]}),e.jsx(p,{className:"w-full mt-4",onClick:()=>l(!1),children:"Confirmar local"})]})]})}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 pb-24 bg-background/95 backdrop-blur-lg border-t z-10",children:e.jsxs("div",{className:"flex gap-3 max-w-lg mx-auto",children:[e.jsx(p,{variant:"outline",size:"lg",className:"h-14 rounded-2xl flex-1 text-base",onClick:g,children:"Voltar"}),e.jsx(p,{size:"lg",className:y("h-14 rounded-2xl flex-[2] text-base font-semibold",!x&&"opacity-50"),disabled:!x,onClick:j,children:x?e.jsxs(e.Fragment,{children:["Continuar",e.jsx(H,{className:"h-5 w-5 ml-2"})]}):"Aguardando localização..."})]})})]})}const S=3;function Pe({draft:a,onUpdate:s,onNext:j,onBack:g}){const r=m.useRef(null),u=m.useRef(null),[o,l]=m.useState({status:"idle",facingMode:"environment",stream:null}),[n,N]=m.useState(!1),x=m.useCallback(async()=>{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){l(t=>({...t,status:"error",errorMessage:"Seu navegador não suporta acesso à câmera. Tente usar Chrome, Safari ou Firefox."}));return}l(t=>({...t,status:"requesting"}));try{const t=await navigator.mediaDevices.getUserMedia({video:{facingMode:o.facingMode,width:{ideal:1920},height:{ideal:1080}},audio:!1});r.current&&(r.current.srcObject=t,await r.current.play()),l(c=>({...c,status:"active",stream:t,errorMessage:void 0}))}catch(t){if(console.error("Camera error:",t),t instanceof DOMException)if(t.name==="NotAllowedError")l(c=>({...c,status:"denied",errorMessage:"Você não permitiu o acesso à câmera."}));else if(t.name==="NotFoundError")l(c=>({...c,status:"error",errorMessage:"Nenhuma câmera foi encontrada no seu dispositivo."}));else if(t.name==="NotReadableError")l(c=>({...c,status:"error",errorMessage:"A câmera está sendo usada por outro aplicativo. Feche outros apps e tente novamente."}));else if(t.name==="OverconstrainedError"){l(c=>({...c,status:"error",errorMessage:"Sua câmera não atende aos requisitos. Tentando configuração alternativa..."}));try{const c=await navigator.mediaDevices.getUserMedia({video:!0,audio:!1});r.current&&(r.current.srcObject=c,await r.current.play()),l(f=>({...f,status:"active",stream:c,errorMessage:void 0}))}catch{l(c=>({...c,status:"error",errorMessage:"Não foi possível acessar sua câmera."}))}}else l(c=>({...c,status:"error",errorMessage:"Ocorreu um erro ao acessar a câmera. Tente novamente."}));else l(c=>({...c,status:"error",errorMessage:"Erro desconhecido ao acessar a câmera."}))}},[o.facingMode]),d=m.useCallback(()=>{o.stream&&o.stream.getTracks().forEach(t=>t.stop()),r.current&&(r.current.srcObject=null),l(t=>({...t,status:"idle",stream:null}))},[o.stream]);m.useEffect(()=>(a.images.length<S&&o.status==="idle"&&x(),()=>{o.stream&&o.stream.getTracks().forEach(t=>t.stop())}),[]);const b=m.useCallback(async()=>{d(),l(t=>({...t,facingMode:t.facingMode==="environment"?"user":"environment"})),setTimeout(()=>x(),100)},[x,d]),M=m.useCallback(async()=>{if(!r.current||!u.current||a.images.length>=S)return;N(!0);const t=r.current,c=u.current,f=c.getContext("2d");if(!f){N(!1);return}c.width=t.videoWidth,c.height=t.videoHeight,f.drawImage(t,0,0),c.toBlob(v=>{if(!v){N(!1);return}const z={id:le(),blob:v,previewUrl:URL.createObjectURL(v),capturedAt:new Date};s({images:[...a.images,z]}),N(!1),a.images.length+1>=S&&d()},"image/jpeg",.85)},[a.images,s,d]),C=m.useCallback(t=>{const c=a.images.find(f=>f.id===t);c&&URL.revokeObjectURL(c.previewUrl),s({images:a.images.filter(f=>f.id!==t)}),o.status==="idle"&&a.images.length<=S&&x()},[a.images,o.status,s,x]),E=m.useCallback(t=>{C(t),o.status!=="active"&&x()},[C,o.status,x]);return e.jsxs("div",{className:"space-y-4 pb-48",children:[e.jsx(O,{title:"Tire até 3 fotos",subtitle:"Registre o problema com fotos tiradas agora",helpTitle:"Por que só fotos da câmera?",helpContent:["Por segurança, só aceitamos fotos tiradas no momento da denúncia.","Isso garante que o problema existe e é recente.","Não é possível enviar fotos da galeria do celular."]}),e.jsx(h,{className:"p-4 bg-blue-50 dark:bg-blue-950/30 border-blue-200 dark:border-blue-800",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-100 dark:bg-blue-900/50",children:e.jsx(I,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{className:"space-y-2 text-sm text-blue-700 dark:text-blue-300",children:[e.jsx("p",{className:"font-medium",children:"Dicas para boas fotos:"}),e.jsxs("ul",{className:"space-y-1 text-blue-600 dark:text-blue-400",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(T,{className:"h-3.5 w-3.5"}),e.jsx("span",{children:"1 foto de perto do problema"})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(ye,{className:"h-3.5 w-3.5"}),e.jsx("span",{children:"1 foto mostrando o contexto da rua"})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(W,{className:"h-3.5 w-3.5"}),e.jsx("span",{children:"Evite se colocar em risco"})]})]})]})]})}),e.jsxs("div",{className:"relative",children:[o.status==="active"&&a.images.length<S&&e.jsxs(i.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"relative rounded-2xl overflow-hidden bg-muted aspect-[4/3]",children:[e.jsx("video",{ref:r,autoPlay:!0,playsInline:!0,muted:!0,"webkit-playsinline":"true","x-webkit-airplay":"allow",style:{backgroundColor:"transparent"},className:"w-full h-full object-cover"}),e.jsxs("div",{className:"absolute bottom-4 left-0 right-0 flex items-center justify-center gap-4",children:[e.jsx(i.button,{whileTap:{scale:.9},onClick:b,className:"p-3 rounded-full bg-black/50 text-white backdrop-blur-sm","aria-label":"Trocar câmera",children:e.jsx(we,{className:"h-5 w-5"})}),e.jsx(i.button,{whileTap:{scale:.9},onClick:M,disabled:n,className:y("p-1 rounded-full bg-white",n&&"opacity-50"),"aria-label":"Capturar foto",children:e.jsx("div",{className:"h-16 w-16 rounded-full border-4 border-primary flex items-center justify-center",children:n?e.jsx(R,{className:"h-6 w-6 text-primary animate-spin"}):e.jsx(T,{className:"h-6 w-6 text-primary"})})}),e.jsx("div",{className:"w-12"})]}),e.jsxs("div",{className:"absolute top-4 right-4 px-3 py-1.5 rounded-full bg-black/50 text-white text-sm backdrop-blur-sm flex items-center gap-1",children:[e.jsx(T,{className:"h-3.5 w-3.5"}),e.jsxs("span",{children:[a.images.length,"/",S]})]})]}),o.status==="requesting"&&e.jsxs(i.div,{initial:{opacity:0},animate:{opacity:1},className:"rounded-2xl bg-muted aspect-[4/3] flex flex-col items-center justify-center p-6 text-center",children:[e.jsx("div",{className:"p-4 rounded-full bg-primary/10 mb-4",children:e.jsx(R,{className:"h-8 w-8 text-primary animate-spin"})}),e.jsx("p",{className:"font-medium mb-1",children:"Iniciando câmera..."}),e.jsx("p",{className:"text-sm text-muted-foreground",children:'Se aparecer uma mensagem, toque em "Permitir"'})]}),o.status==="denied"&&e.jsx(i.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:e.jsx(h,{className:"p-6 border-amber-200 bg-amber-50 dark:bg-amber-950/20 dark:border-amber-800",children:e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("div",{className:"p-4 rounded-full bg-amber-100 dark:bg-amber-900/30 mb-4",children:e.jsx(W,{className:"h-8 w-8 text-amber-600 dark:text-amber-400"})}),e.jsx("h3",{className:"font-semibold text-lg text-amber-800 dark:text-amber-300",children:"Câmera bloqueada"}),e.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-400 mt-2 mb-4",children:o.errorMessage}),e.jsxs(h,{className:"w-full p-4 bg-white dark:bg-background border-amber-200 dark:border-amber-700",children:[e.jsxs("p",{className:"font-medium text-sm mb-3 flex items-center gap-2",children:[e.jsx(K,{className:"h-4 w-4"}),"Como permitir o acesso:"]}),e.jsxs("ol",{className:"text-left text-sm space-y-2 text-muted-foreground",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold text-primary",children:"1."}),e.jsx("span",{children:"Olhe na barra de endereço do navegador"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold text-primary",children:"2."}),e.jsx("span",{children:"Clique no ícone de cadeado ou câmera"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold text-primary",children:"3."}),e.jsx("span",{children:'Mude "Câmera" para "Permitir"'})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold text-primary",children:"4."}),e.jsx("span",{children:"Recarregue a página ou toque no botão abaixo"})]})]})]}),e.jsxs(p,{variant:"outline",className:"mt-4 w-full",onClick:x,children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),"Tentar novamente"]})]})})}),o.status==="error"&&e.jsx(i.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:e.jsx(h,{className:"p-6 border-red-200 bg-red-50 dark:bg-red-950/20 dark:border-red-800",children:e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsx("div",{className:"p-4 rounded-full bg-red-100 dark:bg-red-900/30 mb-4",children:e.jsx(D,{className:"h-8 w-8 text-red-600 dark:text-red-400"})}),e.jsx("h3",{className:"font-semibold text-lg text-red-800 dark:text-red-300",children:"Problema com a câmera"}),e.jsx("p",{className:"text-sm text-red-700 dark:text-red-400 mt-2 mb-4",children:o.errorMessage}),e.jsxs(h,{className:"w-full p-4 bg-white dark:bg-background border-red-200 dark:border-red-700",children:[e.jsx("p",{className:"font-medium text-sm mb-3",children:"O que você pode fazer:"}),e.jsxs("ul",{className:"text-left text-sm space-y-2 text-muted-foreground",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(w,{className:"h-4 w-4 text-green-500 shrink-0 mt-0.5"}),e.jsx("span",{children:"Verifique se seu dispositivo tem câmera"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(w,{className:"h-4 w-4 text-green-500 shrink-0 mt-0.5"}),e.jsx("span",{children:"Feche outros aplicativos que usam a câmera"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(w,{className:"h-4 w-4 text-green-500 shrink-0 mt-0.5"}),e.jsx("span",{children:"Tente acessar pelo celular em vez do computador"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(w,{className:"h-4 w-4 text-green-500 shrink-0 mt-0.5"}),e.jsx("span",{children:"Você pode continuar sem foto (opcional)"})]})]})]}),e.jsxs(p,{variant:"outline",className:"mt-4 w-full",onClick:x,children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),"Tentar novamente"]})]})})}),e.jsx("canvas",{ref:u,className:"hidden"})]}),a.images.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("p",{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(w,{className:"h-4 w-4 text-green-500"}),"Fotos capturadas (",a.images.length,"/",S,")"]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx(V,{mode:"popLayout",children:a.images.map((t,c)=>e.jsxs(i.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},layout:!0,className:"relative aspect-square rounded-xl overflow-hidden bg-muted",children:[e.jsx("img",{src:t.previewUrl,alt:`Foto ${c+1}`,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-x-0 bottom-0 p-2 bg-gradient-to-t from-black/70 to-transparent",children:e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsxs(i.button,{whileTap:{scale:.9},onClick:()=>E(t.id),className:"px-2 py-1 text-xs bg-white/20 text-white rounded-md backdrop-blur-sm flex items-center gap-1",children:[e.jsx(A,{className:"h-3 w-3"}),"Refazer"]}),e.jsxs(i.button,{whileTap:{scale:.9},onClick:()=>C(t.id),className:"px-2 py-1 text-xs bg-red-500/80 text-white rounded-md flex items-center gap-1",children:[e.jsx($,{className:"h-3 w-3"}),"Remover"]})]})}),e.jsx("div",{className:"absolute top-2 left-2 h-6 w-6 rounded-full bg-primary text-primary-foreground text-xs font-bold flex items-center justify-center",children:c+1})]},t.id))}),Array.from({length:S-a.images.length}).map((t,c)=>e.jsxs("div",{className:"aspect-square rounded-xl border-2 border-dashed border-muted-foreground/30 flex flex-col items-center justify-center gap-1",children:[e.jsx(T,{className:"h-5 w-5 text-muted-foreground/30"}),e.jsx("span",{className:"text-xs text-muted-foreground/50",children:"Vazio"})]},`empty-${c}`))]})]}),a.images.length>=S&&e.jsx(h,{className:"p-4 text-center bg-green-50 dark:bg-green-950/20 border-green-200 dark:border-green-800",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-700 dark:text-green-300",children:[e.jsx(w,{className:"h-5 w-5"}),e.jsxs("span",{className:"font-medium",children:["Você tirou ",S," fotos. Pronto para continuar!"]})]})}),a.images.length===0&&(o.status==="error"||o.status==="denied")&&e.jsx(h,{className:"p-4 border-amber-200 bg-amber-50 dark:bg-amber-950/20 dark:border-amber-800",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(D,{className:"h-5 w-5 text-amber-600 shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-amber-800 dark:text-amber-300",children:"Continuar sem foto?"}),e.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-400 mt-1",children:"Fotos ajudam muito a identificar o problema, mas você pode continuar sem elas."})]})]})}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 pb-24 bg-background/95 backdrop-blur-lg border-t z-10",children:e.jsxs("div",{className:"flex gap-3 max-w-lg mx-auto",children:[e.jsx(p,{variant:"outline",size:"lg",className:"h-14 rounded-2xl flex-1 text-base",onClick:()=>{d(),g()},children:"Voltar"}),e.jsxs(p,{size:"lg",className:"h-14 rounded-2xl flex-[2] text-base font-semibold",onClick:()=>{d(),j()},children:["Continuar",a.images.length===0&&e.jsx("span",{className:"text-xs ml-2 opacity-70",children:"(sem foto)"})]})]})})]})}const Ee={construction:X,"tree-pine":ae,lightbulb:_,"trash-2":Y,waves:re,stethoscope:Q,"volume-2":te,"traffic-cone":ee,trees:se,"help-circle":P};function Ae({draft:a,onUpdate:s,onBack:j,onGoToStep:g,onSubmit:r}){const[u,o]=m.useState(!1),[l,n]=m.useState(!1),[N,x]=m.useState(null),b=ie.categories.find(t=>t.id===a.categoryId),M=b?Ee[b.icon]||P:P,C=a.categoryId&&a.location&&a.confirmed,E=async()=>{if(C){o(!0);try{await r();const t=new Date().getFullYear(),c=Math.floor(Math.random()*1e6).toString().padStart(6,"0");x(`#TJ-${t}-${c}`),n(!0)}catch(t){console.error("Submit error:",t)}finally{o(!1)}}};return l&&N?e.jsxs(i.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"flex flex-col items-center justify-center min-h-[60vh] px-4 text-center",children:[e.jsx(i.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.2},className:"p-6 rounded-full bg-green-100 dark:bg-green-900/30 mb-6",children:e.jsx(w,{className:"h-16 w-16 text-green-600 dark:text-green-400"})}),e.jsx(i.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-2xl font-bold mb-2",children:"Denúncia enviada!"}),e.jsx(i.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-muted-foreground mb-6",children:"Obrigado por ajudar a melhorar Tijucas!"}),e.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"w-full max-w-xs",children:e.jsxs(h,{className:"p-4 bg-muted/50",children:[e.jsxs("div",{className:"flex items-center gap-2 justify-center mb-2",children:[e.jsx(U,{className:"h-5 w-5 text-primary"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Seu protocolo:"})]}),e.jsx("p",{className:"text-xl font-bold font-mono",children:N})]})}),e.jsx(i.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.7},className:"text-xs text-muted-foreground mt-4 max-w-xs",children:"Guarde este número para acompanhar o andamento da sua denúncia"}),e.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"mt-8",children:e.jsx(p,{size:"lg",className:"h-14 px-8 rounded-2xl",onClick:()=>window.location.href="/",children:"Voltar para o início"})})]}):e.jsxs("div",{className:"space-y-4 pb-48",children:[e.jsx(O,{title:"Revisar e enviar",subtitle:"Confira se está tudo certo antes de enviar",helpTitle:"Última etapa!",helpContent:["Revise todas as informações antes de enviar.","Você pode voltar e editar qualquer etapa tocando em 'Editar'.","Após enviar, você receberá um número de protocolo para acompanhar."]}),e.jsx(h,{className:"p-4 bg-blue-50 dark:bg-blue-950/30 border-blue-200 dark:border-blue-800",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-blue-100 dark:bg-blue-900/50",children:e.jsx(I,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),e.jsx("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:e.jsxs("p",{children:["Confira as informações abaixo. Se algo estiver errado, toque em",e.jsx("span",{className:"font-medium",children:" Editar"})," para corrigir."]})})]})}),e.jsx(h,{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 rounded-xl bg-primary/10",children:e.jsx(M,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Categoria"}),e.jsx("p",{className:"font-semibold",children:b?.label||"Não selecionada"}),a.subcategory&&e.jsx(Z,{variant:"secondary",className:"mt-1 text-xs",children:a.subcategory})]})]}),e.jsxs(p,{variant:"ghost",size:"sm",onClick:()=>g(1),className:"text-primary",children:[e.jsx(F,{className:"h-4 w-4 mr-1"}),"Editar"]})]})}),e.jsx(h,{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 rounded-xl bg-primary/10",children:e.jsx(q,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Localização"}),e.jsx("p",{className:"font-semibold",children:a.location?.address||"Localização capturada"}),a.location?.reference&&e.jsxs("p",{className:"text-sm text-muted-foreground mt-0.5",children:["Ref: ",a.location.reference]})]})]}),e.jsxs(p,{variant:"ghost",size:"sm",onClick:()=>g(2),className:"text-primary",children:[e.jsx(F,{className:"h-4 w-4 mr-1"}),"Editar"]})]})}),e.jsxs(h,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 rounded-xl bg-primary/10",children:e.jsx(T,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Fotos"}),e.jsxs("p",{className:"font-semibold",children:[a.images.length," ",a.images.length===1?"foto anexada":"fotos anexadas"]})]})]}),e.jsxs(p,{variant:"ghost",size:"sm",onClick:()=>g(3),className:"text-primary",children:[e.jsx(F,{className:"h-4 w-4 mr-1"}),"Editar"]})]}),a.images.length>0?e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1",children:a.images.map((t,c)=>e.jsx("img",{src:t.previewUrl,alt:`Foto ${c+1}`,className:"h-20 w-20 rounded-lg object-cover shrink-0"},t.id))}):e.jsxs("div",{className:"flex items-center gap-2 text-amber-600 dark:text-amber-400",children:[e.jsx(D,{className:"h-4 w-4"}),e.jsx("p",{className:"text-sm",children:"Nenhuma foto anexada (opcional)"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(U,{className:"h-4 w-4 text-muted-foreground"}),"Descrição adicional (opcional)"]}),e.jsx(he,{placeholder:"Algum detalhe importante que queira adicionar? (máx. 280 caracteres)",maxLength:280,value:a.description,onChange:t=>s({description:t.target.value}),className:"min-h-[100px] rounded-xl resize-none"}),e.jsxs("p",{className:"text-xs text-muted-foreground text-right",children:[a.description.length,"/280"]})]}),e.jsx(h,{className:y("p-4 transition-all border-2",a.confirmed?"border-green-400 bg-green-50 dark:bg-green-950/20 dark:border-green-700":"border-amber-400 bg-amber-50 dark:bg-amber-950/20 dark:border-amber-700"),children:e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[e.jsx(pe,{checked:a.confirmed,onCheckedChange:t=>s({confirmed:!!t}),className:"mt-0.5 h-5 w-5"}),e.jsxs("div",{children:[e.jsx("p",{className:y("font-medium",a.confirmed?"text-green-700 dark:text-green-300":"text-amber-700 dark:text-amber-300"),children:a.confirmed?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(w,{className:"h-4 w-4"}),"Confirmado!"]}):"Confirmo que as informações são verdadeiras"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:a.confirmed?"Você confirmou que as informações são verdadeiras":"Marque esta opção para poder enviar a denúncia"})]})]})}),!C&&e.jsx(h,{className:"p-4 border-red-200 bg-red-50 dark:bg-red-950/20 dark:border-red-800",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(D,{className:"h-5 w-5 text-red-600 dark:text-red-400 shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-red-800 dark:text-red-300",children:"Não é possível enviar ainda"}),e.jsxs("ul",{className:"text-sm text-red-700 dark:text-red-400 mt-1 space-y-1",children:[!a.categoryId&&e.jsx("li",{children:"• Selecione uma categoria"}),!a.location&&e.jsx("li",{children:"• Capture sua localização"}),!a.confirmed&&e.jsx("li",{children:"• Confirme que as informações são verdadeiras"})]})]})]})}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 pb-24 bg-background/95 backdrop-blur-lg border-t z-10",children:e.jsxs("div",{className:"flex gap-3 max-w-lg mx-auto",children:[e.jsx(p,{variant:"outline",size:"lg",className:"h-14 rounded-2xl flex-1 text-base",onClick:j,disabled:u,children:"Voltar"}),e.jsx(p,{size:"lg",className:y("h-14 rounded-2xl flex-[2] text-base font-semibold",C?"bg-green-600 hover:bg-green-700":"opacity-50"),disabled:!C||u,onClick:E,children:u?e.jsxs(e.Fragment,{children:[e.jsx(R,{className:"h-5 w-5 mr-2 animate-spin"}),"Enviando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ge,{className:"h-5 w-5 mr-2"}),"Enviar denúncia"]})})]})})]})}function De({protocolNumber:a,onClose:s}){const{toast:j}=oe(),g=m.useCallback(()=>{const l=Date.now()+3e3,n={startVelocity:30,spread:360,ticks:60,zIndex:100},N=(d,b)=>Math.random()*(b-d)+d,x=setInterval(()=>{const d=l-Date.now();if(d<=0)return clearInterval(x);const b=50*(d/3e3);L({...n,particleCount:b,origin:{x:N(.1,.3),y:Math.random()-.2},colors:["#22c55e","#3b82f6","#f59e0b","#ec4899","#8b5cf6"]}),L({...n,particleCount:b,origin:{x:N(.7,.9),y:Math.random()-.2},colors:["#22c55e","#3b82f6","#f59e0b","#ec4899","#8b5cf6"]})},250);return L({particleCount:100,spread:70,origin:{y:.6},colors:["#22c55e","#3b82f6","#f59e0b","#ec4899","#8b5cf6"]}),()=>clearInterval(x)},[]);m.useEffect(()=>g(),[g]);const r=async()=>{try{await navigator.clipboard.writeText(a),j({title:"Protocolo copiado!",description:"Cole onde quiser para guardar."})}catch{j({title:"Erro ao copiar",description:"Tente copiar manualmente.",variant:"destructive"})}},u=async()=>{if(navigator.share)try{await navigator.share({title:"Denúncia Enviada - eTijucas",text:`Minha denúncia foi registrada com sucesso! Protocolo: ${a}`})}catch{console.log("Share cancelled")}else r()};return e.jsxs("div",{className:"fixed inset-0 z-50 bg-gradient-to-b from-green-50 to-background dark:from-green-950/30 dark:to-background flex flex-col items-center justify-center p-6 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(6)].map((o,l)=>e.jsx(i.div,{initial:{opacity:0,scale:0},animate:{opacity:[0,.3,0],scale:[0,1.5,2],x:Math.random()*100-50,y:Math.random()*100-50},transition:{duration:3,delay:l*.3,repeat:1/0,repeatDelay:2},className:"absolute rounded-full bg-green-400/20",style:{width:100+l*30,height:100+l*30,left:`${20+l*10}%`,top:`${15+l*12}%`}},l))}),e.jsxs(i.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.5},className:"relative z-10 w-full max-w-sm flex flex-col items-center text-center",children:[e.jsxs(i.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200,damping:15,delay:.2},className:"relative mb-6",children:[e.jsx("div",{className:"p-6 rounded-full bg-green-100 dark:bg-green-900/50 shadow-lg shadow-green-500/20",children:e.jsx(w,{className:"h-20 w-20 text-green-600 dark:text-green-400"})}),e.jsx(i.div,{animate:{rotate:360},transition:{duration:3,repeat:1/0,ease:"linear"},className:"absolute -top-2 -right-2",children:e.jsx(be,{className:"h-8 w-8 text-yellow-500"})}),e.jsx(i.div,{animate:{rotate:-360},transition:{duration:4,repeat:1/0,ease:"linear"},className:"absolute -bottom-1 -left-3",children:e.jsx(G,{className:"h-7 w-7 text-pink-500"})})]}),e.jsx(i.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-3xl font-bold text-green-700 dark:text-green-400 mb-2",children:"Denúncia Enviada!"}),e.jsx(i.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-muted-foreground mb-6",children:"Obrigado por ajudar a melhorar nossa cidade!"}),e.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"w-full",children:e.jsxs(h,{className:"p-6 bg-white dark:bg-card border-green-200 dark:border-green-800 shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[e.jsx(U,{className:"h-5 w-5 text-primary"}),e.jsx("span",{className:"text-sm text-muted-foreground font-medium",children:"Número do Protocolo"})]}),e.jsx(i.p,{className:"text-2xl font-bold font-mono text-primary mb-4",animate:{scale:[1,1.02,1]},transition:{duration:2,repeat:1/0},children:a}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(p,{variant:"outline",size:"sm",className:"flex-1",onClick:r,children:[e.jsx(fe,{className:"h-4 w-4 mr-2"}),"Copiar"]}),e.jsxs(p,{variant:"outline",size:"sm",className:"flex-1",onClick:u,children:[e.jsx(je,{className:"h-4 w-4 mr-2"}),"Compartilhar"]})]})]})}),e.jsx(i.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.7},className:"text-xs text-muted-foreground mt-4 max-w-xs",children:"Guarde este número para acompanhar o andamento da sua denúncia. Nossa equipe irá analisar e tomar as providências necessárias."}),e.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"w-full mt-8 space-y-3",children:[e.jsxs(p,{size:"lg",className:"w-full h-14 rounded-2xl text-base font-semibold bg-green-600 hover:bg-green-700",onClick:s,children:[e.jsx(ne,{className:"h-5 w-5 mr-2"}),"Voltar para o início"]}),e.jsxs(p,{variant:"ghost",size:"lg",className:"w-full h-12 rounded-2xl text-base",onClick:()=>{L({particleCount:100,spread:70,origin:{y:.6},colors:["#22c55e","#3b82f6","#f59e0b","#ec4899","#8b5cf6"]})},children:[e.jsx(G,{className:"h-5 w-5 mr-2"}),"Celebrar mais! 🎉"]})]})]})]})}const J={categoryId:null,subcategory:null,location:null,images:[],description:"",confirmed:!1,currentStep:1,createdAt:new Date,updatedAt:new Date},B="etijucas-report-draft",Le=["Categoria","Localização","Fotos","Revisão"],Re={enter:a=>({x:a>0?"100%":"-100%",opacity:0}),center:{x:0,opacity:1},exit:a=>({x:a<0?"100%":"-100%",opacity:0})};function Ve(){const a=ce(),[s,j]=m.useState(J),[g,r]=m.useState(0),[u,o]=m.useState(!1),[l,n]=m.useState(null);m.useEffect(()=>{try{const f=localStorage.getItem(B);if(f){const v=JSON.parse(f);j({...v,createdAt:new Date(v.createdAt),updatedAt:new Date(v.updatedAt),images:[]})}}catch(f){console.error("Error loading draft:",f)}},[]);const N=m.useCallback(f=>{try{const v={...f,images:[],updatedAt:new Date};localStorage.setItem(B,JSON.stringify(v))}catch(v){console.error("Error saving draft:",v)}},[]),x=m.useCallback(f=>{j(v=>{const z={...v,...f,updatedAt:new Date};return N(z),z})},[N]),d=m.useCallback(f=>{r(f>s.currentStep?1:-1),x({currentStep:f})},[s.currentStep,x]),b=m.useCallback(()=>{s.currentStep<4&&(r(1),x({currentStep:s.currentStep+1}))},[s.currentStep,x]),M=m.useCallback(()=>{s.currentStep>1&&(r(-1),x({currentStep:s.currentStep-1}))},[s.currentStep,x]),C=m.useCallback(()=>{s.images.forEach(f=>URL.revokeObjectURL(f.previewUrl)),localStorage.removeItem(B),j(J)},[s.images]),E=m.useCallback(async()=>{console.log("Submitting report:",s),await new Promise(z=>setTimeout(z,1500));const f=new Date().getFullYear(),v=Math.floor(Math.random()*1e6).toString().padStart(6,"0");n(`#TJ-${f}-${v}`),o(!0),C()},[s,C]),t=()=>{s.categoryId||s.location||s.images.length>0?window.confirm("Tem certeza que deseja sair? Seu rascunho será salvo.")&&a(-1):a(-1)},c=()=>{a("/")};return u&&l?e.jsx(De,{protocolNumber:l,onClose:c}):e.jsxs("div",{className:"fixed inset-0 z-50 bg-background flex flex-col overflow-hidden",children:[e.jsxs("header",{className:"shrink-0 bg-background/95 backdrop-blur-lg border-b safe-top",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[e.jsx(p,{variant:"ghost",size:"icon",onClick:t,className:"rounded-full",children:e.jsx(Ne,{className:"h-5 w-5"})}),e.jsx("h1",{className:"font-semibold text-lg",children:"Enviar Denúncia"}),e.jsx(p,{variant:"ghost",size:"icon",onClick:t,className:"rounded-full",children:e.jsx($,{className:"h-5 w-5"})})]}),e.jsx("div",{className:"px-4 pb-4",children:e.jsx(Se,{currentStep:s.currentStep,totalSteps:4,labels:Le})})]}),e.jsx("main",{className:"flex-1 overflow-hidden",children:e.jsx(V,{mode:"wait",custom:g,children:e.jsxs(i.div,{custom:g,variants:Re,initial:"enter",animate:"center",exit:"exit",transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:.2}},className:"h-full overflow-y-auto px-4 pt-4",children:[s.currentStep===1&&e.jsx(Te,{draft:s,onUpdate:x,onNext:b}),s.currentStep===2&&e.jsx(Ie,{draft:s,onUpdate:x,onNext:b,onBack:M}),s.currentStep===3&&e.jsx(Pe,{draft:s,onUpdate:x,onNext:b,onBack:M}),s.currentStep===4&&e.jsx(Ae,{draft:s,onUpdate:x,onBack:M,onGoToStep:d,onSubmit:E})]},s.currentStep)})})]})}const ma=Object.freeze(Object.defineProperty({__proto__:null,default:Ve},Symbol.toStringTag,{value:"Module"}));export{Ve as R,te as V,ma as a};
