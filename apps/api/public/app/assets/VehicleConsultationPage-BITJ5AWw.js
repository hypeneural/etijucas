import{r as c,j as e,d6 as W,R as q,x as X,d7 as E,ak as Q,bc as ee,d8 as te,d9 as H,ax as se,da as ae,bl as re,db as le,au as G,X as ne,cR as ie,aJ as oe,dc as ce,m as de,dd as me,bv as $,ah as xe,de as ue,ag as he,Y as pe,Z as O,df as fe,H as be}from"./vendor-app-DyDkrbNW.js";import{a as P,c as n}from"./index-CQVPWHim.js";import{t as J}from"./vendor-html2img-BvVRVkKh.js";import{I as R}from"./iconify-DDzaKV6Z.js";function S(t){return(t||"").toUpperCase().replace(/[^A-Z0-9]/g,"").slice(0,7)}function ge(t){return/^[A-Z]{3}\d{4}$/.test(S(t))}function je(t){return/^[A-Z]{3}\d[A-Z]\d{2}$/.test(S(t))}function B(t){return ge(t)||je(t)}function L(t){const a=(t||"").toUpperCase().replace(/[^A-Z0-9]/g,""),s=[];for(const r of a){const i=s.length;if(i>=7)break;if(i<=2){Z(r)&&s.push(r);continue}if(i===3){F(r)&&s.push(r);continue}if(i===4){(Z(r)||F(r))&&s.push(r);continue}if(i>=5){F(r)&&s.push(r);continue}}return s.join("")}function Z(t){const a=t.charCodeAt(0);return a>=65&&a<=90}function F(t){const a=t.charCodeAt(0);return a>=48&&a<=57}function z(t){if(!B(t))return-1;const s=S(t).slice(-1),r=parseInt(s,10);return isNaN(r)?-1:r}function _(t){const a=S(t);if(a.length<3)return a;const s=a.slice(0,3),r=a.slice(3);return`${s}Â·${r}`}function we(t){if(t.length<5)return"unknown";const a=t[4];return/[A-Z]/.test(a)?"mercosul":/[0-9]/.test(a)?"old":"unknown"}function ve(t){switch(t){case"mercosul":return["A","B","C","1","D","2","3"];case"old":return["A","B","C","1","2","3","4"];default:return["A","B","C","1","?","?","?"]}}function Ne(t,a){if(!t)return!0;const s=/[A-Z]/.test(t),r=/[0-9]/.test(t);return a<=2?s:a===3?r:a===4?s||r:a>=5?r:!1}function ye(t,a){return t<=2?"letter":t===3?"number":t===4?a==="mercosul"?"letter":a==="old"?"number":"flex":"number"}const Ce=({value:t,onChange:a,isLoading:s=!1,isValid:r=!1,hasError:i=!1,errorMessage:d})=>{const g=c.useRef(null),[o,x]=c.useState(!1),[f,N]=c.useState("unknown"),[v,u]=c.useState(null),[b,C]=c.useState(!1),m=c.useMemo(()=>we(t),[t]),k=c.useMemo(()=>ve(m),[m]),I=t.padEnd(7," ").split("").slice(0,7);c.useEffect(()=>{if(m!=="unknown"&&m!==f&&t.length>=5){N(m);const h=m==="mercosul"?"Mercosul":"Antiga";P.success(`Placa ${h} detectada`,{duration:1200,icon:"ðŸš—"}),navigator.vibrate&&navigator.vibrate([30,50,30])}},[m,f,t.length]),c.useEffect(()=>{t.length<5&&N("unknown")},[t.length]);const V=h=>{const j=L(h.target.value);if(h.target.value.length>t.length){const w=h.target.value.toUpperCase().slice(-1),l=t.length;!Ne(w,l)&&/[A-Z0-9]/.test(w)&&(u(l),setTimeout(()=>u(null),400),navigator.vibrate&&navigator.vibrate(50))}j.length<=7&&a(j)},T=h=>{h.preventDefault();const j=h.clipboardData.getData("text"),w=L(j).slice(0,7);a(w),C(!0),setTimeout(()=>C(!1),300),navigator.vibrate&&navigator.vibrate([20,30,20])},A=c.useMemo(()=>{if(r||i||s)return null;const h=t.length;return h===0?"Toque para digitar a placa":h<3?"3 letras (ex: ABC)":h===3?"Agora 1 nÃºmero":h===4?"Letra = Mercosul Â· NÃºmero = Antiga":h>=5&&h<7?"Ãšltimos 2 nÃºmeros":null},[t.length,r,i,s]);c.useEffect(()=>{r&&!s&&navigator.vibrate&&navigator.vibrate([50,30,50])},[r,s]);const y=()=>m==="old"?e.jsxs("div",{className:"h-8 bg-gradient-to-b from-slate-300 via-slate-200 to-slate-300 flex items-center justify-between px-3 relative z-10 border-b border-slate-400/50 transition-all duration-300",children:[e.jsx("span",{className:"text-slate-600 font-bold text-[10px] tracking-[0.15em]",children:"SC Â· TIJUCAS"}),e.jsx("div",{className:"absolute left-2 top-1/2 -translate-y-1/2 w-1.5 h-1.5 rounded-full bg-slate-400 shadow-inner"}),e.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 w-1.5 h-1.5 rounded-full bg-slate-400 shadow-inner"})]}):e.jsxs("div",{className:n("h-10 flex items-center justify-between px-3 relative z-10 border-b transition-all duration-300",m==="mercosul"?"bg-[#1e40af] border-[#172554]":"bg-[#1e40af]/80 border-[#172554]/80"),children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-6 h-4 bg-blue-900 rounded-[2px] overflow-hidden relative border border-white/10 shadow-sm",children:e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"w-full h-[50%] bg-green-600/20 rotate-45 transform scale-150"})})}),e.jsx("span",{className:n("text-white font-bold text-[10px] tracking-[0.2em] drop-shadow-sm transition-all duration-300",m==="mercosul"?"opacity-100":"opacity-70"),children:"BRASIL"})]}),e.jsx("div",{className:"flex items-center gap-1 opacity-80",children:e.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/2/20/Mercosul_flag.svg",className:"w-4 h-4 opacity-50",alt:"Mercosul"})})]});return e.jsxs("div",{className:"w-full relative group",children:[e.jsxs("div",{className:n("absolute -inset-4 border rounded-2xl transition-all duration-300 pointer-events-none z-0",o?"border-blue-500/30":"border-transparent"),children:[e.jsx("div",{className:n("absolute top-0 left-0 w-4 h-4 border-t-2 border-l-2 border-blue-400 transition-opacity duration-300",o?"opacity-100":"opacity-0")}),e.jsx("div",{className:n("absolute top-0 right-0 w-4 h-4 border-t-2 border-r-2 border-blue-400 transition-opacity duration-300",o?"opacity-100":"opacity-0")}),e.jsx("div",{className:n("absolute bottom-0 left-0 w-4 h-4 border-b-2 border-l-2 border-blue-400 transition-opacity duration-300",o?"opacity-100":"opacity-0")}),e.jsx("div",{className:n("absolute bottom-0 right-0 w-4 h-4 border-b-2 border-r-2 border-blue-400 transition-opacity duration-300",o?"opacity-100":"opacity-0")}),e.jsxs("div",{className:n("absolute -top-6 left-1/2 -translate-x-1/2 text-[10px] font-mono font-bold text-blue-400 tracking-widest transition-all duration-300 flex items-center gap-2",o?"opacity-100":"opacity-0"),children:[e.jsx(W,{className:"w-3 h-3 animate-pulse"}),"SCAN MODE"]})]}),e.jsxs("div",{className:n("relative w-full rounded-xl overflow-hidden shadow-lg transition-all duration-300 transform z-10",o?"scale-[1.02]":"scale-100",b?"animate-[snap_0.3s_ease-out]":"",r?"shadow-[0_0_30px_rgba(34,197,94,0.3)] ring-2 ring-green-500 border-green-500":i?"shadow-[0_0_30px_rgba(239,68,68,0.3)] ring-2 ring-red-500 border-red-500 animate-[shake_0.5s_ease-in-out]":m==="old"?"shadow-slate-500/30 border border-slate-400":"shadow-slate-900/20 border border-slate-700/50",s?"animate-pulse":""),children:[y(),e.jsxs("div",{className:n("h-24 flex items-center justify-center relative cursor-text overflow-hidden transition-all duration-300",m==="old"?"bg-gradient-to-b from-slate-200 via-slate-100 to-slate-200":"bg-white"),onClick:()=>g.current?.focus(),children:[e.jsx("input",{ref:g,type:"text",inputMode:"text",className:"absolute inset-0 w-full h-full opacity-0 cursor-text z-20",value:t,onChange:V,onPaste:T,onFocus:()=>x(!0),onBlur:()=>x(!1),autoComplete:"off",autoCorrect:"off",autoCapitalize:"characters",spellCheck:"false"}),e.jsx("div",{className:"relative z-10 flex items-center gap-1 sm:gap-1.5 px-2",children:I.map((h,j)=>{const w=h.trim()!=="",l=t.length===j,p=ye(j,m),D=v===j,M=j===3;return e.jsxs(q.Fragment,{children:[M&&e.jsx("div",{className:"w-2 h-2 rounded-full bg-slate-400 mx-0.5 sm:mx-1"}),e.jsxs("div",{className:n("w-9 h-14 sm:w-11 sm:h-16 rounded-lg flex items-center justify-center text-2xl sm:text-3xl font-bold font-mono uppercase transition-all duration-200 relative",w?r?"bg-green-500/10 text-slate-900":"bg-slate-100 text-slate-900":l&&o?"bg-blue-500/10 border-2 border-blue-500/50":"bg-slate-100/50 border-2 border-dashed border-slate-300",!w&&!l&&p==="letter"&&"border-blue-200",!w&&!l&&p==="number"&&"border-amber-200",!w&&!l&&p==="flex"&&"border-purple-200",D&&"!bg-red-500/20 !border-red-500 animate-[shake_0.3s_ease-in-out]",r&&w&&"shadow-[0_0_8px_rgba(34,197,94,0.3)]"),children:[w?h:e.jsx("span",{className:n("text-slate-300 text-lg",l&&o&&"animate-pulse text-blue-400"),children:k[j]}),l&&o&&!w&&e.jsx("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 w-5 h-0.5 bg-blue-500 animate-pulse rounded-full"})]})]},j)})}),s&&e.jsx("div",{className:"absolute inset-0 z-10 overflow-hidden pointer-events-none",children:e.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-blue-500/50 shadow-[0_0_15px_rgba(59,130,246,0.5)] animate-[scan-y_1.5s_linear_infinite]"})}),m==="old"&&e.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:e.jsx("div",{className:"absolute -left-full top-0 w-1/2 h-full bg-gradient-to-r from-transparent via-white/30 to-transparent skew-x-12 animate-[shine_3s_ease-in-out_infinite]"})}),e.jsx("div",{className:"absolute right-2 top-2 animate-in fade-in zoom-in duration-300 z-20",children:s?e.jsx(X,{className:"w-5 h-5 text-blue-500 animate-spin"}):r?e.jsx("div",{className:"bg-green-500 rounded-full p-1 shadow-lg shadow-green-500/30",children:e.jsx(E,{className:"w-4 h-4 text-white"})}):null})]})]}),e.jsxs("div",{className:"mt-3 text-center min-h-[24px] space-y-1",children:[d&&i?e.jsxs("div",{className:"text-sm text-red-500 font-medium animate-in fade-in slide-in-from-top-2 duration-300 flex items-center justify-center gap-2",children:[e.jsx(Q,{className:"w-4 h-4"}),d]}):r?e.jsxs("div",{className:"text-sm text-green-500 font-medium animate-in fade-in zoom-in duration-300 flex items-center justify-center gap-2",children:[e.jsx(E,{className:"w-4 h-4"}),"Placa ",m==="mercosul"?"Mercosul":"Antiga"," reconhecida"]}):A?e.jsxs("div",{className:"text-sm text-muted-foreground animate-in fade-in slide-in-from-top-2 duration-300 flex items-center justify-center gap-2",children:[e.jsx(ee,{className:"w-4 h-4 text-blue-400"}),A]}):null,m==="unknown"&&t.length>=1&&t.length<5&&e.jsxs("div",{className:"flex items-center justify-center gap-2 mt-2 animate-in fade-in duration-300",children:[e.jsx("span",{className:"text-[10px] text-slate-500 font-medium px-2 py-0.5 rounded-full bg-slate-200/50 border border-slate-300/50",children:"Antiga"}),e.jsx("span",{className:"text-[10px] text-slate-400",children:"ou"}),e.jsx("span",{className:"text-[10px] text-slate-500 font-medium px-2 py-0.5 rounded-full bg-blue-100/50 border border-blue-300/50",children:"Mercosul"})]})]}),e.jsx("div",{className:"sr-only",children:"Digite a placa do veÃ­culo"})]})},ke=({state:t,className:a})=>{const s=()=>{switch(t){case"empty":return"Digite a placa que eu te mostro as datas rapidinho.";case"loading":return"TÃ´ puxando... 1 segundinho!";case"valid":return"Boa! Confere as informaÃ§Ãµes abaixo ðŸ‘‡";case"error":return"Na base nÃ£o veio, mas no Whats eu resolvo pra vocÃª.";case"idle":default:return"Consultar dÃ©bitos e IPVA nunca foi tÃ£o fÃ¡cil!"}},r=t==="valid"||t==="loading";return e.jsxs("div",{className:n("w-full flex items-end gap-3",a),children:[e.jsxs("div",{className:"relative w-14 h-14 shrink-0 transition-transform duration-300 hover:scale-110",children:[e.jsx("div",{className:n("w-14 h-14 rounded-full border-2 shadow-lg overflow-hidden flex items-center justify-center backdrop-blur-sm",r?"border-green-400 bg-green-400/10":"border-blue-400 bg-blue-400/10"),children:e.jsx("img",{alt:"Mascote Tiquinho",className:"w-full h-full object-cover",src:"https://lh3.googleusercontent.com/aida-public/AB6AXuDt_YDD7wGOwNo-2Gmi2t3Uqt2R45LQdVVCa6vmJmHCvtze_WoZBGI4OkoaQ-9dAp00tt4TSplaVcZF76H2S9abSzpBuiRRUK_MMcRqxvetoBwg1ifaiIz0DZ6eAR2e09yH_MllFjwJnyZGseGwKYz4iwmvTNISnjXNKPugb5jDZLtBxKeflJH8znY6OmBUoEjfcnMu3NX4PmgPiO-TfVg_cKca3HkfrM1cHDhle1cDUFLoQs4CVMgeZfwUAi1w1Vee8vKKSDuGVG4"})}),e.jsx("div",{className:n("absolute bottom-0 right-0 w-3.5 h-3.5 border-2 border-background rounded-full transition-colors duration-300",t==="valid"?"bg-green-500":t==="error"?"bg-amber-500":t==="loading"?"bg-blue-500 animate-pulse":"bg-slate-400")})]}),e.jsx("div",{className:n("relative p-3 rounded-2xl rounded-bl-none shadow-sm flex-1 transition-all duration-300 border backdrop-blur-md","bg-white/5 border-white/10 text-slate-100"),children:e.jsx("p",{className:"text-sm font-medium leading-relaxed animate-in fade-in slide-in-from-left-2 duration-300 key-[state]",children:s()})})]})},Se={1:{cotaUnica:"2026-01-31",parcela1:"2026-01-10",parcela2:"2026-02-10",parcela3:"2026-03-10",licenciamento:"2026-03-31"},2:{cotaUnica:"2026-02-28",parcela1:"2026-02-10",parcela2:"2026-03-10",parcela3:"2026-04-10",licenciamento:"2026-04-30"},3:{cotaUnica:"2026-03-31",parcela1:"2026-03-10",parcela2:"2026-04-10",parcela3:"2026-05-10",licenciamento:"2026-05-31"},4:{cotaUnica:"2026-04-30",parcela1:"2026-04-10",parcela2:"2026-05-10",parcela3:"2026-06-10",licenciamento:"2026-06-30"},5:{cotaUnica:"2026-05-31",parcela1:"2026-05-10",parcela2:"2026-06-10",parcela3:"2026-07-10",licenciamento:"2026-07-31"},6:{cotaUnica:"2026-06-30",parcela1:"2026-06-10",parcela2:"2026-07-10",parcela3:"2026-08-10",licenciamento:"2026-08-31"},7:{cotaUnica:"2026-07-31",parcela1:"2026-07-10",parcela2:"2026-08-10",parcela3:"2026-09-10",licenciamento:"2026-09-30"},8:{cotaUnica:"2026-08-31",parcela1:"2026-08-10",parcela2:"2026-09-10",parcela3:"2026-10-10",licenciamento:"2026-10-31"},9:{cotaUnica:"2026-09-30",parcela1:"2026-09-10",parcela2:"2026-10-10",parcela3:"2026-11-10",licenciamento:"2026-11-30"},0:{cotaUnica:"2026-10-31",parcela1:"2026-10-10",parcela2:"2026-11-10",parcela3:"2026-12-10",licenciamento:"2026-12-31"}};function Ae(t){return Se[t]}function U(t){const a=new Date(t),s=new Date;a.setHours(0,0,0,0),s.setHours(0,0,0,0);const r=a.getTime()-s.getTime();return Math.ceil(r/(1e3*60*60*24))}const De=({dates:t})=>{const a=i=>{if(!i)return"--/--";const[d,g,o]=i.split("-");return`${o} ${["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"][parseInt(g)-1]}`},s=i=>{const d=U(i);return d<0?{label:"Vencido",color:"text-red-500",bg:"bg-red-500/10"}:d===0?{label:"Vence Hoje",color:"text-amber-500",bg:"bg-amber-500/10"}:d<=7?{label:`Faltam ${d} dias`,color:"text-amber-400",bg:"bg-amber-400/10"}:{label:"Em dia",color:"text-slate-400",bg:"bg-slate-500/10"}},r=({label:i,dateStr:d,icon:g,highlight:o=!1,badgeText:x})=>{const f=s(d);return e.jsxs("div",{className:n("relative flex flex-col p-4 rounded-xl border transition-all hover:scale-[1.02]",o?"bg-gradient-to-br from-[#1e3a8a]/40 to-slate-900 border-blue-500/30 shadow-lg shadow-blue-900/20":"bg-[#1e293b]/50 border-slate-700/50",U(d)<=3&&U(d)>=0?"animate-pulse ring-1 ring-amber-500/50":""),children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:n("opacity-80",o?"text-blue-400":"text-slate-400"),children:g}),e.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider text-slate-400",children:i})]}),x&&e.jsx("span",{className:"text-[10px] font-bold px-1.5 py-0.5 rounded bg-green-500/20 text-green-400 border border-green-500/20",children:x})]}),e.jsx("div",{className:"flex items-baseline gap-2 mt-auto",children:e.jsx("span",{className:n("text-2xl font-bold tracking-tight",o?"text-white":"text-slate-200"),children:a(d)})}),e.jsx("div",{className:n("self-start mt-2 text-[10px] font-bold px-2 py-0.5 rounded-full",f.color,f.bg),children:f.label})]})};return e.jsxs("div",{className:"grid grid-cols-2 gap-3 w-full animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e.jsx("div",{className:"col-span-2",children:e.jsx(r,{label:"Cota Ãšnica",dateStr:t.cotaUnica,icon:e.jsx(te,{className:"w-5 h-5"}),highlight:!0,badgeText:"Economize juros"})}),e.jsx(r,{label:"1Âª Cota",dateStr:t.parcela1,icon:e.jsx(H,{className:"w-5 h-5"})}),e.jsx(r,{label:"2Âª Cota",dateStr:t.parcela2,icon:e.jsx(se,{className:"w-5 h-5"})}),e.jsx(r,{label:"3Âª Cota",dateStr:t.parcela3,icon:e.jsx(ae,{className:"w-5 h-5"})}),e.jsxs("div",{className:"relative flex flex-col p-4 rounded-xl border border-amber-500/20 bg-amber-900/10",children:[e.jsx("div",{className:"flex justify-between items-start mb-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(re,{className:"w-5 h-5 text-amber-400"}),e.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider text-amber-400/80",children:"Licenciamento"})]})}),e.jsx("span",{className:"text-2xl font-bold tracking-tight text-white mb-2",children:a(t.licenciamento)}),e.jsx("div",{className:"text-[10px] text-amber-300/60",children:"ObrigatÃ³rio para rodar"})]})]})},Me=({data:t,isLoading:a,className:s})=>a?e.jsxs("div",{className:n("bg-[#1e293b] rounded-xl overflow-hidden border border-slate-700/50 p-0",s),children:[e.jsxs("div",{className:"bg-slate-800/50 px-5 py-3 border-b border-slate-700/50 flex justify-between items-center",children:[e.jsx("div",{className:"h-4 w-32 bg-slate-700 rounded animate-pulse"}),e.jsx("div",{className:"h-5 w-24 bg-slate-700 rounded animate-pulse"})]}),e.jsxs("div",{className:"p-5 grid grid-cols-2 gap-y-6 gap-x-4",children:[e.jsxs("div",{className:"col-span-2 space-y-2",children:[e.jsx("div",{className:"h-3 w-20 bg-slate-700 rounded animate-pulse"}),e.jsx("div",{className:"h-6 w-3/4 bg-slate-700 rounded animate-pulse"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-3 w-16 bg-slate-700 rounded animate-pulse"}),e.jsx("div",{className:"h-5 w-20 bg-slate-700 rounded animate-pulse"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"h-3 w-16 bg-slate-700 rounded animate-pulse"}),e.jsx("div",{className:"h-5 w-20 bg-slate-700 rounded animate-pulse"})]})]})]}):t?e.jsxs("div",{className:n("bg-[#1e293b] rounded-xl overflow-hidden border border-slate-700/50 shadow-lg animate-in fade-in zoom-in duration-300",s),children:[e.jsxs("div",{className:"bg-slate-800/50 px-5 py-3 border-b border-slate-700/50 flex justify-between items-center",children:[e.jsxs("h3",{className:"text-sm font-bold text-white flex items-center gap-2",children:[e.jsx(le,{className:"w-5 h-5 text-slate-400"}),"Dados do VeÃ­culo"]}),e.jsxs("div",{className:"bg-green-500/10 text-green-400 border border-green-500/20 px-2 py-1 rounded text-[10px] font-bold uppercase tracking-wider flex items-center gap-1",children:[e.jsx(E,{className:"w-3 h-3"}),"Sem restriÃ§Ã£o"]})]}),e.jsxs("div",{className:"p-5 grid grid-cols-2 gap-y-5 gap-x-4",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsx("p",{className:"text-[10px] text-slate-400 uppercase tracking-wider mb-1 font-semibold",children:"Marca / Modelo"}),e.jsxs("p",{className:"text-lg font-medium text-white tracking-tight",children:[t.brand," / ",t.model]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-slate-400 uppercase tracking-wider mb-1 font-semibold",children:"Ano Fab/Mod"}),e.jsxs("p",{className:"text-base font-medium text-slate-200",children:[t.yearFab," / ",t.yearMod]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-slate-400 uppercase tracking-wider mb-1 font-semibold",children:"Cor"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-3 h-3 rounded-full bg-slate-400 border border-slate-600"}),e.jsx("p",{className:"text-base font-medium text-slate-200",children:t.color})]})]}),e.jsx("div",{className:"col-span-2 pt-3 border-t border-dashed border-slate-700/50 flex justify-between items-center",children:e.jsxs("p",{className:"text-[10px] text-slate-500 italic",children:["MunicÃ­pio: ",t.city," - ",t.state]})})]})]}):null,K="5548999999999";function Pe(t){const s=`OlÃ¡ Titico! Quero consultar dÃ©bitos da placa *${S(t)}*. Pode me ajudar?`;return`https://wa.me/${K}?text=${encodeURIComponent(s)}`}function ze(t){const a=t?S(t):"",s=a?`OlÃ¡ Titico! O app nÃ£o achou a placa *${a}*. Pode verificar pra mim?`:"OlÃ¡ Titico! Preciso de ajuda para consultar um veÃ­culo.";return`https://wa.me/${K}?text=${encodeURIComponent(s)}`}const _e=({isOpen:t,onClose:a,plate:s,schedule:r})=>{const i=c.useRef(null),[d,g]=c.useState(!1),[o,x]=c.useState("story");if(!t)return null;const f=u=>{if(!u)return"--/--";const[b,C,m]=u.split("-");return`${m} ${["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"][parseInt(C)-1]}`},N=async()=>{if(i.current){g(!0);try{const u=await J(i.current,{cacheBust:!0,pixelRatio:2}),b=document.createElement("a");b.download=`ipva-${s.toLowerCase()}-${o}.png`,b.href=u,b.click()}catch(u){console.error("Error generating image:",u)}finally{g(!1)}}},v=async u=>{if(i.current){g(!0);try{const b=await J(i.current,{cacheBust:!0,pixelRatio:2}),m=await(await fetch(b)).blob(),k=new File([m],`ipva-${s}.png`,{type:"image/png"});u==="whatsapp"?navigator.share?await navigator.share({files:[k],title:`Vencimentos IPVA - ${_(s)}`,text:"Confira os vencimentos do meu veÃ­culo! ðŸš—"}):N():u==="generic"&&navigator.share?await navigator.share({files:[k],title:`IPVA SC - ${_(s)}`}):N()}catch(b){console.error("Error sharing:",b)}finally{g(!1)}}};return e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm animate-in fade-in duration-300",children:[e.jsx("div",{className:"absolute inset-0",onClick:a}),e.jsxs("div",{className:"relative z-10 w-full max-w-sm mx-4 bg-[#1e293b] rounded-2xl shadow-2xl overflow-hidden animate-in zoom-in-95 slide-in-from-bottom-4 duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10",children:[e.jsxs("h3",{className:"text-white font-bold flex items-center gap-2",children:[e.jsx(G,{className:"w-5 h-5 text-blue-400"}),"Gerar Card Viral"]}),e.jsx("button",{onClick:a,className:"p-1.5 rounded-full hover:bg-white/10 transition-colors",children:e.jsx(ne,{className:"w-5 h-5 text-slate-400"})})]}),e.jsxs("div",{className:"flex gap-2 p-4 pb-2",children:[e.jsx("button",{onClick:()=>x("story"),className:n("flex-1 py-2 px-4 rounded-lg text-sm font-medium transition-all",o==="story"?"bg-blue-500 text-white":"bg-slate-700/50 text-slate-400 hover:bg-slate-700"),children:"Story (9:16)"}),e.jsx("button",{onClick:()=>x("post"),className:n("flex-1 py-2 px-4 rounded-lg text-sm font-medium transition-all",o==="post"?"bg-blue-500 text-white":"bg-slate-700/50 text-slate-400 hover:bg-slate-700"),children:"Post (1:1)"})]}),e.jsx("div",{className:"p-4 flex justify-center overflow-hidden",children:e.jsxs("div",{ref:i,className:n("bg-gradient-to-br from-[#0f172a] via-[#1e3a8a] to-[#0f172a] rounded-xl overflow-hidden flex flex-col items-center justify-center p-6 shadow-lg relative",o==="story"?"w-[270px] h-[480px]":"w-[300px] h-[300px]"),style:{backgroundImage:"radial-gradient(rgba(59, 130, 246, 0.15) 1px, transparent 1px)",backgroundSize:"16px 16px"},children:[e.jsxs("div",{className:"absolute top-4 left-4 flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-sm",children:"T"})}),e.jsx("span",{className:"text-white/80 text-xs font-bold tracking-wider",children:"TITICO APP"})]}),e.jsxs("div",{className:"flex flex-col items-center text-center mt-8",children:[e.jsx("div",{className:"bg-white rounded-lg px-6 py-3 shadow-lg mb-4",children:e.jsx("span",{className:"text-2xl font-bold text-slate-900 font-mono tracking-wider",children:_(s)})}),e.jsxs("p",{className:"text-blue-300 text-sm mb-4",children:["Final ",z(s)]}),e.jsxs("div",{className:n("w-full space-y-2",o==="story"?"mt-4":""),children:[e.jsxs("div",{className:"bg-white/10 rounded-lg p-3 flex justify-between items-center backdrop-blur-sm",children:[e.jsx("span",{className:"text-slate-300 text-sm",children:"Cota Ãšnica"}),e.jsx("span",{className:"text-white font-bold",children:f(r.cotaUnica)})]}),e.jsxs("div",{className:"bg-white/10 rounded-lg p-3 flex justify-between items-center backdrop-blur-sm",children:[e.jsx("span",{className:"text-slate-300 text-sm",children:"1Âª Cota"}),e.jsx("span",{className:"text-white font-bold",children:f(r.parcela1)})]}),o==="story"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white/10 rounded-lg p-3 flex justify-between items-center backdrop-blur-sm",children:[e.jsx("span",{className:"text-slate-300 text-sm",children:"2Âª Cota"}),e.jsx("span",{className:"text-white font-bold",children:f(r.parcela2)})]}),e.jsxs("div",{className:"bg-amber-500/20 border border-amber-500/30 rounded-lg p-3 flex justify-between items-center backdrop-blur-sm",children:[e.jsx("span",{className:"text-amber-300 text-sm",children:"Licenciamento"}),e.jsx("span",{className:"text-amber-100 font-bold",children:f(r.licenciamento)})]})]})]})]}),e.jsxs("div",{className:"absolute bottom-4 left-4 right-4 flex flex-col items-center",children:[e.jsxs("div",{className:"bg-[#25D366] text-white text-xs font-bold px-4 py-2 rounded-full flex items-center gap-2",children:[e.jsx(R,{icon:"mdi:whatsapp",width:"16",height:"16"}),"Consulta grÃ¡tis pelo Titico"]}),e.jsx("span",{className:"text-white/40 text-[10px] mt-2",children:"etijucas.com.br"})]})]})}),e.jsxs("div",{className:"p-4 pt-0 grid grid-cols-3 gap-2",children:[e.jsxs("button",{onClick:N,disabled:d,className:"flex flex-col items-center gap-1 p-3 rounded-xl bg-slate-700/50 hover:bg-slate-700 transition-colors disabled:opacity-50",children:[e.jsx(ie,{className:"w-5 h-5 text-blue-400"}),e.jsx("span",{className:"text-xs text-slate-300",children:"Baixar"})]}),e.jsxs("button",{onClick:()=>v("whatsapp"),disabled:d,className:"flex flex-col items-center gap-1 p-3 rounded-xl bg-[#25D366]/20 hover:bg-[#25D366]/30 transition-colors disabled:opacity-50",children:[e.jsx(R,{icon:"mdi:whatsapp",width:"20",height:"20",className:"text-[#25D366]"}),e.jsx("span",{className:"text-xs text-slate-300",children:"WhatsApp"})]}),e.jsxs("button",{onClick:()=>v("generic"),disabled:d,className:"flex flex-col items-center gap-1 p-3 rounded-xl bg-gradient-to-br from-purple-500/20 to-pink-500/20 hover:from-purple-500/30 hover:to-pink-500/30 transition-colors disabled:opacity-50",children:[e.jsx(oe,{className:"w-5 h-5 text-pink-400"}),e.jsx("span",{className:"text-xs text-slate-300",children:"Stories"})]})]}),d&&e.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:e.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})})]})]})},Ie=({children:t,onSwipeRight:a,onSwipeLeft:s,rightActionColor:r="bg-red-500",leftActionColor:i="bg-blue-500",rightIcon:d,leftIcon:g,className:o})=>{const x=ce(),f=async(N,v)=>{v.offset.x<-100&&a?(await x.start({x:-500,opacity:0,transition:{duration:.2}}),a()):v.offset.x>100&&s?(s(),x.start({x:0})):x.start({x:0})};return e.jsxs("div",{className:n("relative overflow-hidden rounded-xl",o),children:[e.jsx("div",{className:"absolute inset-0 flex items-center justify-between pointer-events-none",children:e.jsx("div",{className:n("h-full w-full flex items-center pl-4 justify-start",i),children:g})}),e.jsx("div",{className:n("absolute inset-0 flex items-center justify-end pr-4 pointer-events-none",r),children:d}),e.jsx(de.div,{drag:"x",dragConstraints:{left:0,right:0},dragElastic:.5,onDragEnd:f,animate:x,className:"relative bg-[#1e293b] z-10",children:t})]})},Ve=async t=>new Promise((a,s)=>{setTimeout(()=>{t.endsWith("000")?s("VeÃ­culo nÃ£o encontrado"):a({brand:"HONDA",model:"CIVIC EXL CVT",yearFab:"2021",yearMod:"2022",color:"Prata",fuel:"Flex",plate:t,city:"TIJUCAS",state:"SC"})},2e3)}),Re=()=>{const[t,a]=c.useState(""),[s,r]=c.useState("empty"),[i,d]=c.useState(void 0),[g,o]=c.useState(null),[x,f]=c.useState([]),[N,v]=c.useState(!1),[u,b]=c.useState(0),[C,m]=c.useState(!1);c.useEffect(()=>{const l=localStorage.getItem("titico_vehicles");if(l)try{f(JSON.parse(l))}catch{console.error("Failed to parse saved vehicles")}},[]);const k=l=>{if(!B(l))return;const p={plate:l,addedAt:Date.now(),finalDigit:z(l)};if(x.some(Y=>Y.plate===l)){P.info("VeÃ­culo jÃ¡ estÃ¡ na garagem!");return}const M=[p,...x].slice(0,5);f(M),localStorage.setItem("titico_vehicles",JSON.stringify(M)),P.success("VeÃ­culo salvo na garagem!")},I=l=>{const p=x.filter(D=>D.plate!==l);f(p),localStorage.setItem("titico_vehicles",JSON.stringify(p)),P.info("VeÃ­culo removido.")};c.useEffect(()=>{if(B(t)){const l=z(t),p=Ae(l);d(p),r("valid"),u===0&&V(t)}else t.length===0&&r("empty"),t.length<7&&(d(void 0),b(0),o(null))},[t]);const V=async l=>{b(0),r("loading"),o(null),v(!1),setTimeout(()=>{b(1)},300),setTimeout(()=>{b(2)},800);try{const p=await Ve(l);o(p),r("valid"),b(3)}catch{r("error"),b(3)}},T=()=>{s==="error"||!g?window.open(ze(t),"_blank"):window.open(Pe(t),"_blank")},A=l=>a(l),[y,h]=c.useState(!1),[j,w]=c.useState(0);return c.useEffect(()=>{const l=()=>{const p=window.scrollY;p>j&&p>50?h(!0):h(!1),w(p)};return window.addEventListener("scroll",l,{passive:!0}),()=>window.removeEventListener("scroll",l)},[j]),e.jsxs("div",{className:"min-h-screen bg-[#101623] pb-40 font-sans relative overflow-x-hidden selection:bg-blue-500/30",children:[e.jsx("div",{className:"fixed inset-0 pointer-events-none opacity-20",style:{backgroundImage:"radial-gradient(#256af4 1px, transparent 1px)",backgroundSize:"24px 24px"}}),e.jsxs("header",{className:"relative z-10 p-6 flex items-center justify-between",children:[e.jsxs("div",{onClick:()=>window.history.back(),className:"cursor-pointer",children:[e.jsx("h2",{className:"text-white text-2xl font-bold leading-none tracking-tight",children:"IPVA SC"}),e.jsx("span",{className:"text-blue-400 text-xs font-bold uppercase tracking-widest opacity-80",children:"Titico App"})]}),e.jsxs("div",{onClick:()=>v(!N),className:"w-10 h-10 rounded-full bg-[#1e293b] border border-white/10 flex items-center justify-center shadow-lg cursor-pointer hover:bg-slate-700 transition-colors relative",children:[e.jsx(me,{className:"w-5 h-5 text-blue-500"}),x.length>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full text-[10px] flex items-center justify-center text-white border-2 border-[#101623]",children:x.length})]})]}),N&&e.jsx("div",{className:"px-6 mb-6 animate-in slide-in-from-top-4 duration-300 relative z-30",children:e.jsxs("div",{className:"bg-[#1e293b]/90 backdrop-blur-md rounded-2xl border border-white/10 p-4 shadow-2xl",children:[e.jsxs("h3",{className:"text-white font-bold mb-3 flex items-center gap-2",children:[e.jsx($,{className:"w-5 h-5 text-yellow-400 fill-yellow-400"}),"Minha Garagem"]}),x.length===0?e.jsx("p",{className:"text-slate-400 text-sm py-2",children:"Nenhum veÃ­culo salvo ainda. Consulte uma placa e clique em salvar!"}):e.jsx("div",{className:"space-y-3",children:x.map(l=>e.jsx(Ie,{onSwipeRight:()=>I(l.plate),onSwipeLeft:()=>{a(l.plate),v(!1)},rightIcon:e.jsx(he,{className:"w-6 h-6 text-white"}),rightActionColor:"bg-red-500/80",leftIcon:e.jsx(ue,{className:"w-6 h-6 text-white"}),leftActionColor:"bg-blue-500/80",children:e.jsxs("div",{className:"flex items-center justify-between p-3 cursor-pointer hover:bg-white/5 transition-colors",onClick:()=>{a(l.plate),v(!1)},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500/20 flex items-center justify-center text-blue-400 font-bold",children:l.finalDigit}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-bold font-mono tracking-wider",children:_(l.plate)}),e.jsx("p",{className:"text-[10px] text-slate-400",children:"Tocar para consultar"})]})]}),e.jsx(xe,{className:"w-5 h-5 text-slate-500"})]})},l.plate))}),e.jsxs("div",{className:"mt-2 text-[10px] text-slate-500 text-center flex items-center justify-center gap-2 opacity-50",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(pe,{className:"w-3 h-3"})," Swipe"]}),e.jsx("span",{children:"para aÃ§Ãµes"}),e.jsxs("span",{className:"flex items-center gap-1",children:["Swipe ",e.jsx(O,{className:"w-3 h-3"})]})]})]})}),e.jsxs("main",{className:"relative z-10 px-6 flex flex-col w-full max-w-md mx-auto",children:[e.jsxs("div",{className:"text-center mb-8 mt-4 animate-in slide-in-from-top-4 fade-in duration-500",children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2 tracking-tight",children:"Consulta Veicular"}),e.jsx("p",{className:"text-slate-400 text-sm font-medium",children:"Digite sua placa e veja IPVA + licenciamento em 2 segundos."})]}),e.jsx("div",{className:"mb-6 relative z-20",children:e.jsx(Ce,{value:t,onChange:a,isValid:s==="valid",isLoading:s==="loading",hasError:s==="error",errorMessage:s==="error"?"VeÃ­culo nÃ£o encontrado. Tente novamente ou fale com o Titico.":void 0})}),u===0&&e.jsx("div",{className:"flex gap-2 justify-center mb-8 animate-in fade-in duration-700 delay-150",children:e.jsxs("button",{onClick:()=>A("MKE9876"),className:"bg-slate-800/50 hover:bg-slate-700/80 border border-slate-700/50 backdrop-blur-sm text-slate-300 px-4 py-2 rounded-full text-xs font-medium flex items-center gap-2 transition-all hover:scale-105 active:scale-95 group",children:[e.jsx(fe,{className:"w-4 h-4 text-blue-400 group-hover:rotate-180 transition-transform duration-500"}),"Preencher exemplo"]})}),e.jsx("div",{className:"mb-6",children:e.jsx(ke,{state:s})}),i&&u>=1&&e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("div",{className:"animate-in slide-in-from-bottom-8 fade-in duration-500 fill-mode-forwards",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 px-1",children:[e.jsxs("h3",{className:"text-white font-bold flex items-center gap-2",children:[e.jsx(H,{className:"w-5 h-5 text-blue-500"}),"Vencimentos ",e.jsxs("span",{className:"text-slate-500 text-sm font-normal",children:["(Final ",z(t),")"]})]}),u>=3&&e.jsxs("div",{className:"flex gap-2 animate-in fade-in zoom-in duration-300",children:[e.jsxs("button",{onClick:()=>k(t),className:"text-xs text-yellow-500 hover:text-yellow-400 flex items-center gap-1 font-medium px-2 py-1 rounded hover:bg-yellow-500/10 transition-colors",children:[e.jsx($,{className:"w-4 h-4"}),"Salvar"]}),e.jsxs("button",{onClick:()=>m(!0),className:"text-xs text-pink-400 hover:text-pink-300 flex items-center gap-1 font-medium px-2 py-1 rounded hover:bg-pink-500/10 transition-colors",children:[e.jsx(G,{className:"w-4 h-4"}),"Card Viral"]})]})]}),e.jsx(De,{dates:i})]}),u>=2&&e.jsx("div",{className:"animate-in slide-in-from-bottom-8 fade-in duration-500 fill-mode-forwards delay-100",children:e.jsx(Me,{isLoading:u<3,data:g})}),u>=3&&e.jsx("div",{className:"text-[10px] text-slate-500 text-center pb-24 px-4 leading-relaxed opacity-60 animate-in fade-in duration-500",children:"Datas conforme tabela oficial SC. Consulte dÃ©bitos completos para valores exatos."})]})]}),u>=3&&e.jsx("div",{className:n("fixed bottom-0 left-0 w-full z-50 p-4 transition-all duration-500 ease-in-out",y?"translate-y-0 opacity-100 py-2 bg-[#101623]/95 backdrop-blur-md border-t border-white/5":"bg-gradient-to-t from-[#101623] via-[#101623]/95 to-transparent backdrop-blur-[2px]"),children:e.jsxs("div",{className:"max-w-md mx-auto flex flex-col gap-2",children:[e.jsxs("button",{onClick:T,className:n("w-full flex items-center justify-center gap-2 bg-[#25D366] hover:bg-[#20bd5a] text-white font-bold rounded-xl shadow-[0_0_20px_rgba(37,211,102,0.3)] transition-all duration-500 transform active:scale-95 group relative overflow-hidden",y?"h-12 text-sm":"h-14"),children:[e.jsx("div",{className:"absolute inset-0 bg-white/20 translate-y-full group-hover:translate-y-0 transition-transform duration-300"}),e.jsx(R,{icon:"mdi:whatsapp",width:y?"20":"24",height:y?"20":"24",className:"text-white relative z-10 transition-all"}),e.jsx("span",{className:"relative z-10 whitespace-nowrap",children:s==="error"?"NÃ£o achou? Falar com Titico":"Consultar dÃ©bitos"}),!y&&e.jsx(O,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform relative z-10"})]}),s!=="error"&&e.jsxs("div",{className:n("flex items-center justify-center gap-2 text-[10px] text-slate-400 font-medium opacity-80 transition-all duration-300 overflow-hidden",y?"h-0 opacity-0":"h-auto opacity-100"),children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(be,{className:"w-3 h-3 text-green-500"})," Resposta rÃ¡pida"]}),e.jsx("span",{className:"w-1 h-1 rounded-full bg-slate-600"}),e.jsx("span",{children:"Evita multa"}),e.jsx("span",{className:"w-1 h-1 rounded-full bg-slate-600"}),e.jsx("span",{children:"Sem enrolaÃ§Ã£o"})]})]})}),i&&e.jsx(_e,{isOpen:C,onClose:()=>m(!1),plate:t,schedule:i})]})};export{Re as default};
