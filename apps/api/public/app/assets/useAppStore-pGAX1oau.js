import{p as d}from"./middleware-WYGlAF-S.js";import{b as c}from"./bairros-Cf5Z_oCw.js";import{g as l}from"./uuid-BwYzP5ph.js";import{dp as m}from"./vendor-app-CVYGrm5O.js";const u=[{id:"1",categoria:"reclamacao",titulo:"Buraco enorme na Rua XV de Novembro há 3 meses!",texto:"Já reportei várias vezes e nada foi feito. O buraco está crescendo e já causou acidentes.",isAnon:!1,autorNome:"Carlos M.",bairroId:"1",likesCount:47,commentsCount:12,createdAt:new Date("2024-01-25T10:30:00"),liked:!1},{id:"2",categoria:"alerta",titulo:"Cuidado! Poste com fiação exposta perto da escola",texto:"Na Rua das Flores, próximo à escola municipal, tem um poste com fios soltos. Muito perigoso para as crianças.",fotoUrl:"https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=400",isAnon:!0,bairroId:"3",likesCount:35,commentsCount:8,createdAt:new Date("2024-01-26T14:15:00"),liked:!1},{id:"3",categoria:"sugestao",titulo:"Precisamos de mais lixeiras na praça central",texto:"A praça está sempre cheia de lixo. Se tivesse mais lixeiras, o pessoal descartaria corretamente.",isAnon:!1,autorNome:"Ana Paula",bairroId:"2",likesCount:28,commentsCount:5,createdAt:new Date("2024-01-26T09:00:00"),liked:!1},{id:"4",categoria:"elogio",titulo:"Parabéns pela reforma da praça do bairro!",texto:"Ficou linda a praça de Areias! As crianças estão adorando os novos brinquedos.",fotoUrl:"https://images.unsplash.com/photo-1568393691622-c7ba131d63b4?w=400",isAnon:!1,autorNome:"Roberto",bairroId:"4",likesCount:52,commentsCount:15,createdAt:new Date("2024-01-24T16:45:00"),liked:!1},{id:"5",categoria:"duvida",titulo:"Alguém sabe o horário do ônibus para Itapema?",texto:"Preciso ir ao médico em Itapema amanhã cedo. Qual o primeiro horário?",isAnon:!1,autorNome:"Maria José",bairroId:"1",likesCount:8,commentsCount:4,createdAt:new Date("2024-01-27T08:30:00"),liked:!1},{id:"6",categoria:"reclamacao",titulo:"Som alto toda noite no bar da esquina",texto:"Não consigo dormir há semanas. O bar funciona até 3h da manhã com som altíssimo.",isAnon:!0,bairroId:"5",likesCount:19,commentsCount:7,createdAt:new Date("2024-01-26T23:00:00"),liked:!1}],k=[{id:"1",titulo:"Praia de Tijucas",descCurta:"Praia tranquila com águas calmas, perfeita para famílias.",descLonga:"Uma das praias mais tranquilas da região, com águas calmas ideais para banho de crianças.",tags:["natureza","família","praia"],imageUrl:"https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=600"},{id:"2",titulo:"Igreja Matriz",descCurta:"Igreja histórica do século XIX no coração da cidade.",tags:["cultura","história","arquitetura"],imageUrl:"https://images.unsplash.com/photo-1548625149-fc4a29cf7092?w=600"},{id:"3",titulo:"Trilha do Morro",descCurta:"Trilha com vista panorâmica da cidade e do vale.",tags:["natureza","aventura","esporte"],imageUrl:"https://images.unsplash.com/photo-1551632811-561732d1e306?w=600"},{id:"4",titulo:"Mercado Municipal",descCurta:"Produtos locais, artesanato e gastronomia típica.",tags:["cultura","gastronomia","compras"],imageUrl:"https://images.unsplash.com/photo-1488459716781-31db52582fe9?w=600"}],I=[{id:"1",bairroId:"1",igrejaNome:"Igreja Matriz São Sebastião",diaSemana:0,horarios:["07:00","09:00","19:00"]},{id:"2",bairroId:"1",igrejaNome:"Igreja Matriz São Sebastião",diaSemana:6,horarios:["18:00"]},{id:"3",bairroId:"3",igrejaNome:"Capela São Vicente",diaSemana:0,horarios:["08:00","17:00"]},{id:"4",bairroId:"4",igrejaNome:"Igreja Nossa Senhora de Fátima",diaSemana:0,horarios:["09:30","18:30"]},{id:"5",bairroId:"2",igrejaNome:"Igreja do Sagrado Coração",diaSemana:0,horarios:["10:00","19:00"]}],w=[{id:"1",categoria:"emergencias",nome:"SAMU",numero:"192",descricao:"Emergências médicas"},{id:"2",categoria:"emergencias",nome:"Bombeiros",numero:"193",descricao:"Incêndios e resgates"},{id:"3",categoria:"emergencias",nome:"Polícia Militar",numero:"190",descricao:"Ocorrências policiais"},{id:"4",categoria:"emergencias",nome:"Polícia Civil",numero:"(47) 3263-0190",descricao:"Delegacia de Tijucas"},{id:"5",categoria:"prefeitura",nome:"Prefeitura Municipal",numero:"(47) 3263-8000",descricao:"Central de atendimento"},{id:"6",categoria:"prefeitura",nome:"Ouvidoria",numero:"0800 123 4567",descricao:"Reclamações e sugestões"},{id:"7",categoria:"saude",nome:"UPA 24h",numero:"(47) 3263-5000",descricao:"Pronto atendimento"},{id:"8",categoria:"saude",nome:"Posto de Saúde Centro",numero:"(47) 3263-5100",descricao:"Agendamentos e consultas"},{id:"9",categoria:"defesa_civil",nome:"Defesa Civil",numero:"199",descricao:"Emergências climáticas"},{id:"10",categoria:"servicos",nome:"Água e Esgoto",numero:"0800 048 1195",descricao:"Casan - falta d'água"},{id:"11",categoria:"servicos",nome:"Energia Elétrica",numero:"0800 048 0196",descricao:"Celesc - falta de luz"}],p=[{id:"1",categoria:"buraco",texto:"Buraco grande na Rua das Palmeiras, próximo ao número 150.",bairroId:"1",status:"em_analise",createdAt:new Date("2024-01-20"),likes:5,protocolo:"ETJ-000089",fotos:[]},{id:"2",categoria:"iluminacao",texto:"Poste apagado há uma semana na esquina da Rua XV com Rua das Flores.",bairroId:"1",status:"recebido",createdAt:new Date("2024-01-26"),likes:2,protocolo:"ETJ-000123",fotos:[]}],n=c.find(i=>i.slug==="centro")||c[0],g=p.map(i=>({...i,syncStatus:"synced"})),S=m()(d((i,s)=>({selectedBairro:n,setSelectedBairro:e=>i({selectedBairro:e}),topics:u,likeTopic:e=>i(a=>({topics:a.topics.map(o=>o.id===e?{...o,liked:!o.liked,likesCount:o.liked?o.likesCount-1:o.likesCount+1}:o),weeklyContributions:a.weeklyContributions+1})),addTopic:e=>i(a=>({topics:[{...e,id:`topic-${Date.now()}`,createdAt:new Date,likesCount:0,commentsCount:0,liked:!1},...a.topics],weeklyContributions:a.weeklyContributions+1})),reports:g,addReport:e=>{const a=l(),o={...e,id:a,tempId:a,createdAt:new Date,likes:0,protocolo:`ETJ-${String(Date.now()).slice(-6)}`,status:"recebido",syncStatus:"pending"};return i(t=>({reports:[o,...t.reports],weeklyContributions:t.weeklyContributions+1})),o},updateReportStatus:(e,a,o)=>i(t=>({reports:t.reports.map(r=>r.id===e||r.tempId===e?{...r,syncStatus:a,errorMessage:o}:r)})),confirmReport:(e,a,o)=>i(t=>({reports:t.reports.map(r=>r.tempId===e?{...r,id:a,protocolo:o,tempId:void 0,syncStatus:"synced"}:r)})),deleteReport:e=>i(a=>({reports:a.reports.filter(o=>o.id!==e&&o.tempId!==e)})),retryReport:e=>i(a=>({reports:a.reports.map(o=>o.id===e||o.tempId===e?{...o,syncStatus:"pending",errorMessage:void 0}:o)})),isRefreshing:!1,setIsRefreshing:e=>i({isRefreshing:e}),scrollPositions:{},setScrollPosition:(e,a)=>i(o=>({scrollPositions:{...o.scrollPositions,[e]:a}})),weeklyContributions:3,incrementContributions:()=>i(e=>({weeklyContributions:e.weeklyContributions+1})),activeTab:"home",setActiveTab:e=>i({activeTab:e}),favoritePhones:[],toggleFavoritePhone:e=>i(a=>({favoritePhones:a.favoritePhones.includes(e)?a.favoritePhones.filter(o=>o!==e):[...a.favoritePhones,e]}))}),{name:"etijucas-storage",version:2,migrate:(i,s)=>{const e=i;if(s<2)if(e?.selectedBairro){const a=/^[0-9]+$/.test(e.selectedBairro.id||""),o=!e.selectedBairro.slug;if(a||o){const t=c.find(r=>r.nome===e.selectedBairro?.nome);e.selectedBairro=t||n}}else e.selectedBairro=n;return e?.reports&&(e.reports=e.reports.map(a=>({...a,syncStatus:a.syncStatus??"synced"}))),e},partialize:i=>({selectedBairro:i.selectedBairro,topics:i.topics.map(s=>{const{fotoUrl:e,...a}=s;return a}),reports:i.reports.map(s=>{const{fotoUrl:e,...a}=s;return a}),weeklyContributions:i.weeklyContributions,favoritePhones:i.favoritePhones})}));export{w as a,I as m,k as t,S as u};
