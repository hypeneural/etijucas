import{N as e,d as s,E as n}from"./index-BN83mQjS.js";async function i(){(await e.getAll()).length}const l={async getAll(){await i();try{const a=await s.get(n.bairros.list);return a.data&&a.data.length>0&&(await e.clear(),await e.saveMany(a.data)),a.data}catch(a){return console.warn("[BairroService] API failed, using cache:",a),e.getAll()}},async getById(a){await i();try{return(await s.get(n.bairros.get(a))).data}catch{return console.warn("[BairroService] API failed for getById, using cache"),(await e.getAll()).find(t=>t.id===a)}},async search(a){await i();const r=a.toLowerCase();return(await e.getAll()).filter(t=>t.nome.toLowerCase().includes(r))},async refresh(){await e.clear(),await this.getAll()}};export{l as b};
