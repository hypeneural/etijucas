import{b as l,c as p}from"./index-BjX2bvbp.js";import{a as s,E as o,c as u,s as f}from"./client-Dz6Z9Pax.js";import{r as h,j as k,h as i}from"./vendor-radix-BOMdSbHx.js";import{a as m}from"./vendor-utils-CpAfWav3.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=l("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),a="etijucas_token",c="etijucas_refresh_token";function P(t){const e=t.replace(/\D/g,"");return e.length<=2?e:e.length<=7?`(${e.slice(0,2)}) ${e.slice(2)}`:`(${e.slice(0,2)}) ${e.slice(2,7)}-${e.slice(7,11)}`}function S(t){const e=t.replace(/\D/g,"");return e.length===11&&e[2]==="9"}function O(t){return t.replace(/\D/g,"")}const n={getToken(){return localStorage.getItem(a)},getRefreshToken(){return localStorage.getItem(c)},setTokens(t,e){localStorage.setItem(a,t),localStorage.setItem(c,e),f(t,e)},clearTokens(){localStorage.removeItem(a),localStorage.removeItem(c),u()},isAuthenticated(){return!!this.getToken()}},x={async login(t){const e=await s.post(o.auth.login,t);return e.token&&e.refreshToken&&n.setTokens(e.token,e.refreshToken),e},async sendOtp(t){return await s.post(o.auth.sendOtp,t)},async resendOtp(t){return await s.post(o.auth.resendOtp,t)},async verifyOtp(t){const e=await s.post(o.auth.verifyOtp,t);return e.token&&e.refreshToken&&n.setTokens(e.token,e.refreshToken),e},async register(t){const e={...t,password_confirmation:t.confirmPassword},r=await s.post(o.auth.register,e);return n.setTokens(r.token,r.refreshToken),r},async refreshToken(){const t=n.getRefreshToken();if(!t)throw new Error("No refresh token available");const e=await s.post(o.auth.refresh,{refreshToken:t});return n.setTokens(e.token,e.refreshToken),e},async getMe(){return(await s.get(o.auth.me)).data},async logout(){try{await s.post(o.auth.logout)}catch{}finally{n.clearTokens()}},async forgotPassword(t){return await s.post(o.auth.forgotPassword,t)},async resetPassword(t){const e={...t,password_confirmation:t.confirmPassword};return await s.post(o.auth.resetPassword,e)}},d=m("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),g=h.forwardRef(({className:t,...e},r)=>k.jsx(i,{ref:r,className:p(d(),t),...e}));g.displayName=i.displayName;export{g as L,E as a,x as b,O as c,P as f,n as t,S as v};
