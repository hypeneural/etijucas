import{j as e,r as f}from"./vendor-radix-CQkmBfGK.js";import{B as w}from"./button-B2-CpamS.js";import{B as K}from"./badge-BswxyE_a.js";import{C as X}from"./card-TrzHUMbr.js";import{f as P,C as S,X as C,d as r,U as I,m as Y,o as L,n as J,u as Z,l as ee,b as te,i as ae,p as se,B as re,Q as oe}from"./index-BHMDYAkL.js";import{u as ne}from"./vendor-query-BnSlUk-m.js";import{m as u,A as ie}from"./vendor-motion-3m9Rluu3.js";import{V as le}from"./vote-C64QP3uO.js";import{S as R}from"./search-738_hg3k.js";import{C as de}from"./chevron-down-D_4YcjCI.js";import{V as A,a as F}from"./votes--jqTh9CK.js";import{S as ce,a as me,b as xe,c as ue}from"./sheet-D7Uch_v-.js";import{F as he}from"./file-text-BS0jQVQm.js";import{S as _}from"./share-2-zQJabEWQ.js";import{E as q}from"./external-link-Cm6qdjjV.js";import{U as pe}from"./users-CMNfQ78k.js";import{C as fe}from"./circle-alert-ClHputSO.js";import{v as ge}from"./votes.service-DI2zA78Y.js";import{A as be}from"./arrow-left-BrfYu7ne.js";import{C as je}from"./circle-x-COcvXSaB.js";import"./vendor-utils-YRYEdvK0.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=P("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=P("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]),ye=[{key:"sim",label:"Sim",icon:S,bgColor:"bg-green-50 dark:bg-green-950/30",iconBg:"bg-green-500",textColor:"text-green-700 dark:text-green-400",borderColor:"border-green-200 dark:border-green-800/50"},{key:"nao",label:"Não",icon:C,bgColor:"bg-red-50 dark:bg-red-950/30",iconBg:"bg-red-500",textColor:"text-red-700 dark:text-red-400",borderColor:"border-red-200 dark:border-red-800/50"},{key:"abstencao",label:"Abstenção",icon:V,bgColor:"bg-amber-50 dark:bg-amber-950/30",iconBg:"bg-amber-500",textColor:"text-amber-700 dark:text-amber-400",borderColor:"border-amber-200 dark:border-amber-800/50"},{key:"naoVotou",label:"Ausente",icon:T,bgColor:"bg-gray-50 dark:bg-gray-800/30",iconBg:"bg-gray-400",textColor:"text-gray-600 dark:text-gray-400",borderColor:"border-gray-200 dark:border-gray-700"}];function ve({value:t,duration:a=1e3}){const[s,n]=f.useState(0);return f.useEffect(()=>{const l=Date.now(),o=0,x=()=>{const m=Date.now()-l,g=Math.min(m/a,1),i=1-Math.pow(1-g,3),b=Math.round(o+(t-o)*i);n(b),g<1&&requestAnimationFrame(x)};requestAnimationFrame(x)},[t,a]),e.jsx("span",{children:s})}function Ne({counts:t,className:a}){return e.jsx("div",{className:r("grid grid-cols-4 gap-2",a),children:ye.map((s,n)=>{const l=s.icon,o=t[s.key];return e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n*.1},className:r("flex flex-col items-center gap-1.5 p-3 rounded-xl border",s.bgColor,s.borderColor),children:[e.jsx("div",{className:r("flex items-center justify-center w-8 h-8 rounded-full",s.iconBg),children:e.jsx(l,{className:"w-4 h-4 text-white",strokeWidth:2.5})}),e.jsx("span",{className:r("text-2xl font-bold tabular-nums",s.textColor),children:e.jsx(ve,{value:o,duration:800})}),e.jsx("span",{className:"text-[10px] font-medium text-muted-foreground uppercase tracking-wide",children:s.label})]},s.key)})})}function $({value:t,duration:a=1200}){const[s,n]=f.useState(0);return f.useEffect(()=>{const l=Date.now(),o=()=>{const x=Date.now()-l,m=Math.min(x/a,1),g=1-Math.pow(1-m,4),i=Math.round(t*g);n(i),m<1&&requestAnimationFrame(o)};requestAnimationFrame(o)},[t,a]),e.jsx("span",{children:s})}function we({counts:t,status:a,className:s}){const[n,l]=f.useState(0),o=f.useRef(null),x=t.sim+t.nao+t.abstencao+t.naoVotou,m=x>0?t.sim/x*100:0,g=x>0?t.nao/x*100:0;f.useEffect(()=>{const B=Date.now(),D=1500,y=()=>{const d=Date.now()-B,k=Math.min(d/D,1),E=1-Math.pow(1-k,3);l(E),k<1&&requestAnimationFrame(y)};requestAnimationFrame(y)},[]);const i=m*3.6*n,b=g*3.6*n,h=(100-m-g)*3.6*n,O=`conic-gradient(
    #22c55e 0deg ${i}deg,
    #ef4444 ${i}deg ${i+b}deg,
    #9ca3af ${i+b}deg ${i+b+h}deg,
    #e5e7eb ${i+b+h}deg 360deg
  )`;return e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:r("flex items-center justify-between gap-4",s),children:[e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx(u.span,{className:"text-5xl font-extrabold text-foreground tabular-nums tracking-tight",initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:200,damping:15},children:e.jsx($,{value:t.sim})}),e.jsx("span",{className:"text-2xl text-muted-foreground font-medium",children:"×"}),e.jsx(u.span,{className:"text-5xl font-extrabold text-foreground tabular-nums tracking-tight",initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:200,damping:15,delay:.1},children:e.jsx($,{value:t.nao})})]}),e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-green-500"}),e.jsxs("span",{className:"text-green-600 dark:text-green-400 font-medium",children:[t.sim," ",t.sim===1?"voto":"votos"," Sim"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-red-500"}),e.jsxs("span",{className:"text-red-600 dark:text-red-400 font-medium",children:[t.nao," ",t.nao===1?"voto":"votos"," Não"]})]}),(t.abstencao>0||t.naoVotou>0)&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-gray-400"}),e.jsxs("span",{className:"text-muted-foreground font-medium",children:[t.abstencao+t.naoVotou," outros"]})]})]})]}),e.jsx(u.div,{ref:o,initial:{scale:0,rotate:-90},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:100,damping:15,delay:.2},className:"relative w-28 h-28 shrink-0 rounded-full flex items-center justify-center",style:{background:O},children:e.jsx("div",{className:"w-20 h-20 rounded-full bg-card flex items-center justify-center shadow-inner",children:e.jsx(le,{className:"w-7 h-7 text-muted-foreground"})})})]})}const Ce=[{value:"all",label:"Todos"},{value:"SIM",label:"Sim"},{value:"NAO",label:"Não"},{value:"ABSTENCAO",label:"Abstenção"},{value:"NAO_VOTOU",label:"Ausente"}];function ke({searchQuery:t,onSearchChange:a,selectedParty:s,onPartyChange:n,selectedVote:l,onVoteChange:o,sortBy:x,onSortChange:m,availableParties:g,className:i}){const[b,j]=f.useState(!1);return e.jsxs("div",{className:r("flex flex-col gap-3",i),children:[e.jsxs("div",{className:"relative",children:[e.jsx(R,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx("input",{type:"text",value:t,onChange:h=>a(h.target.value),placeholder:"Buscar vereador...",className:r("w-full h-11 pl-10 pr-10 rounded-xl border bg-card","text-sm placeholder:text-muted-foreground","focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary","transition-all duration-200")}),t&&e.jsx("button",{onClick:()=>a(""),className:"absolute right-3 top-1/2 -translate-y-1/2 p-1 rounded-full hover:bg-muted transition-colors",children:e.jsx(C,{className:"w-4 h-4 text-muted-foreground"})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsxs("button",{onClick:()=>j(!b),className:r("w-full h-10 px-3 rounded-lg border bg-card","flex items-center justify-between gap-2","text-sm font-medium transition-colors",s!=="all"&&"border-primary/30 bg-primary/5"),children:[e.jsx("span",{className:"truncate",children:s==="all"?"Todos os Partidos":s}),e.jsx(de,{className:r("w-4 h-4 text-muted-foreground transition-transform",b&&"rotate-180")})]}),b&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>j(!1)}),e.jsxs(u.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full left-0 right-0 mt-1 p-1 rounded-lg border bg-card shadow-lg z-20 max-h-48 overflow-auto",children:[e.jsx("button",{onClick:()=>{n("all"),j(!1)},className:r("w-full px-3 py-2 text-left text-sm rounded-md transition-colors",s==="all"?"bg-primary/10 text-primary":"hover:bg-muted"),children:"Todos os Partidos"}),g.map(h=>e.jsx("button",{onClick:()=>{n(h),j(!1)},className:r("w-full px-3 py-2 text-left text-sm rounded-md transition-colors",s===h?"bg-primary/10 text-primary":"hover:bg-muted"),children:h},h))]})]})]}),e.jsx("button",{onClick:()=>m(x==="relevance"?"alphabetical":"relevance"),className:r("h-10 px-3 rounded-lg border bg-card","text-xs font-medium transition-colors whitespace-nowrap","hover:bg-muted"),children:x==="relevance"?"A-Z":"⭐"})]}),e.jsx("div",{className:"flex p-1 bg-muted rounded-xl",children:Ce.map(h=>e.jsxs("button",{onClick:()=>o(h.value),className:r("relative flex-1 py-2 text-xs font-medium rounded-lg transition-all duration-200",l===h.value?"text-foreground":"text-muted-foreground hover:text-foreground/70"),children:[l===h.value&&e.jsx(u.div,{layoutId:"vote-tab-indicator",className:"absolute inset-0 bg-card rounded-lg shadow-sm",transition:{type:"spring",stiffness:400,damping:30}}),e.jsx("span",{className:"relative z-10",children:h.label})]},h.value))})]})}function Se({vote:t}){const a=A[t],s={SIM:S,NAO:C,ABSTENCAO:V,NAO_VOTOU:T}[t];return e.jsxs(u.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:400,damping:25},className:"flex flex-col items-center gap-1",children:[e.jsx("div",{className:r("flex items-center justify-center w-12 h-12 rounded-full","shadow-lg transition-transform duration-200",a.bgColor),children:e.jsx(s,{className:"w-6 h-6 text-white",strokeWidth:2.5})}),e.jsx("span",{className:r("text-xs font-bold uppercase tracking-wide",a.color),children:a.label})]})}function Ae({text:t,query:a}){if(!a||a.trim()==="")return e.jsx("span",{children:t});const s=new RegExp(`(${a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi"),n=t.split(s);return e.jsx("span",{children:n.map((l,o)=>s.test(l)?e.jsx("mark",{className:"bg-primary/20 text-primary rounded px-0.5",children:l},o):e.jsx("span",{children:l},o))})}function Te({councilor:t,searchQuery:a,onClick:s,index:n=0}){const l=A[t.vote],o=t.vote==="NAO_VOTOU",x=t.party==="???"||!t.party?"—":t.party;return e.jsxs(u.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},transition:{delay:n*.04,type:"spring",stiffness:300,damping:25},whileTap:{scale:.97},whileHover:{y:-2},onClick:s,className:r("group relative w-full flex items-center gap-4 p-4 pl-5","bg-card rounded-2xl border transition-all duration-200","text-left shadow-card","hover:shadow-lg hover:border-primary/20","overflow-hidden",o&&"opacity-60"),children:[e.jsx(u.div,{initial:{height:0},animate:{height:"100%"},transition:{delay:n*.04+.1,duration:.3},className:r("absolute left-0 top-0 bottom-0 w-1.5 rounded-l-2xl",o?"bg-gray-300 dark:bg-gray-600":l.accentColor)}),e.jsxs("div",{className:"relative shrink-0",children:[e.jsxs(u.div,{initial:{scale:0},animate:{scale:1},transition:{delay:n*.04+.05,type:"spring",stiffness:400},className:r("w-14 h-14 rounded-full overflow-hidden","ring-2 ring-offset-2 ring-offset-card",o?"ring-gray-300 dark:ring-gray-600":l.borderColor.replace("border-","ring-")),children:[t.photoUrl?e.jsx("img",{src:t.photoUrl,alt:t.name,className:r("w-full h-full object-cover",o&&"grayscale opacity-60"),onError:m=>{m.currentTarget.style.display="none",m.currentTarget.nextElementSibling?.classList.remove("hidden")}}):null,e.jsx("div",{className:r("absolute inset-0 bg-muted flex items-center justify-center",t.photoUrl?"hidden":"",o&&"bg-gray-100 dark:bg-gray-800"),children:e.jsx(I,{className:r("w-7 h-7",o?"text-gray-400":"text-muted-foreground")})})]}),e.jsxs("div",{className:r("absolute -bottom-0.5 -right-0.5 w-5 h-5 rounded-full","flex items-center justify-center ring-2 ring-card",l.bgColor),children:[t.vote==="SIM"&&e.jsx(S,{className:"w-3 h-3 text-white",strokeWidth:3}),t.vote==="NAO"&&e.jsx(C,{className:"w-3 h-3 text-white",strokeWidth:3}),t.vote==="ABSTENCAO"&&e.jsx(V,{className:"w-3 h-3 text-white",strokeWidth:3}),t.vote==="NAO_VOTOU"&&e.jsx(T,{className:"w-3 h-3 text-white",strokeWidth:3})]})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:r("text-base font-bold leading-tight truncate",o?"text-muted-foreground":"text-foreground"),children:e.jsx(Ae,{text:t.name,query:a})}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-0.5 flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:x}),e.jsx("span",{className:"text-border",children:"•"}),e.jsx("span",{className:r("font-semibold",l.color),children:l.label})]})]}),e.jsx(Se,{vote:t.vote}),e.jsx(Y,{className:"w-5 h-5 text-muted-foreground/50 group-hover:text-primary transition-colors"})]})}function Ve({vote:t}){const a=A[t],s={SIM:S,NAO:C,ABSTENCAO:V,NAO_VOTOU:T}[t];return e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx("div",{className:r("flex items-center justify-center w-16 h-16 rounded-full",a.bgColor),children:e.jsx(s,{className:"w-8 h-8 text-white",strokeWidth:2.5})}),e.jsx("span",{className:r("text-sm font-bold uppercase tracking-wide",a.color),children:a.label})]})}function Oe({councilor:t,isOpen:a,onClose:s,voteTitle:n}){const{toast:l}=L();if(!t)return null;const o=A[t.vote],x=t.vote==="NAO_VOTOU",m=t.party==="???"||!t.party?"—":t.party,g=async()=>{const i=`${t.name} (${m}) votou ${o.label} em "${n||"votação"}"`;if(navigator.share)try{await navigator.share({title:"Voto do Vereador",text:i,url:window.location.href})}catch{}else navigator.clipboard&&(await navigator.clipboard.writeText(`${i}
${window.location.href}`),l({title:"Copiado!",description:"Texto copiado para compartilhar."}))};return e.jsx(ce,{open:a,onOpenChange:i=>!i&&s(),children:e.jsxs(me,{side:"bottom",className:"rounded-t-3xl px-6 pb-8 pt-4 max-h-[80vh]",children:[e.jsx("div",{className:"w-12 h-1 bg-muted rounded-full mx-auto mb-4"}),e.jsxs(xe,{className:"text-center pb-4",children:[e.jsx("div",{className:"flex justify-center mb-3",children:e.jsxs("div",{className:r("relative w-20 h-20 rounded-full overflow-hidden","border-3",x?"border-gray-200 dark:border-gray-700":o.borderColor),children:[t.photoUrl?e.jsx("img",{src:t.photoUrl,alt:t.name,className:r("w-full h-full object-cover",x&&"grayscale opacity-70"),onError:i=>{i.currentTarget.style.display="none",i.currentTarget.nextElementSibling?.classList.remove("hidden")}}):null,e.jsx("div",{className:r("absolute inset-0 bg-muted flex items-center justify-center",t.photoUrl?"hidden":""),children:e.jsx(I,{className:"w-10 h-10 text-muted-foreground"})})]})}),e.jsx(ue,{className:"text-xl",children:t.name}),e.jsxs("p",{className:"text-muted-foreground font-medium",children:[m," • Vereador"]})]}),e.jsx("div",{className:"flex justify-center py-4 border-y border-border",children:e.jsx(Ve,{vote:t.vote})}),t.justification&&e.jsxs("div",{className:"mt-4 p-4 rounded-xl bg-muted/50 border",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground mb-2",children:[e.jsx(he,{className:"w-4 h-4"}),"Justificativa"]}),e.jsx("p",{className:"text-sm leading-relaxed",children:t.justification})]}),e.jsxs("div",{className:"flex gap-3 mt-6",children:[e.jsxs(w,{onClick:g,className:"flex-1 h-12 gap-2",variant:"default",children:[e.jsx(_,{className:"w-4 h-4"}),"Compartilhar voto"]}),t.videoUrl&&e.jsxs(w,{onClick:()=>window.open(t.videoUrl,"_blank"),variant:"outline",className:"h-12 gap-2",children:[e.jsx(q,{className:"w-4 h-4"}),"Vídeo"]})]}),e.jsx("p",{className:"text-center text-xs text-muted-foreground mt-4",children:"Dados sujeitos à fonte oficial da Câmara"})]})})}function Be({type:t="no-results",message:a,className:s}){const n=t==="no-results";return e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:r("flex flex-col items-center justify-center py-12 px-6 text-center",s),children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-muted flex items-center justify-center mb-4",children:n?e.jsx(R,{className:"w-7 h-7 text-muted-foreground"}):e.jsx(pe,{className:"w-7 h-7 text-muted-foreground"})}),e.jsx("h3",{className:"text-lg font-semibold text-foreground mb-1",children:n?"Nenhum resultado":"Sem dados"}),e.jsx("p",{className:"text-sm text-muted-foreground max-w-[260px]",children:a||(n?"Nenhum vereador encontrado com os filtros selecionados.":"Não há dados de votação disponíveis no momento.")})]})}function De({source:t,className:a}){return e.jsxs("div",{className:r("flex flex-col items-center gap-2 pt-6 pb-4 text-center",a),children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[e.jsx(fe,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:"Dados sujeitos à fonte oficial"})]}),e.jsxs("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:r("inline-flex items-center gap-1.5 px-3 py-1.5","text-sm font-medium text-primary","rounded-full border border-primary/20 bg-primary/5","hover:bg-primary/10 transition-colors"),children:[e.jsx(q,{className:"w-3.5 h-3.5"}),t.label]})]})}function Ee(t){return{id:t.vereador.id,name:t.vereador.nome,party:t.vereador.partido?.sigla||"???",vote:t.voto,photoUrl:t.vereador.fotoUrl||"",justification:t.justificativa,videoUrl:t.urlVideo}}function tt(){const{id:t}=J(),a=Z(),{toast:s}=L(),{activeTab:n,setActiveTab:l}=ee(),[o,x]=f.useState(""),[m,g]=f.useState("all"),[i,b]=f.useState("all"),[j,h]=f.useState("relevance"),[O,B]=f.useState(null),[D,y]=f.useState(!1),{data:d,isLoading:k,error:E}=ne({queryKey:oe.votes.votacao(t||""),queryFn:()=>ge.getById(t),enabled:!!t,staleTime:5*60*1e3}),z=f.useMemo(()=>{if(!d?.votos)return[];const c=new Set(d.votos.map(p=>p.vereador.partido?.sigla).filter(p=>!!p&&p!=="???"));return Array.from(c).sort()},[d]),U=f.useMemo(()=>d?.votos?d.votos.map(Ee):[],[d]),v=d?d.counts.sim>d.counts.nao?"approved":"rejected":"approved",M=f.useMemo(()=>{let c=[...U];if(o.trim()){const p=o.toLowerCase();c=c.filter(N=>N.name.toLowerCase().includes(p))}return m!=="all"&&(c=c.filter(p=>p.party===m)),i!=="all"&&(c=c.filter(p=>p.vote===i)),j==="alphabetical"?c.sort((p,N)=>p.name.localeCompare(N.name,"pt-BR")):c.sort((p,N)=>F[p.vote]-F[N.vote]),c},[U,o,m,i,j]),W=async()=>{if(!d)return;const c={title:d.titulo,text:`${d.titulo} • ${d.subtitulo||""}`,url:window.location.href};if(navigator.share)try{await navigator.share(c)}catch{}else navigator.clipboard&&(await navigator.clipboard.writeText(c.url),s({title:"Link copiado!",description:"Cole onde quiser compartilhar."}))},Q=c=>{B(c),y(!0)},G=c=>{l(c),a("/")},H=c=>new Date(c).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"});return k?e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-muted/50",children:e.jsx("div",{className:"relative w-full max-w-[420px] h-full bg-background flex items-center justify-center",children:e.jsx(te,{className:"h-8 w-8 animate-spin text-primary"})})}):E||!d?e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-muted/50",children:e.jsxs("div",{className:"relative w-full max-w-[420px] h-full bg-background flex flex-col items-center justify-center gap-4 p-6",children:[e.jsx("p",{className:"text-muted-foreground text-center",children:"Não foi possível carregar os detalhes da votação"}),e.jsx(w,{variant:"outline",onClick:()=>a(-1),children:"Voltar"})]})}):e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-muted/50",children:e.jsxs("div",{className:"relative w-full max-w-[420px] h-full bg-background overflow-hidden shadow-elevated",children:[e.jsxs("div",{className:"h-full overflow-y-auto pb-24",children:[e.jsx("header",{className:"sticky top-0 z-40 bg-background/95 backdrop-blur-xl border-b",children:e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 safe-top",children:[e.jsx(w,{variant:"ghost",size:"icon",onClick:()=>a(-1),children:e.jsx(be,{className:"h-5 w-5"})}),e.jsx("h1",{className:"text-lg font-bold",children:"Detalhes da Votação"}),e.jsx(w,{variant:"ghost",size:"icon",onClick:W,children:e.jsx(_,{className:"h-5 w-5"})})]})}),e.jsxs("main",{className:"px-4 py-5 space-y-6",children:[e.jsx(u.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:e.jsxs(X,{className:"rounded-2xl p-5 bg-gradient-to-br from-card to-muted/30 border shadow-card overflow-hidden relative",children:[e.jsx("div",{className:r("absolute top-0 left-0 right-0 h-1",v==="approved"?"bg-green-500":"bg-red-500")}),e.jsxs("div",{className:"flex items-center justify-between mb-4 pt-1",children:[e.jsxs(K,{className:r("gap-1.5 px-3 py-1.5 text-xs font-bold uppercase tracking-wider",v==="approved"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 border-green-200 dark:border-green-800":"bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 border-red-200 dark:border-red-800"),children:[v==="approved"?e.jsx(ae,{className:"w-3.5 h-3.5"}):e.jsx(je,{className:"w-3.5 h-3.5"}),v==="approved"?"Aprovado":"Rejeitado"]}),e.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[e.jsx(se,{className:"w-3.5 h-3.5"}),H(d.data)]})]}),e.jsx(u.h2,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1},className:"text-2xl font-bold text-foreground leading-tight mb-2",children:d.titulo}),e.jsx(u.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"text-sm text-muted-foreground leading-relaxed mb-5",children:d.descricao}),e.jsx("div",{className:"h-px w-full bg-border mb-5"}),e.jsx(we,{counts:d.counts,status:v})]})}),e.jsx(u.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:e.jsx(Ne,{counts:d.counts})}),e.jsx(u.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"sticky top-14 z-30 -mx-4 px-4 py-3 bg-background/95 backdrop-blur-xl border-y",children:e.jsx(ke,{searchQuery:o,onSearchChange:x,selectedParty:m,onPartyChange:g,selectedVote:i,onVoteChange:b,sortBy:j,onSortChange:h,availableParties:z})}),e.jsxs("section",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-base font-bold text-foreground",children:"Votos dos Vereadores"}),e.jsxs("span",{className:"text-sm text-muted-foreground font-medium",children:[M.length," de ",U.length]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),e.jsx("span",{className:"text-muted-foreground",children:"Sim"})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),e.jsx("span",{className:"text-muted-foreground",children:"Não"})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-amber-500"}),e.jsx("span",{className:"text-muted-foreground",children:"Abstenção"})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-400"}),e.jsx("span",{className:"text-muted-foreground",children:"Ausente"})]})]}),e.jsx(ie,{mode:"popLayout",children:M.length===0?e.jsx(Be,{type:"no-results"}):e.jsx(u.div,{layout:!0,className:"space-y-3",children:M.map((c,p)=>e.jsx(Te,{councilor:c,searchQuery:o,onClick:()=>Q(c),index:p},c.id))})})]}),d.urlFonte&&e.jsx(De,{source:{label:"Fonte oficial",url:d.urlFonte}})]})]}),e.jsx(re,{activeTab:n,onTabChange:G}),e.jsx(Oe,{councilor:O,isOpen:D,onClose:()=>y(!1),voteTitle:d.titulo})]})})}export{tt as default};
