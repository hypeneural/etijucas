import{r as w,j as e}from"./vendor-radix-CQkmBfGK.js";import{I as r}from"./iconify-B9cQn18X.js";import{B as v}from"./button-CalQ4iR-.js";import{C as l}from"./card-D79-d-es.js";import{S as m}from"./skeleton-5Dyq_yjt.js";import{T as _,a as k,b as g,c as u}from"./tabs-CbuFZHto.js";import{u as D,a as M,g as j,b}from"./weather-BqQX-wJX.js";import{u as S,R as T,d as x}from"./index-tlAa_zvN.js";import{A as C}from"./arrow-left-JIU9riW7.js";import{A as F,m as n}from"./vendor-motion-3m9Rluu3.js";import{h as A}from"./vendor-utils-YRYEdvK0.js";import{p as L}from"./pt-BR-Crt6ieNw.js";import"./vendor-query-BnSlUk-m.js";function ee(){const s=S(),[a,t]=w.useState("hoje"),{data:i,isLoading:c,refetch:d}=D({hours:48,days:10}),{data:o,isLoading:h,refetch:p}=M({hours:48,days:10}),f=c||h,y=()=>{d(),p()};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-sky-100 via-blue-50 to-white dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[e.jsxs("header",{className:"sticky top-0 z-50 backdrop-blur-xl bg-white/80 dark:bg-gray-900/80 border-b border-gray-200/50 dark:border-gray-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[e.jsx(v,{variant:"ghost",size:"icon",onClick:()=>s(-1),className:"rounded-full",children:e.jsx(C,{className:"h-5 w-5"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-lg font-semibold",children:"PrevisÃ£o do Tempo"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:i?.location?.name??"Tijucas/SC"})]}),e.jsx(v,{variant:"ghost",size:"icon",onClick:y,disabled:f,className:"rounded-full",children:e.jsx(T,{className:x("h-5 w-5",f&&"animate-spin")})})]}),i?.current&&e.jsx(I,{current:i.current})]}),e.jsxs("main",{className:"pb-20",children:[e.jsxs(_,{value:a,onValueChange:t,className:"w-full",children:[e.jsx("div",{className:"sticky top-[120px] z-40 bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl px-4 py-2 border-b border-gray-200/50 dark:border-gray-700/50",children:e.jsxs(k,{className:"grid w-full grid-cols-3 bg-gray-100 dark:bg-gray-800 rounded-xl p-1",children:[e.jsxs(g,{value:"hoje",className:"rounded-lg data-[state=active]:bg-white dark:data-[state=active]:bg-gray-700 data-[state=active]:shadow",children:[e.jsx(r,{icon:"mdi:clock-outline",className:"h-4 w-4 mr-1"}),"Hoje"]}),e.jsxs(g,{value:"dias",className:"rounded-lg data-[state=active]:bg-white dark:data-[state=active]:bg-gray-700 data-[state=active]:shadow",children:[e.jsx(r,{icon:"mdi:calendar",className:"h-4 w-4 mr-1"}),"10 Dias"]}),e.jsxs(g,{value:"mar",className:"rounded-lg data-[state=active]:bg-white dark:data-[state=active]:bg-gray-700 data-[state=active]:shadow",children:[e.jsx(r,{icon:"mdi:waves",className:"h-4 w-4 mr-1"}),"Mar"]})]})}),e.jsxs(F,{mode:"wait",children:[e.jsx(u,{value:"hoje",className:"mt-0 px-4 pt-4",children:c?e.jsx(z,{}):i?.hourly?e.jsx(H,{hours:i.hourly}):e.jsx(N,{message:"Dados nÃ£o disponÃ­veis"})}),e.jsx(u,{value:"dias",className:"mt-0 px-4 pt-4",children:c?e.jsx(B,{}):i?.daily?e.jsx(P,{days:i.daily}):e.jsx(N,{message:"Dados nÃ£o disponÃ­veis"})}),e.jsx(u,{value:"mar",className:"mt-0 px-4 pt-4",children:h?e.jsx(E,{}):o?.hourly?e.jsx(R,{hours:o.hourly}):e.jsx(N,{message:"Dados do mar indisponÃ­veis"})})]})]}),i?.cache&&e.jsx("div",{className:"px-4 py-6 text-center text-xs text-muted-foreground",children:e.jsxs("p",{children:["Atualizado"," ",A(new Date(i.cache.fetched_at),{addSuffix:!0,locale:L}),i.cache.stale&&e.jsx("span",{className:"ml-1 text-amber-500",children:"(dados antigos)"})]})})]})]})}function I({current:s}){if(!s)return null;const a=j(s.weather_code);return e.jsx(n.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"px-4 py-3 bg-gradient-to-r from-sky-500 via-blue-500 to-indigo-500 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(r,{icon:a.icon,className:"h-10 w-10"}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-3xl font-bold",children:[Math.round(s.temp_c),"Â°C"]}),e.jsx("div",{className:"text-sm text-white/80",children:s.description})]})]}),e.jsxs("div",{className:"text-right text-sm space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[e.jsx(r,{icon:"mdi:thermometer",className:"h-4 w-4"}),e.jsxs("span",{children:["SensaÃ§Ã£o ",Math.round(s.feels_like_c),"Â°"]})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[e.jsx(r,{icon:"mdi:weather-windy",className:"h-4 w-4"}),e.jsxs("span",{children:[Math.round(s.wind_kmh)," km/h ",b(s.wind_dir_deg)]})]})]})]})})}function H({hours:s}){return e.jsxs(n.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-3",children:[e.jsxs(l,{className:"p-4 bg-gradient-to-r from-sky-100 to-blue-100 dark:from-gray-800 dark:to-gray-700",children:[e.jsx("h3",{className:"text-sm font-medium mb-3 text-gray-700 dark:text-gray-300",children:"PrÃ³ximas horas"}),e.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2 scrollbar-hide",children:s.slice(0,12).map((a,t)=>{const i=new Date(a.t),c=t===0,d=j(a.weather_code);return e.jsxs(n.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:t*.05},className:x("flex-shrink-0 text-center p-3 rounded-xl min-w-[70px]",c?"bg-blue-500 text-white shadow-lg":"bg-white/80 dark:bg-gray-600/50"),children:[e.jsx("div",{className:"text-xs font-medium mb-1",children:c?"Agora":`${i.getHours()}h`}),e.jsx(r,{icon:d.icon,className:"h-6 w-6 mx-auto my-1"}),e.jsxs("div",{className:"text-lg font-bold",children:[Math.round(a.temp_c),"Â°"]}),a.rain_prob_pct>0&&e.jsxs("div",{className:x("text-xs mt-1",c?"text-white/80":"text-blue-500"),children:["ðŸ’§ ",a.rain_prob_pct,"%"]})]},a.t)})})]}),e.jsx("div",{className:"space-y-2",children:s.slice(0,24).map((a,t)=>{const i=new Date(a.t),c=j(a.weather_code);return e.jsx(n.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:t*.02},children:e.jsx(l,{className:"p-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 text-center",children:e.jsxs("div",{className:"text-sm font-medium",children:[i.getHours(),":00"]})}),e.jsx(r,{icon:c.icon,className:"h-6 w-6",style:{color:c.color}}),e.jsxs("div",{className:"text-2xl font-bold",children:[Math.round(a.temp_c),"Â°"]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[a.rain_prob_pct>0&&e.jsxs("div",{className:"flex items-center gap-1 text-blue-500",children:[e.jsx(r,{icon:"mdi:water",className:"h-4 w-4"}),a.rain_prob_pct,"%"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(r,{icon:"mdi:weather-windy",className:"h-4 w-4"}),Math.round(a.wind_kmh)]})]})]})})},a.t)})})]})}function P({days:s}){const a=new Date().toISOString().split("T")[0];return e.jsx(n.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-2",children:s.map((t,i)=>{const c=t.date===a,d=new Date(t.date+"T12:00:00"),o=j(t.weather_code),h=c?"Hoje":d.toLocaleDateString("pt-BR",{weekday:"short"}).replace(".",""),p=d.toLocaleDateString("pt-BR",{day:"numeric",month:"short"});return e.jsx(n.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:i*.05},children:e.jsx(l,{className:x("p-4",c&&"border-2 border-blue-400 bg-blue-50 dark:bg-blue-900/20"),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-3 min-w-[100px]",children:e.jsxs("div",{children:[e.jsx("div",{className:x("text-sm font-semibold capitalize",c&&"text-blue-600 dark:text-blue-400"),children:h}),e.jsx("div",{className:"text-xs text-muted-foreground",children:p})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(r,{icon:o.icon,className:"h-8 w-8",style:{color:o.color}}),e.jsx("span",{className:"text-xs text-muted-foreground hidden sm:block",children:t.description})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[t.rain_prob_max_pct!==void 0&&t.rain_prob_max_pct>0&&e.jsxs("div",{className:"flex items-center gap-1 text-blue-500 text-sm",children:[e.jsx(r,{icon:"mdi:water",className:"h-4 w-4"}),t.rain_prob_max_pct,"%"]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("span",{className:"text-lg font-bold text-orange-500",children:[Math.round(t.max_c),"Â°"]}),e.jsx("span",{className:"text-muted-foreground mx-1",children:"/"}),e.jsxs("span",{className:"text-lg font-bold text-blue-500",children:[Math.round(t.min_c),"Â°"]})]})]})]})})},t.date)})})}function R({hours:s}){const a={};return s.forEach(t=>{const i=t.t.split("T")[0];a[i]||(a[i]=[]),a[i].push(t)}),e.jsxs(n.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-4",children:[s[0]&&e.jsxs(l,{className:"p-4 bg-gradient-to-r from-cyan-100 to-blue-100 dark:from-cyan-900/30 dark:to-blue-900/30",children:[e.jsx("h3",{className:"text-sm font-medium mb-3 text-cyan-800 dark:text-cyan-300",children:"CondiÃ§Ãµes Atuais do Mar"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-white/60 dark:bg-gray-800/60 rounded-xl",children:[e.jsx(r,{icon:"mdi:waves",className:"h-8 w-8 mx-auto text-cyan-600"}),e.jsxs("div",{className:"text-2xl font-bold mt-1",children:[s[0].wave_m.toFixed(1),"m"]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Altura das ondas"})]}),e.jsxs("div",{className:"text-center p-3 bg-white/60 dark:bg-gray-800/60 rounded-xl",children:[e.jsx(r,{icon:"mdi:timer-outline",className:"h-8 w-8 mx-auto text-cyan-600"}),e.jsxs("div",{className:"text-2xl font-bold mt-1",children:[s[0].wave_period_s.toFixed(0),"s"]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"PerÃ­odo"})]}),s[0].sea_temp_c&&e.jsxs("div",{className:"text-center p-3 bg-white/60 dark:bg-gray-800/60 rounded-xl",children:[e.jsx(r,{icon:"mdi:thermometer",className:"h-8 w-8 mx-auto text-cyan-600"}),e.jsxs("div",{className:"text-2xl font-bold mt-1",children:[Math.round(s[0].sea_temp_c),"Â°C"]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Temp. do mar"})]}),s[0].current_ms!==void 0&&s[0].current_ms>0&&e.jsxs("div",{className:"text-center p-3 bg-white/60 dark:bg-gray-800/60 rounded-xl",children:[e.jsx(r,{icon:"mdi:current-ac",className:"h-8 w-8 mx-auto text-cyan-600"}),e.jsxs("div",{className:"text-2xl font-bold mt-1",children:[s[0].current_ms.toFixed(1)," m/s"]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Corrente"})]})]})]}),s[0]?.swell_m!==void 0&&s[0].swell_m>0&&e.jsxs(l,{className:"p-4",children:[e.jsxs("h3",{className:"text-sm font-medium mb-2 flex items-center gap-2",children:[e.jsx(r,{icon:"mdi:wave",className:"h-4 w-4 text-blue-500"}),"Swell (OndulaÃ§Ã£o)"]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{children:["Altura: ",e.jsxs("strong",{children:[s[0].swell_m.toFixed(1),"m"]})]}),e.jsxs("span",{children:["PerÃ­odo: ",e.jsxs("strong",{children:[s[0].swell_period_s?.toFixed(0)??"-","s"]})]}),e.jsxs("span",{children:["DireÃ§Ã£o: ",e.jsx("strong",{children:b(s[0].swell_dir_deg??0)})]})]})]}),e.jsxs(l,{className:"p-4",children:[e.jsx("h3",{className:"text-sm font-medium mb-3",children:"PrevisÃ£o por hora"}),e.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2 scrollbar-hide",children:s.slice(0,12).map((t,i)=>{const c=new Date(t.t);return e.jsxs("div",{className:"flex-shrink-0 text-center p-3 rounded-xl bg-cyan-50 dark:bg-cyan-900/20 min-w-[70px]",children:[e.jsxs("div",{className:"text-xs font-medium mb-1",children:[c.getHours(),"h"]}),e.jsx(r,{icon:"mdi:waves",className:"h-5 w-5 mx-auto text-cyan-600"}),e.jsxs("div",{className:"text-sm font-bold mt-1",children:[t.wave_m.toFixed(1),"m"]}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[t.wave_period_s.toFixed(0),"s"]})]},t.t)})})]})]})}function z(){return e.jsxs("div",{className:"space-y-3",children:[e.jsx(m,{className:"h-32 rounded-xl"}),e.jsx("div",{className:"space-y-2",children:[...Array(6)].map((s,a)=>e.jsx(m,{className:"h-16 rounded-xl"},a))})]})}function B(){return e.jsx("div",{className:"space-y-2",children:[...Array(7)].map((s,a)=>e.jsx(m,{className:"h-20 rounded-xl"},a))})}function E(){return e.jsxs("div",{className:"space-y-4",children:[e.jsx(m,{className:"h-40 rounded-xl"}),e.jsx(m,{className:"h-24 rounded-xl"})]})}function N({message:s}){return e.jsxs("div",{className:"text-center py-12",children:[e.jsx(r,{icon:"mdi:weather-cloudy-alert",className:"h-16 w-16 mx-auto text-muted-foreground"}),e.jsx("p",{className:"mt-4 text-muted-foreground",children:s})]})}export{ee as default};
