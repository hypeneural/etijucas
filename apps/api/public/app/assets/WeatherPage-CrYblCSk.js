import{aQ as F,j as e,m as c,r as p,l as v,x as R,_ as V,o as W,bu as H}from"./vendor-app-DpJht6ER.js";import{I as o}from"./iconify-C8dm1vD2.js";import{B as P}from"./button-DbPZjKHa.js";import{C as g}from"./card-BzqaBcJm.js";import{S as w}from"./skeleton-eW46apeX.js";import{T as K,a as U,b as D,c as q}from"./tabs-DloQApXg.js";import{a as E}from"./client-BdVdTjkU.js";import{c as d}from"./index-Bhp1RHVo.js";import{h as N}from"./useHaptic-D9J3ZOOx.js";import{p as G}from"./pt-BR-DylbClAL.js";import"./useHaptics-BhbeTTfh.js";const _="/weather";async function Q(a){const s=new URLSearchParams;a?.days!==void 0&&s.append("days",String(a.days)),a?.hours!==void 0&&s.append("hours",String(a.hours)),a?.include?.length&&s.append("include",a.include.join(","));const t=s.toString(),i=t?`${_}/forecast?${t}`:`${_}/forecast`;return await E.get(i)}async function Y(a){const s=new URLSearchParams;a?.days!==void 0&&s.append("days",String(a.days)),a?.hours!==void 0&&s.append("hours",String(a.hours)),a?.include?.length&&s.append("include",a.include.join(","));const t=s.toString(),i=t?`${_}/marine?${t}`:`${_}/marine`;return await E.get(i)}async function X(){return await E.get(`${_}/insights`)}async function Z(a){return await E.get(`${_}/preset/${a}`)}const y={all:["weather"],home:()=>[...y.all,"home"],forecast:()=>[...y.all,"forecast"],marine:()=>[...y.all,"marine"],insights:()=>[...y.all,"insights"],preset:a=>[...y.all,"preset",a]};function J(a){return F({queryKey:y.forecast(),queryFn:()=>Q(a),staleTime:1e3*60*5,gcTime:1e3*60*30,retry:2})}function ee(a){return F({queryKey:y.marine(),queryFn:()=>Y(a),staleTime:1e3*60*5,gcTime:1e3*60*30,retry:2})}function ae(){return F({queryKey:y.insights(),queryFn:()=>X(),staleTime:1e3*60*5,gcTime:1e3*60*30,retry:2})}function se(a){return F({queryKey:y.preset(a),queryFn:()=>Z(a),staleTime:1e3*60*5,gcTime:1e3*60*30,retry:2})}const te={0:{description:"C√©u limpo",icon:"mdi:weather-sunny",iconNight:"mdi:weather-night",color:"#FFD700"},1:{description:"Predominantemente limpo",icon:"mdi:weather-sunny",iconNight:"mdi:weather-night",color:"#FFD700"},2:{description:"Parcialmente nublado",icon:"mdi:weather-partly-cloudy",iconNight:"mdi:weather-night-partly-cloudy",color:"#87CEEB"},3:{description:"Nublado",icon:"mdi:weather-cloudy",color:"#9CA3AF"},45:{description:"Neblina",icon:"mdi:weather-fog",color:"#9CA3AF"},48:{description:"Neblina congelante",icon:"mdi:weather-fog",color:"#9CA3AF"},51:{description:"Garoa leve",icon:"mdi:weather-rainy",color:"#60A5FA"},53:{description:"Garoa moderada",icon:"mdi:weather-rainy",color:"#60A5FA"},55:{description:"Garoa forte",icon:"mdi:weather-rainy",color:"#3B82F6"},61:{description:"Chuva leve",icon:"mdi:weather-rainy",color:"#3B82F6"},63:{description:"Chuva moderada",icon:"mdi:weather-pouring",color:"#2563EB"},65:{description:"Chuva forte",icon:"mdi:weather-pouring",color:"#1D4ED8"},80:{description:"Pancadas leves",icon:"mdi:weather-pouring",color:"#3B82F6"},81:{description:"Pancadas moderadas",icon:"mdi:weather-pouring",color:"#2563EB"},82:{description:"Pancadas fortes",icon:"mdi:weather-pouring",color:"#1D4ED8"},95:{description:"Tempestade",icon:"mdi:weather-lightning-rainy",color:"#6366F1"},96:{description:"Tempestade com granizo",icon:"mdi:weather-lightning-rainy",color:"#6366F1"},99:{description:"Tempestade severa",icon:"mdi:weather-lightning-rainy",color:"#4F46E5"}};function T(a){return te[a]??{description:"Desconhecido",icon:"mdi:weather-cloudy",color:"#9CA3AF"}}function I(a){const s=["N","NE","L","SE","S","SO","O","NO"],t=Math.round(a/45)%8;return s[t]}const L={going_out:{title:"Vou sair",icon:"mdi:walk",description:"Chuva, sensa√ß√£o t√©rmica e vento"},beach:{title:"Praia",icon:"mdi:beach",description:"Mar, vento, UV e cobertura"},fishing:{title:"Pescar",icon:"mdi:fish",description:"Ondas, vento e corrente"},hiking:{title:"Trilha",icon:"mdi:hiking",description:"Chuva, sensa√ß√£o e rajadas"}},ie={success:{bg:"bg-emerald-50 dark:bg-emerald-900/20",border:"border-emerald-200 dark:border-emerald-700",text:"text-emerald-700 dark:text-emerald-300",iconBg:"bg-emerald-100 dark:bg-emerald-800"},info:{bg:"bg-blue-50 dark:bg-blue-900/20",border:"border-blue-200 dark:border-blue-700",text:"text-blue-700 dark:text-blue-300",iconBg:"bg-blue-100 dark:bg-blue-800"},warning:{bg:"bg-amber-50 dark:bg-amber-900/20",border:"border-amber-200 dark:border-amber-700",text:"text-amber-700 dark:text-amber-300",iconBg:"bg-amber-100 dark:bg-amber-800"},danger:{bg:"bg-red-50 dark:bg-red-900/20",border:"border-red-200 dark:border-red-700",text:"text-red-700 dark:text-red-300",iconBg:"bg-red-100 dark:bg-red-800"}},re={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.08}}},ne={hidden:{opacity:0,y:20,scale:.95},show:{opacity:1,y:0,scale:1}};function $({insights:a,className:s}){return a.length?e.jsx(c.div,{variants:re,initial:"hidden",animate:"show",className:d("space-y-3",s),children:a.map((t,i)=>e.jsx(oe,{insight:t},`${t.type}-${i}`))}):e.jsxs("div",{className:d("text-center py-8 text-muted-foreground",s),children:[e.jsx(o,{icon:"mdi:weather-sunny",className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"Nenhum insight dispon√≠vel"})]})}function oe({insight:a}){const s=ie[a.severity];return e.jsx(c.div,{variants:ne,children:e.jsx(g,{className:d("p-4 border-l-4 transition-all duration-200 hover:shadow-md",s.bg,s.border),children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:d("flex-shrink-0 p-2 rounded-full",s.iconBg),children:e.jsx(o,{icon:a.icon,className:d("h-5 w-5",s.text)})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:d("font-semibold text-sm",s.text),children:a.title}),a.badge&&e.jsx("span",{className:d("text-xs px-2 py-0.5 rounded-full font-medium",s.iconBg,s.text),children:a.badge})]}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:a.message}),a.detail&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:a.detail})]}),a.meta?.score!==void 0&&e.jsxs("div",{className:"flex-shrink-0 text-center",children:[e.jsx("div",{className:d("text-2xl font-bold",a.meta.score>=7?"text-emerald-500":a.meta.score>=5?"text-amber-500":"text-red-500"),children:a.meta.score}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"/10"})]})]})})})}function de({insight:a}){const s=a.meta?.score??0,t=a.meta?.positives??[],i=a.meta?.negatives??[],n=s>=7?"from-emerald-400 to-emerald-600":s>=5?"from-amber-400 to-amber-600":"from-red-400 to-red-600";return e.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:e.jsxs(g,{className:"overflow-hidden",children:[e.jsx("div",{className:d("bg-gradient-to-r p-6 text-white",n),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(o,{icon:"mdi:beach",className:"h-6 w-6"}),"D√° praia?"]}),e.jsx("p",{className:"text-white/90 mt-1",children:a.message})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-5xl font-bold",children:s}),e.jsx("div",{className:"text-sm text-white/80",children:"/10"})]})]})}),e.jsxs("div",{className:"p-4 space-y-3",children:[t.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-medium text-emerald-600 dark:text-emerald-400 mb-1",children:"‚úì Pontos positivos"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:t.map((r,m)=>e.jsx("span",{className:"text-xs bg-emerald-50 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300 px-2 py-1 rounded-full",children:r},m))})]}),i.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-medium text-red-600 dark:text-red-400 mb-1",children:"‚úó Aten√ß√£o"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:i.map((r,m)=>e.jsx("span",{className:"text-xs bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-300 px-2 py-1 rounded-full",children:r},m))})]})]})]})})}function le({condition:a,waveHeight:s,period:t}){const i={calm:{emoji:"‚úÖ",label:"Mar Calmo",bg:"bg-emerald-100 dark:bg-emerald-900/40",text:"text-emerald-700 dark:text-emerald-300"},moderate:{emoji:"‚ö†Ô∏è",label:"Mar Moderado",bg:"bg-amber-100 dark:bg-amber-900/40",text:"text-amber-700 dark:text-amber-300"},rough:{emoji:"‚õî",label:"Mar Agitado",bg:"bg-red-100 dark:bg-red-900/40",text:"text-red-700 dark:text-red-300"}}[a];return e.jsxs("div",{className:d("inline-flex items-center gap-2 px-4 py-2 rounded-xl",i.bg),children:[e.jsx("span",{className:"text-xl",children:i.emoji}),e.jsxs("div",{children:[e.jsx("div",{className:d("font-semibold text-sm",i.text),children:i.label}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[s.toFixed(1),"m ‚Ä¢ ",t,"s"]})]})]})}function ce(a){const s=a.find(l=>l.type==="beach"),t=a.find(l=>l.type==="sea"),i=a.filter(l=>l.type==="rain"||l.type==="rain_window"),n=a.filter(l=>l.type==="wind"),r=a.filter(l=>l.type==="temperature"),m=a.filter(l=>l.type==="uv"),x=a.filter(l=>l.type==="warning");return{beach:s,sea:t,rain:i,wind:n,temperature:r,uv:m,warnings:x}}function me({className:a}){const{data:s,isLoading:t,error:i}=ae();if(t)return e.jsx(xe,{});if(i||!s?.insights)return e.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[e.jsx(o,{icon:"mdi:weather-cloudy-alert",className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"N√£o foi poss√≠vel carregar insights"})]});const{beach:n,sea:r,rain:m,wind:x,temperature:l,uv:j,warnings:b}=ce(s.insights);return e.jsxs(c.div,{initial:{opacity:0},animate:{opacity:1},className:d("space-y-4",a),children:[n&&e.jsx(de,{insight:n}),e.jsxs("div",{className:"grid gap-3",children:[m.length>0&&e.jsx(S,{question:"Vai chover hoje?",icon:"mdi:weather-pouring",insights:m}),r&&e.jsx(S,{question:"Mar t√° como?",icon:"mdi:waves",insights:[r],extra:r.meta?.condition&&e.jsx(le,{condition:r.meta.condition,waveHeight:r.meta.wave_m??0,period:r.meta.period_s??0})}),x.length>0&&e.jsx(S,{question:"Vai ventar forte?",icon:"mdi:weather-windy",insights:x}),l.length>0&&e.jsx(S,{question:"Vai esfriar/esquentar?",icon:"mdi:thermometer",insights:l}),j.length>0&&e.jsx(S,{question:"Sol forte?",icon:"mdi:white-balance-sunny",insights:j})]}),b.length>0&&e.jsx("div",{className:"mt-4",children:e.jsx($,{insights:b})})]})}function S({question:a,icon:s,insights:t,extra:i}){const n=t[0];if(!n)return null;const r={success:"text-emerald-500",info:"text-blue-500",warning:"text-amber-500",danger:"text-red-500"}[n.severity],m={success:"border-emerald-200 dark:border-emerald-700",info:"border-blue-200 dark:border-blue-700",warning:"border-amber-200 dark:border-amber-700",danger:"border-red-200 dark:border-red-700"}[n.severity];return e.jsx(c.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:e.jsx(g,{className:d("p-4 border-l-4",m),children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(o,{icon:s,className:d("h-6 w-6 flex-shrink-0 mt-0.5",r)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-sm text-muted-foreground mb-1",children:a}),e.jsx("p",{className:d("text-lg font-medium",r),children:n.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:n.message}),n.detail&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:n.detail}),i&&e.jsx("div",{className:"mt-3",children:i})]})]})})})}function xe(){return e.jsxs("div",{className:"space-y-4",children:[e.jsx(w,{className:"h-40 rounded-xl"}),e.jsx("div",{className:"grid gap-3",children:[...Array(4)].map((a,s)=>e.jsx(w,{className:"h-24 rounded-xl"},s))})]})}const he=["going_out","beach","fishing","hiking"];function ue({className:a}){const[s,t]=p.useState(null);return e.jsxs("div",{className:a,children:[e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:he.map(i=>{const n=L[i],r=s===i;return e.jsxs(c.button,{whileTap:{scale:.95},onClick:()=>t(r?null:i),className:d("flex-shrink-0 flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all",r?"bg-primary text-primary-foreground shadow-lg":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"),children:[e.jsx(o,{icon:n.icon,className:"h-4 w-4"}),n.title]},i)})}),e.jsx(v,{mode:"wait",children:s&&e.jsx(pe,{type:s,onClose:()=>t(null)},s)})]})}function pe({type:a,onClose:s}){const{data:t,isLoading:i,error:n}=se(a),r=L[a];return e.jsx(c.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden",children:e.jsxs(g,{className:"mt-4 p-4 border-2 border-primary/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(o,{icon:r.icon,className:"h-5 w-5 text-primary"}),e.jsx("h3",{className:"font-semibold",children:t?.preset?.title??r.title})]}),e.jsx("button",{onClick:s,className:"text-muted-foreground hover:text-foreground",children:e.jsx(o,{icon:"mdi:close",className:"h-5 w-5"})})]}),i?e.jsxs("div",{className:"py-8 text-center text-muted-foreground",children:[e.jsx(o,{icon:"mdi:loading",className:"h-8 w-8 mx-auto animate-spin"}),e.jsx("p",{className:"mt-2",children:"Carregando..."})]}):n?e.jsxs("div",{className:"py-8 text-center text-muted-foreground",children:[e.jsx(o,{icon:"mdi:alert",className:"h-8 w-8 mx-auto"}),e.jsx("p",{className:"mt-2",children:"Erro ao carregar"})]}):t?.preset?.insights?e.jsx($,{insights:t.preset.insights}):e.jsx("p",{className:"text-muted-foreground",children:"Nenhum insight dispon√≠vel"}),t?.preset?.focus&&e.jsx("div",{className:"mt-4 flex gap-2 flex-wrap",children:t.preset.focus.map((m,x)=>e.jsx("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded-full",children:m},x))})]})})}function ge({hours:a,className:s}){const[t,i]=p.useState(null),n=p.useRef(null),r=a.map(h=>h.temp_c),m=Math.floor(Math.min(...r)-2),l=Math.ceil(Math.max(...r)+2)-m,j=Math.max(...a.map(h=>h.rain_prob_pct??0),30),b=p.useCallback(h=>{N("selection"),i(t===h?null:h)},[t]),f=h=>100-(h-m)/l*100;return e.jsxs(g,{className:d("p-4 overflow-hidden",s),children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h3",{className:"text-sm font-semibold flex items-center gap-2",children:[e.jsx(o,{icon:"mdi:thermometer",className:"h-4 w-4 text-orange-500"}),"Temperatura & Chuva"]}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"w-3 h-0.5 bg-orange-500 rounded"}),"Temp"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"w-3 h-3 bg-blue-400/60 rounded"}),"Chuva"]})]})]}),e.jsxs("div",{ref:n,className:"relative h-32 mt-4",children:[e.jsx("div",{className:"absolute inset-0 flex items-end gap-0.5",children:a.slice(0,24).map((h,u)=>{const C=(h.rain_prob_pct??0)/j*100;return e.jsx(c.div,{initial:{height:0},animate:{height:`${C}%`},transition:{delay:u*.02},onClick:()=>b(u),className:d("flex-1 rounded-t cursor-pointer transition-colors",t===u?"bg-blue-500":"bg-blue-400/40 hover:bg-blue-400/60")},`rain-${u}`)})}),e.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",viewBox:`0 0 ${a.slice(0,24).length*10} 100`,preserveAspectRatio:"none",children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"tempGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[e.jsx("stop",{offset:"0%",stopColor:"rgb(249, 115, 22)",stopOpacity:"0.3"}),e.jsx("stop",{offset:"100%",stopColor:"rgb(249, 115, 22)",stopOpacity:"0"})]})}),e.jsx("path",{d:`
                            M 0 ${f(a[0].temp_c)}
                            ${a.slice(0,24).map((h,u)=>`L ${u*10+5} ${f(h.temp_c)}`).join(" ")}
                            L ${(a.slice(0,24).length-1)*10+5} 100
                            L 0 100
                            Z
                        `,fill:"url(#tempGradient)"}),e.jsx("path",{d:`
                            M 0 ${f(a[0].temp_c)}
                            ${a.slice(0,24).map((h,u)=>`L ${u*10+5} ${f(h.temp_c)}`).join(" ")}
                        `,fill:"none",stroke:"rgb(249, 115, 22)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.slice(0,24).map((h,u)=>e.jsx("circle",{cx:u*10+5,cy:f(h.temp_c),r:t===u?4:2,fill:t===u?"rgb(249, 115, 22)":"white",stroke:"rgb(249, 115, 22)",strokeWidth:"1.5"},`dot-${u}`))]}),e.jsx("div",{className:"absolute inset-0 flex",children:a.slice(0,24).map((h,u)=>e.jsx("div",{onClick:()=>b(u),className:"flex-1 cursor-pointer"},`tap-${u}`))})]}),e.jsx("div",{className:"flex mt-2",children:a.slice(0,24).filter((h,u)=>u%4===0).map((h,u)=>{const C=new Date(h.t);return e.jsxs("div",{className:"flex-1 text-center text-xs text-muted-foreground",children:[C.getHours(),"h"]},u)})}),e.jsx(v,{children:t!==null&&e.jsx(c.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"mt-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-xl",children:e.jsx(je,{hour:a[t]})})})]})}function je({hour:a}){const s=new Date(a.t);return e.jsxs("div",{className:"grid grid-cols-4 gap-3 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Hora"}),e.jsxs("div",{className:"font-semibold",children:[s.getHours(),":00"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Temp"}),e.jsxs("div",{className:"font-semibold text-orange-500",children:[Math.round(a.temp_c),"¬∞"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Chuva"}),e.jsxs("div",{className:"font-semibold text-blue-500",children:[a.rain_prob_pct??0,"%"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Vento"}),e.jsxs("div",{className:"font-semibold",children:[Math.round(a.wind_kmh)," km/h"]})]})]})}function be({hours:a,className:s}){const[t,i]=p.useState(null),n=Math.max(...a.map(x=>x.wind_kmh),30),r=p.useCallback(x=>{N("selection"),i(t===x?null:x)},[t]),m=({deg:x,size:l=16})=>e.jsx(c.div,{initial:{rotate:0},animate:{rotate:x},style:{width:l,height:l},className:"flex items-center justify-center",children:e.jsx(o,{icon:"mdi:arrow-down",style:{width:l,height:l},className:"text-cyan-500"})});return e.jsxs(g,{className:d("p-4",s),children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h3",{className:"text-sm font-semibold flex items-center gap-2",children:[e.jsx(o,{icon:"mdi:weather-windy",className:"h-4 w-4 text-cyan-500"}),"Vento & Dire√ß√£o"]}),e.jsx(ye,{title:"O que s√£o rajadas?",message:"Rajadas s√£o picos moment√¢neos de velocidade do vento, geralmente 30-50% mais fortes que o vento m√©dio. S√£o causadas por turbul√™ncia atmosf√©rica e podem ser perigosas para atividades ao ar livre.",tip:"Rajadas acima de 50 km/h requerem cuidado!"})]}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:a.slice(0,24).map((x,l)=>{const j=new Date(x.t),b=x.wind_kmh/n*100,f=t===l,h=x.wind_kmh>=30||(x.gust_kmh??0)>=50;return e.jsxs(c.div,{onClick:()=>r(l),whileTap:{scale:.95},className:d("flex-shrink-0 flex flex-col items-center p-2 rounded-xl cursor-pointer transition-colors min-w-[60px]",f?"bg-cyan-100 dark:bg-cyan-900/40":"bg-gray-50 dark:bg-gray-800",h&&"ring-2 ring-amber-400"),children:[e.jsxs("div",{className:"text-xs text-muted-foreground mb-1",children:[j.getHours(),"h"]}),e.jsx(m,{deg:x.wind_dir_deg,size:20}),e.jsx("div",{className:"w-3 h-12 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden mt-1",children:e.jsx(c.div,{initial:{height:0},animate:{height:`${b}%`},className:d("w-full rounded-full",x.wind_kmh>=30?"bg-amber-500":x.wind_kmh>=15?"bg-cyan-400":"bg-cyan-300"),style:{marginTop:`${100-b}%`}})}),e.jsx("div",{className:d("text-xs font-semibold mt-1",x.wind_kmh>=30?"text-amber-500":"text-foreground"),children:Math.round(x.wind_kmh)})]},l)})}),e.jsx(v,{children:t!==null&&a[t]&&e.jsx(c.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden",children:e.jsx("div",{className:"mt-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-xl",children:e.jsx(fe,{hour:a[t]})})})})]})}function fe({hour:a}){const s=new Date(a.t),t=ve(a.wind_dir_deg);return e.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Hora"}),e.jsxs("div",{className:"font-semibold",children:[s.getHours(),":00"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Vento"}),e.jsxs("div",{className:"font-semibold text-cyan-500",children:[Math.round(a.wind_kmh)," km/h"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Rajadas"}),e.jsxs("div",{className:d("font-semibold",(a.gust_kmh??0)>=50?"text-amber-500":"text-foreground"),children:[Math.round(a.gust_kmh??0)," km/h"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Dire√ß√£o"}),e.jsx("div",{className:"font-semibold",children:t})]})]})}function ve(a){const s=["N","NE","L","SE","S","SO","O","NO"],t=Math.round(a/45)%8;return s[t]}function ye({title:a,message:s,tip:t}){const[i,n]=p.useState(!1),r=()=>{N("light"),n(!0)};return e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:r,className:"text-xs text-primary flex items-center gap-1 hover:underline",children:[e.jsx(o,{icon:"mdi:help-circle-outline",className:"h-4 w-4"}),"Entenda"]}),e.jsx(v,{children:i&&e.jsxs(e.Fragment,{children:[e.jsx(c.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>n(!1),className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50"}),e.jsxs(c.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"fixed left-4 right-4 bottom-4 bg-white dark:bg-gray-900 rounded-2xl p-5 shadow-2xl z-50 max-w-md mx-auto",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-primary/10",children:e.jsx(o,{icon:"mdi:lightbulb-outline",className:"h-5 w-5 text-primary"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold mb-2",children:a}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:s}),t&&e.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-2",children:e.jsxs("span",{className:"text-xs text-amber-800 dark:text-amber-200",children:["üí° ",t]})})]})]}),e.jsx("button",{onClick:()=>n(!1),className:"mt-4 w-full py-3 bg-gray-100 dark:bg-gray-800 rounded-xl font-medium hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Entendi"})]})]})})]})}function Ne(){return e.jsxs(g,{className:"p-4",children:[e.jsxs("h3",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[e.jsx(o,{icon:"mdi:school-outline",className:"h-4 w-4"}),"Entenda os termos"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx(M,{icon:"mdi:weather-windy-variant",label:"Rajadas",title:"O que s√£o rajadas?",message:"Rajadas s√£o picos moment√¢neos de velocidade do vento, geralmente 30-50% mais fortes que o vento m√©dio. S√£o causadas por turbul√™ncia atmosf√©rica.",tip:"Rajadas acima de 50 km/h s√£o perigosas"}),e.jsx(M,{icon:"mdi:timer-outline",label:"Per√≠odo",title:"O que √© per√≠odo da onda?",message:"O per√≠odo √© o tempo entre uma onda e outra (em segundos). Quanto maior o per√≠odo, mais energia a onda carrega e mais forte ela chega √† praia.",tip:"Per√≠odo > 10s = ondas fortes"}),e.jsx(M,{icon:"mdi:waves",label:"Swell",title:"O que √© swell?",message:"Swell s√£o ondas que viajaram de longe, geradas por tempestades distantes no oceano. Chegam organizadas, com mais energia e maiores que as ondas locais.",tip:"Swell grande mesmo sem vento local = mar forte"}),e.jsx(M,{icon:"mdi:weather-sunny-alert",label:"√çndice UV",title:"O que √© √≠ndice UV?",message:"O √≠ndice UV mede a intensidade da radia√ß√£o ultravioleta do sol. Valores acima de 6 requerem prote√ß√£o solar, acima de 11 √© extremo.",tip:"UV > 8: use protetor, chap√©u e √≥culos"})]})]})}function M({icon:a,label:s,title:t,message:i,tip:n}){const[r,m]=p.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>{N("light"),m(!0)},className:"flex items-center gap-2 p-2 rounded-lg bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors text-left",children:[e.jsx(o,{icon:a,className:"h-5 w-5 text-primary"}),e.jsx("span",{className:"text-sm",children:s}),e.jsx(o,{icon:"mdi:help-circle-outline",className:"h-4 w-4 text-muted-foreground ml-auto"})]}),e.jsx(v,{children:r&&e.jsxs(e.Fragment,{children:[e.jsx(c.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>m(!1),className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50"}),e.jsxs(c.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"fixed left-4 right-4 bottom-4 bg-white dark:bg-gray-900 rounded-2xl p-5 shadow-2xl z-50 max-w-md mx-auto",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 rounded-full bg-primary/10",children:e.jsx(o,{icon:a,className:"h-5 w-5 text-primary"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold mb-2",children:t}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:i}),n&&e.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-2",children:e.jsxs("span",{className:"text-xs text-amber-800 dark:text-amber-200",children:["üí° ",n]})})]})]}),e.jsx("button",{onClick:()=>m(!1),className:"mt-4 w-full py-3 bg-gray-100 dark:bg-gray-800 rounded-xl font-medium",children:"Entendi"})]})]})})]})}const we={wave_height:{title:"Altura das Ondas",simple:"O tamanho das ondas do mar",detail:"Medida da base ao topo da onda. Ondas acima de 1.5m s√£o consideradas grandes e podem ser perigosas para banhistas.",icon:"mdi:waves",tip:"At√© 0.5m = calmo, 0.5-1m = moderado, >1.5m = agitado"},wave_period:{title:"Per√≠odo da Onda",simple:"O tempo entre uma onda e outra",detail:"Quanto maior o per√≠odo, mais energia a onda carrega. Per√≠odos longos (>10s) indicam ondula√ß√£o de alto mar (swell) que chega com for√ßa.",icon:"mdi:timer-outline",tip:"Per√≠odo curto (<6s) = ondas locais. Per√≠odo longo (>10s) = ondas mais fortes"},wave_direction:{title:"Dire√ß√£o da Onda",simple:"De onde as ondas est√£o vindo",detail:"Indica a origem das ondas. Importante para surfistas (entender a forma√ß√£o) e para quem est√° na praia (prote√ß√£o natural de ba√≠as).",icon:"mdi:compass",tip:"Compare com a orienta√ß√£o da praia para saber se est√° protegida"},swell:{title:"Swell (Ondula√ß√£o)",simple:"Ondas que viajaram de longe",detail:"S√£o ondas geradas por tempestades distantes no oceano. Chegam organizadas e com mais energia que as ondas locais.",icon:"mdi:wave",tip:"Swell grande + per√≠odo longo = mar forte mesmo sem vento local"},sea_temp:{title:"Temperatura do Mar",simple:"Qu√£o quente ou fria est√° a √°gua",detail:"A temperatura da superf√≠cie do mar. Varia com as correntes, esta√ß√£o e profundidade.",icon:"mdi:thermometer",tip:"Acima de 25¬∞C = confort√°vel. Abaixo de 20¬∞C = √°gua fria"},current:{title:"Corrente Marinha",simple:"Movimento da √°gua no mar",detail:"A velocidade e dire√ß√£o do fluxo de √°gua. Correntes fortes podem arrastar banhistas e dificultar a nata√ß√£o.",icon:"mdi:current-ac",tip:"Acima de 0.5 m/s requer aten√ß√£o. N√£o lute contra a corrente!"},wind_wave:{title:"Ondas de Vento",simple:"Ondas criadas pelo vento local",detail:"Estas ondas s√£o geradas pelo vento que est√° soprando agora. S√£o mais curtas e desorganizadas que o swell.",icon:"mdi:weather-windy",tip:'Com muito vento, o mar fica "picado" mesmo com ondas pequenas'}};function k({metricKey:a,value:s,unit:t="",className:i,size:n="md",showLabel:r=!0}){const[m,x]=p.useState(!1),l=we[a];if(!l)return null;const j={sm:{icon:"h-4 w-4",value:"text-sm",label:"text-xs"},md:{icon:"h-5 w-5",value:"text-lg",label:"text-xs"},lg:{icon:"h-6 w-6",value:"text-2xl",label:"text-sm"}}[n];return e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>x(!0),className:d("text-left group relative","hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg p-2 -m-2 transition-colors",i),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(o,{icon:l.icon,className:d(j.icon,"text-cyan-600")}),e.jsxs("div",{children:[e.jsxs("div",{className:d("font-bold",j.value),children:[s,t]}),r&&e.jsxs("div",{className:d("text-muted-foreground flex items-center gap-1",j.label),children:[l.title,e.jsx(o,{icon:"mdi:help-circle-outline",className:"h-3 w-3 opacity-50 group-hover:opacity-100"})]})]})]})}),e.jsx(ke,{isOpen:m,onClose:()=>x(!1),explanation:l})]})}function ke({isOpen:a,onClose:s,explanation:t}){return e.jsx(v,{children:a&&e.jsxs(e.Fragment,{children:[e.jsx(c.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:s,className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50"}),e.jsxs(c.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"fixed left-4 right-4 bottom-4 bg-white dark:bg-gray-900 rounded-2xl p-5 shadow-2xl z-50 max-w-md mx-auto",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 rounded-full bg-cyan-100 dark:bg-cyan-900/40",children:e.jsx(o,{icon:t.icon,className:"h-6 w-6 text-cyan-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold mb-1",children:t.title}),e.jsx("p",{className:"text-lg text-cyan-600 dark:text-cyan-400 mb-2",children:t.simple}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:t.detail}),t.tip&&e.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(o,{icon:"mdi:lightbulb-outline",className:"h-4 w-4 text-amber-600 mt-0.5"}),e.jsx("span",{className:"text-sm text-amber-800 dark:text-amber-200",children:t.tip})]})})]})]}),e.jsx("button",{onClick:s,className:"mt-4 w-full py-3 bg-gray-100 dark:bg-gray-800 rounded-xl font-medium hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Entendi"})]})]})})}function _e({className:a}){const[s,t]=p.useState(!1);return e.jsxs("div",{className:a,children:[e.jsx(c.button,{onClick:()=>t(!s),className:d("w-full p-3 rounded-xl text-left transition-colors","bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800"),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(o,{icon:"mdi:information-outline",className:"h-5 w-5 text-blue-500"}),e.jsx("span",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Dados do mar t√™m precis√£o limitada perto da costa"}),e.jsx(o,{icon:"mdi:chevron-down",className:d("h-4 w-4 ml-auto text-blue-500 transition-transform",s&&"rotate-180")})]})}),e.jsx(v,{children:s&&e.jsx(c.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden",children:e.jsxs("div",{className:"p-4 pt-2 text-sm text-muted-foreground space-y-2",children:[e.jsx("p",{children:"Os modelos meteorol√≥gicos usam grades de ~5km, ent√£o dados pr√≥ximos √† costa podem ser influenciados por c√©lulas terrestres."}),e.jsxs("p",{children:["Usamos a configura√ß√£o ",e.jsx("code",{className:"bg-gray-100 dark:bg-gray-800 px-1 rounded",children:"cell_selection=sea"}),"para priorizar dados oce√¢nicos, mas em praias muito rasas ou ba√≠as protegidas a realidade pode diferir."]}),e.jsx("p",{className:"font-medium text-foreground",children:"üí° Sempre observe as condi√ß√µes locais antes de entrar no mar."})]})})})]})}function Ce({height:a,condition:s,className:t}){const i=s==="calm"?3:s==="moderate"?2:1,n=s==="calm"?2:s==="moderate"?4:6;return e.jsx(c.div,{animate:{y:[-n,n,-n]},transition:{duration:i,repeat:1/0,ease:"easeInOut"},className:t,children:e.jsx(o,{icon:"mdi:waves",className:d("h-8 w-8",s==="calm"&&"text-emerald-500",s==="moderate"&&"text-amber-500",s==="rough"&&"text-red-500")})})}function Se({waveHeight:a,wavePeriod:s,seaTemp:t,className:i}){const n=a>=1.5||a>=1&&s>=10?"rough":a>=.8?"moderate":"calm",r={calm:{emoji:"‚úÖ",label:"Mar Calmo",description:"Bom para banho e atividades aqu√°ticas",bg:"from-emerald-400 to-emerald-600",textColor:"text-white"},moderate:{emoji:"‚ö†Ô∏è",label:"Mar Moderado",description:"Aten√ß√£o para banhistas iniciantes",bg:"from-amber-400 to-amber-600",textColor:"text-white"},rough:{emoji:"‚õî",label:"Mar Agitado",description:"Cuidado! Ondas fortes",bg:"from-red-400 to-red-600",textColor:"text-white"}}[n];return e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:d("rounded-2xl p-5 bg-gradient-to-r shadow-lg",r.bg,r.textColor,i),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-2xl",children:r.emoji}),e.jsx("h3",{className:"text-xl font-bold",children:r.label})]}),e.jsx("p",{className:"text-white/90 text-sm",children:r.description})]}),e.jsx(Ce,{height:a,condition:n})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3 mt-4",children:[e.jsxs("div",{className:"bg-white/20 rounded-xl p-3 text-center backdrop-blur-sm",children:[e.jsxs("div",{className:"text-2xl font-bold",children:[a.toFixed(1),"m"]}),e.jsx("div",{className:"text-xs text-white/80",children:"Altura"})]}),e.jsxs("div",{className:"bg-white/20 rounded-xl p-3 text-center backdrop-blur-sm",children:[e.jsxs("div",{className:"text-2xl font-bold",children:[s.toFixed(0),"s"]}),e.jsx("div",{className:"text-xs text-white/80",children:"Per√≠odo"})]}),t!==void 0&&e.jsxs("div",{className:"bg-white/20 rounded-xl p-3 text-center backdrop-blur-sm",children:[e.jsxs("div",{className:"text-2xl font-bold",children:[Math.round(t),"¬∞C"]}),e.jsx("div",{className:"text-xs text-white/80",children:"√Ågua"})]})]})]})}function B(){const[a,s]=p.useState(typeof navigator<"u"?navigator.onLine:!0);return p.useEffect(()=>{const t=()=>s(!0),i=()=>s(!1);return window.addEventListener("online",t),window.addEventListener("offline",i),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",i)}},[]),{isOnline:a,isOffline:!a}}function Me({className:a}){const{isOffline:s}=B();return e.jsx(v,{children:s&&e.jsxs(c.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:d("fixed top-0 left-0 right-0 z-[100]","bg-amber-500 text-white px-4 py-2","flex items-center justify-center gap-2 text-sm font-medium","safe-area-top",a),children:[e.jsx(o,{icon:"mdi:wifi-off",className:"h-4 w-4"}),e.jsx("span",{children:"Voc√™ est√° offline"}),e.jsx("span",{className:"text-amber-200",children:"‚Ä¢ Dados em cache"})]})})}const z="weather-view-mode";function Oe(){return typeof window>"u"?"simple":localStorage.getItem(z)||"simple"}function Te(a){localStorage.setItem(z,a)}function Qe(){const a=R(),[s,t]=p.useState("hoje"),[i,n]=p.useState(Oe);p.useEffect(()=>{Te(i)},[i]);const{data:r,isLoading:m,refetch:x}=J({hours:48,days:10}),{data:l,isLoading:j,refetch:b}=ee({hours:48,days:8}),f=m||j,h=p.useCallback(async()=>{N("light"),await Promise.all([x(),b()])},[x,b]),u=p.useCallback(A=>{N("selection"),n(A)},[]),C=p.useCallback(A=>{N("selection"),t(A)},[]);return B(),e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-sky-100 via-blue-50 to-white dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[e.jsx(Me,{}),e.jsxs("header",{className:"sticky top-0 z-50 backdrop-blur-xl bg-white/80 dark:bg-gray-900/80 border-b border-gray-200/50 dark:border-gray-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[e.jsx(P,{variant:"ghost",size:"icon",onClick:()=>a(-1),className:"rounded-full",children:e.jsx(V,{className:"h-5 w-5"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-lg font-semibold",children:"Previs√£o do Tempo"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:r?.location?.name??"Tijucas/SC"})]}),e.jsx(P,{variant:"ghost",size:"icon",onClick:h,disabled:f,className:"rounded-full",children:e.jsx(W,{className:d("h-5 w-5",f&&"animate-spin")})})]}),r?.current&&e.jsx(Fe,{current:r.current})]}),e.jsxs("main",{className:"pb-20",children:[e.jsx("div",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center justify-center gap-1 bg-gray-100 dark:bg-gray-800 rounded-xl p-1 max-w-[280px] mx-auto",children:[e.jsxs(c.button,{onClick:()=>u("simple"),className:d("flex-1 py-2 px-4 text-sm font-medium rounded-lg transition-all relative",i==="simple"?"text-primary":"text-muted-foreground hover:text-foreground"),children:[i==="simple"&&e.jsx(c.div,{layoutId:"modeIndicator",className:"absolute inset-0 bg-white dark:bg-gray-700 rounded-lg shadow",transition:{type:"spring",damping:20,stiffness:300}}),e.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-1",children:[e.jsx(o,{icon:"mdi:lightbulb-outline",className:"h-4 w-4"}),"Simples"]})]}),e.jsxs(c.button,{onClick:()=>u("detailed"),className:d("flex-1 py-2 px-4 text-sm font-medium rounded-lg transition-all relative",i==="detailed"?"text-primary":"text-muted-foreground hover:text-foreground"),children:[i==="detailed"&&e.jsx(c.div,{layoutId:"modeIndicator",className:"absolute inset-0 bg-white dark:bg-gray-700 rounded-lg shadow",transition:{type:"spring",damping:20,stiffness:300}}),e.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-1",children:[e.jsx(o,{icon:"mdi:chart-line",className:"h-4 w-4"}),"Detalhado"]})]})]})}),e.jsx(v,{mode:"wait",children:i==="simple"?e.jsxs(c.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},className:"px-4 pt-2",children:[e.jsx(ue,{className:"mb-4"}),e.jsx(me,{})]},"simple"):e.jsx(c.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2},children:e.jsxs(K,{value:s,onValueChange:C,className:"w-full",children:[e.jsx("div",{className:"sticky top-[120px] z-40 bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl px-4 py-2 border-b border-gray-200/50 dark:border-gray-700/50",children:e.jsxs(U,{className:"grid w-full grid-cols-3 bg-gray-100 dark:bg-gray-800 rounded-xl p-1",children:[e.jsxs(D,{value:"hoje",className:"rounded-lg data-[state=active]:bg-white dark:data-[state=active]:bg-gray-700 data-[state=active]:shadow",children:[e.jsx(o,{icon:"mdi:clock-outline",className:"h-4 w-4 mr-1"}),"Hoje"]}),e.jsxs(D,{value:"dias",className:"rounded-lg data-[state=active]:bg-white dark:data-[state=active]:bg-gray-700 data-[state=active]:shadow",children:[e.jsx(o,{icon:"mdi:calendar",className:"h-4 w-4 mr-1"}),"10 Dias"]}),e.jsxs(D,{value:"mar",className:"rounded-lg data-[state=active]:bg-white dark:data-[state=active]:bg-gray-700 data-[state=active]:shadow",children:[e.jsx(o,{icon:"mdi:waves",className:"h-4 w-4 mr-1"}),"Mar"]})]})}),e.jsxs(v,{mode:"wait",children:[e.jsx(q,{value:"hoje",className:"mt-0 px-4 pt-4",children:m?e.jsx(qe,{}):r?.hourly?e.jsxs("div",{className:"space-y-4",children:[e.jsx(ge,{hours:r.hourly}),e.jsx(be,{hours:r.hourly}),e.jsx(Ne,{}),e.jsx(Ee,{hours:r.hourly})]}):e.jsx(O,{message:"Dados n√£o dispon√≠veis"})}),e.jsx(q,{value:"dias",className:"mt-0 px-4 pt-4",children:m?e.jsx(Ie,{}):r?.daily?e.jsx(Ae,{days:r.daily}):e.jsx(O,{message:"Dados n√£o dispon√≠veis"})}),e.jsx(q,{value:"mar",className:"mt-0 px-4 pt-4",children:j?e.jsx(Pe,{}):l?.hourly?e.jsx(De,{hours:l.hourly}):e.jsx(O,{message:"Dados do mar indispon√≠veis"})})]})]})},"detailed")}),r?.cache&&e.jsx("div",{className:"px-4 py-6 text-center text-xs text-muted-foreground",children:e.jsxs("p",{children:["Atualizado"," ",H(new Date(r.cache.fetched_at),{addSuffix:!0,locale:G}),r.cache.stale&&e.jsx("span",{className:"ml-1 text-amber-500",children:"(dados antigos)"})]})})]})]})}function Fe({current:a}){if(!a)return null;const s=T(a.weather_code);return e.jsx(c.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"px-4 py-3 bg-gradient-to-r from-sky-500 via-blue-500 to-indigo-500 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(o,{icon:s.icon,className:"h-10 w-10"}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-3xl font-bold",children:[Math.round(a.temp_c),"¬∞C"]}),e.jsx("div",{className:"text-sm text-white/80",children:a.description})]})]}),e.jsxs("div",{className:"text-right text-sm space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[e.jsx(o,{icon:"mdi:thermometer",className:"h-4 w-4"}),e.jsxs("span",{children:["Sensa√ß√£o ",Math.round(a.feels_like_c),"¬∞"]})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[e.jsx(o,{icon:"mdi:weather-windy",className:"h-4 w-4"}),e.jsxs("span",{children:[Math.round(a.wind_kmh)," km/h ",I(a.wind_dir_deg)]})]})]})]})})}function Ee({hours:a}){return e.jsxs(c.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-3",children:[e.jsxs(g,{className:"p-4 bg-gradient-to-r from-sky-100 to-blue-100 dark:from-gray-800 dark:to-gray-700",children:[e.jsx("h3",{className:"text-sm font-medium mb-3 text-gray-700 dark:text-gray-300",children:"Pr√≥ximas horas"}),e.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2 scrollbar-hide",children:a.slice(0,12).map((s,t)=>{const i=new Date(s.t),n=t===0,r=T(s.weather_code);return e.jsxs(c.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:t*.05},className:d("flex-shrink-0 text-center p-3 rounded-xl min-w-[70px]",n?"bg-blue-500 text-white shadow-lg":"bg-white/80 dark:bg-gray-600/50"),children:[e.jsx("div",{className:"text-xs font-medium mb-1",children:n?"Agora":`${i.getHours()}h`}),e.jsx(o,{icon:r.icon,className:"h-6 w-6 mx-auto my-1"}),e.jsxs("div",{className:"text-lg font-bold",children:[Math.round(s.temp_c),"¬∞"]}),s.rain_prob_pct>0&&e.jsxs("div",{className:d("text-xs mt-1",n?"text-white/80":"text-blue-500"),children:["üíß ",s.rain_prob_pct,"%"]})]},s.t)})})]}),e.jsx("div",{className:"space-y-2",children:a.slice(0,24).map((s,t)=>{const i=new Date(s.t),n=T(s.weather_code);return e.jsx(c.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:t*.02},children:e.jsx(g,{className:"p-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 text-center",children:e.jsxs("div",{className:"text-sm font-medium",children:[i.getHours(),":00"]})}),e.jsx(o,{icon:n.icon,className:"h-6 w-6",style:{color:n.color}}),e.jsxs("div",{className:"text-2xl font-bold",children:[Math.round(s.temp_c),"¬∞"]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[s.rain_prob_pct>0&&e.jsxs("div",{className:"flex items-center gap-1 text-blue-500",children:[e.jsx(o,{icon:"mdi:water",className:"h-4 w-4"}),s.rain_prob_pct,"%"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(o,{icon:"mdi:weather-windy",className:"h-4 w-4"}),Math.round(s.wind_kmh)]})]})]})})},s.t)})})]})}function Ae({days:a}){const s=new Date().toISOString().split("T")[0];return e.jsx(c.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-2",children:a.map((t,i)=>{const n=t.date===s,r=new Date(t.date+"T12:00:00"),m=T(t.weather_code),x=n?"Hoje":r.toLocaleDateString("pt-BR",{weekday:"short"}).replace(".",""),l=r.toLocaleDateString("pt-BR",{day:"numeric",month:"short"});return e.jsx(c.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:i*.05},children:e.jsx(g,{className:d("p-4",n&&"border-2 border-blue-400 bg-blue-50 dark:bg-blue-900/20"),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-3 min-w-[100px]",children:e.jsxs("div",{children:[e.jsx("div",{className:d("text-sm font-semibold capitalize",n&&"text-blue-600 dark:text-blue-400"),children:x}),e.jsx("div",{className:"text-xs text-muted-foreground",children:l})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(o,{icon:m.icon,className:"h-8 w-8",style:{color:m.color}}),e.jsx("span",{className:"text-xs text-muted-foreground hidden sm:block",children:t.description})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[t.rain_prob_max_pct!==void 0&&t.rain_prob_max_pct>0&&e.jsxs("div",{className:"flex items-center gap-1 text-blue-500 text-sm",children:[e.jsx(o,{icon:"mdi:water",className:"h-4 w-4"}),t.rain_prob_max_pct,"%"]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("span",{className:"text-lg font-bold text-orange-500",children:[Math.round(t.max_c),"¬∞"]}),e.jsx("span",{className:"text-muted-foreground mx-1",children:"/"}),e.jsxs("span",{className:"text-lg font-bold text-blue-500",children:[Math.round(t.min_c),"¬∞"]})]})]})]})})},t.date)})})}function De({hours:a}){const s=a[0];if(!s)return e.jsx(O,{message:"Dados do mar indispon√≠veis"});const t=i=>i>=1.5?"text-red-500":i>=.8?"text-amber-500":"text-emerald-500";return e.jsxs(c.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-4",children:[e.jsx(Se,{waveHeight:s.wave_m,wavePeriod:s.wave_period_s,seaTemp:s.sea_temp_c}),e.jsx(_e,{}),e.jsxs(g,{className:"p-4",children:[e.jsxs("h3",{className:"text-sm font-medium mb-4 flex items-center gap-2",children:[e.jsx(o,{icon:"mdi:information-outline",className:"h-4 w-4 text-muted-foreground"}),"Toque para entender cada m√©trica"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(k,{metricKey:"wave_height",value:s.wave_m.toFixed(1),unit:"m",size:"lg"}),e.jsx(k,{metricKey:"wave_period",value:s.wave_period_s.toFixed(0),unit:"s",size:"lg"}),e.jsx(k,{metricKey:"wave_direction",value:I(s.wave_dir_deg),size:"lg"}),s.sea_temp_c!==void 0&&e.jsx(k,{metricKey:"sea_temp",value:Math.round(s.sea_temp_c),unit:"¬∞C",size:"lg"})]})]}),s.swell_m!==void 0&&s.swell_m>0&&e.jsxs(g,{className:"p-4",children:[e.jsxs("h3",{className:"text-sm font-medium mb-3 flex items-center gap-2",children:[e.jsx(o,{icon:"mdi:wave",className:"h-4 w-4 text-blue-500"}),"Swell (Ondula√ß√£o de alto mar)"]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx(k,{metricKey:"swell",value:s.swell_m.toFixed(1),unit:"m",size:"md"}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-lg font-bold",children:[s.swell_period_s?.toFixed(0)??"-","s"]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Per√≠odo"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold",children:I(s.swell_dir_deg??0)}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Dire√ß√£o"})]})]})]}),s.current_ms!==void 0&&s.current_ms>0&&e.jsx(g,{className:"p-4",children:e.jsx(k,{metricKey:"current",value:s.current_ms.toFixed(2),unit:" m/s",size:"lg"})}),e.jsxs(g,{className:"p-4",children:[e.jsx("h3",{className:"text-sm font-medium mb-3",children:"Previs√£o por hora"}),e.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2 scrollbar-hide",children:a.slice(0,12).map((i,n)=>{const r=new Date(i.t),m=t(i.wave_m);return e.jsxs(c.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:n*.05},className:"flex-shrink-0 text-center p-3 rounded-xl bg-cyan-50 dark:bg-cyan-900/20 min-w-[70px]",children:[e.jsxs("div",{className:"text-xs font-medium mb-1",children:[r.getHours(),"h"]}),e.jsx(o,{icon:"mdi:waves",className:d("h-5 w-5 mx-auto",m)}),e.jsxs("div",{className:d("text-sm font-bold mt-1",m),children:[i.wave_m.toFixed(1),"m"]}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[i.wave_period_s.toFixed(0),"s"]})]},i.t)})})]})]})}function qe(){return e.jsxs("div",{className:"space-y-3",children:[e.jsx(w,{className:"h-32 rounded-xl"}),e.jsx("div",{className:"space-y-2",children:[...Array(6)].map((a,s)=>e.jsx(w,{className:"h-16 rounded-xl"},s))})]})}function Ie(){return e.jsx("div",{className:"space-y-2",children:[...Array(7)].map((a,s)=>e.jsx(w,{className:"h-20 rounded-xl"},s))})}function Pe(){return e.jsxs("div",{className:"space-y-4",children:[e.jsx(w,{className:"h-40 rounded-xl"}),e.jsx(w,{className:"h-24 rounded-xl"})]})}function O({message:a}){return e.jsxs("div",{className:"text-center py-12",children:[e.jsx(o,{icon:"mdi:weather-cloudy-alert",className:"h-16 w-16 mx-auto text-muted-foreground"}),e.jsx("p",{className:"mt-4 text-muted-foreground",children:a})]})}export{Qe as default};
