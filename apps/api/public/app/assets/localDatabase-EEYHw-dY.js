import{k as n,d as c,s as a,g as s,e as u}from"./index-BSCaRnDS.js";const y=u("etijucas-reports","reports"),d=u("etijucas-topics","topics"),w=u("etijucas-comments","comments"),l=u("etijucas-sync","queue"),m=u("etijucas-events","events"),g=u("etijucas-tourism","spots"),f=u("etijucas-bairros","bairros"),h={async getAll(){try{const r=await n(y),e=[];for(const t of r){const o=await s(t,y);o&&e.push(o)}return e.sort((t,o)=>new Date(o.createdAt).getTime()-new Date(t.createdAt).getTime())}catch(r){return console.error("Error getting reports from IndexedDB:",r),[]}},async getById(r){try{return await s(r,y)}catch(e){console.error("Error getting report from IndexedDB:",e);return}},async save(r){try{await a(r.id,r,y)}catch(e){console.error("Error saving report to IndexedDB:",e)}},async saveMany(r){try{for(const e of r)await a(e.id,e,y)}catch(e){console.error("Error saving reports to IndexedDB:",e)}},async delete(r){try{await c(r,y)}catch(e){console.error("Error deleting report from IndexedDB:",e)}},async clear(){try{const r=await n(y);for(const e of r)await c(e,y)}catch(r){console.error("Error clearing reports from IndexedDB:",r)}}},B={async getAll(){try{const r=await n(d),e=[];for(const t of r){const o=await s(t,d);o&&e.push(o)}return e.sort((t,o)=>new Date(o.createdAt).getTime()-new Date(t.createdAt).getTime())}catch(r){return console.error("Error getting topics from IndexedDB:",r),[]}},async getById(r){try{return await s(r,d)}catch(e){console.error("Error getting topic from IndexedDB:",e);return}},async save(r){try{await a(r.id,r,d)}catch(e){console.error("Error saving topic to IndexedDB:",e)}},async saveMany(r){try{for(const e of r)await a(e.id,e,d)}catch(e){console.error("Error saving topics to IndexedDB:",e)}},async update(r,e){try{const t=await s(r,d);if(t){const o={...t,...e};return await a(r,o,d),o}}catch(t){console.error("Error updating topic in IndexedDB:",t)}},async delete(r){try{await c(r,d)}catch(e){console.error("Error deleting topic from IndexedDB:",e)}}},v={async getByTopicId(r){try{const e=await n(w),t=[];for(const o of e){const i=await s(o,w);i&&i.topicId===r&&t.push(i)}return t.sort((o,i)=>new Date(o.createdAt).getTime()-new Date(i.createdAt).getTime())}catch(e){return console.error("Error getting comments from IndexedDB:",e),[]}},async save(r){try{await a(r.id,r,w)}catch(e){console.error("Error saving comment to IndexedDB:",e)}},async delete(r){try{await c(r,w)}catch(e){console.error("Error deleting comment from IndexedDB:",e)}}},I={async getAll(){try{const r=await n(l),e=[];for(const t of r){const o=await s(t,l);o&&e.push(o)}return e.sort((t,o)=>new Date(t.createdAt).getTime()-new Date(o.createdAt).getTime())}catch(r){return console.error("Error getting sync queue from IndexedDB:",r),[]}},async add(r){const e={...r,id:`sync-${Date.now()}-${Math.random().toString(36).slice(2)}`,createdAt:new Date,retryCount:0};try{await a(e.id,e,l)}catch(t){console.error("Error adding to sync queue:",t)}return e},async update(r,e){try{const t=await s(r,l);t&&await a(r,{...t,...e},l)}catch(t){console.error("Error updating sync queue item:",t)}},async remove(r){try{await c(r,l)}catch(e){console.error("Error removing from sync queue:",e)}},async clear(){try{const r=await n(l);for(const e of r)await c(e,l)}catch(r){console.error("Error clearing sync queue:",r)}},async exists(r){try{return(await this.getAll()).some(t=>t.idempotencyKey===r)}catch{return!1}}},x={async getAll(){try{const r=await n(m),e=[];for(const t of r){const o=await s(t,m);o&&e.push(o)}return e.sort((t,o)=>{const i=t.startDateTime||t.dateTime,D=o.startDateTime||o.dateTime;return!i||!D?0:new Date(i).getTime()-new Date(D).getTime()})}catch(r){return console.error("Error getting events from IndexedDB:",r),[]}},async getById(r){try{return await s(r,m)}catch(e){console.error("Error getting event from IndexedDB:",e);return}},async save(r){try{await a(r.id,r,m)}catch(e){console.error("Error saving event to IndexedDB:",e)}},async saveMany(r){try{for(const e of r)await a(e.id,e,m)}catch(e){console.error("Error saving events to IndexedDB:",e)}},async clear(){try{const r=await n(m);for(const e of r)await c(e,m)}catch(r){console.error("Error clearing events from IndexedDB:",r)}}},E={async getAll(){try{const r=await n(g),e=[];for(const t of r){const o=await s(t,g);o&&e.push(o)}return e}catch(r){return console.error("Error getting tourism spots from IndexedDB:",r),[]}},async saveMany(r){try{for(const e of r)await a(e.id,e,g)}catch(e){console.error("Error saving tourism spots to IndexedDB:",e)}},async clear(){try{const r=await n(g);for(const e of r)await c(e,g)}catch(r){console.error("Error clearing tourism spots from IndexedDB:",r)}}},A={async getAll(){try{const r=await n(f),e=[];for(const t of r){const o=await s(t,f);o&&e.push(o)}return e.sort((t,o)=>t.nome.localeCompare(o.nome,"pt-BR"))}catch(r){return console.error("Error getting bairros from IndexedDB:",r),[]}},async saveMany(r){try{for(const e of r)await a(e.id,e,f)}catch(e){console.error("Error saving bairros to IndexedDB:",e)}},async clear(){try{const r=await n(f);for(const e of r)await c(e,f)}catch(r){console.error("Error clearing bairros from IndexedDB:",r)}}};export{E as a,A as b,v as c,x as e,h as r,I as s,B as t};
