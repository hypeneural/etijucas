import{aR as u,aS as y,aQ as i}from"./vendor-app-CSqspwsb.js";import{x as s,a as p,r as c}from"./index-XZ5TDijG.js";function g(r){const{isAuthenticated:n}=p(),o=["reports",s(a=>a.tenantKey??a.city?.slug??"global")],t=i({queryKey:[...o,"mine",r],queryFn:()=>c.getMyReports(r),staleTime:30*1e3,gcTime:5*60*1e3,refetchOnWindowFocus:!0,enabled:n});return{reports:t.data?.data??[],meta:t.data?.meta,isLoading:t.isLoading,error:t.error,refetch:t.refetch}}function h(){const r=u(),e=["reports",s(t=>t.tenantKey??t.city?.slug??"global")],o=y({mutationFn:({payload:t,idempotencyKey:a})=>c.createReport(t,a),onSuccess:()=>{r.invalidateQueries({queryKey:e})}});return{createReport:o.mutateAsync,isCreating:o.isPending,error:o.error,reset:o.reset}}function m(r){const n=s(o=>o.tenantKey??o.city?.slug??"global"),e=i({queryKey:["reports",n,"public",r],queryFn:()=>c.getPublicReports(r),staleTime:30*1e3,gcTime:5*60*1e3,refetchOnWindowFocus:!0});return{reports:e.data?.data??[],meta:e.data?.meta,isLoading:e.isLoading,error:e.error,refetch:e.refetch}}function S(){const r=s(e=>e.tenantKey??e.city?.slug??"global"),n=i({queryKey:["reports",r,"stats"],queryFn:()=>c.getReportsStats(),staleTime:60*1e3,gcTime:5*60*1e3,refetchOnWindowFocus:!0});return{stats:n.data??{total:0,byStatus:{recebido:0,em_analise:0,resolvido:0,rejeitado:0},thisMonth:0,resolvedThisMonth:0},isLoading:n.isLoading,error:n.error,refetch:n.refetch}}export{g as a,S as b,m as c,h as u};
