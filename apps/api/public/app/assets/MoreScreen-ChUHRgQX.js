const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/TrashScheduleScreen-Cua201Vh.js","assets/vendor-app-D_TKIhWN.js","assets/index-Bvh4BFmc.js","assets/index-BvMT74kd.css","assets/useCityName-DHh1crlW.js"])))=>i.map(i=>d[i]);
import{c as p,G as Q,B as P,u as X,a as Z,b as j,_ as W}from"./index-Bvh4BFmc.js";import{j as e,m as r,cL as Y,r as x,cM as ee,cN as L,cU as ae,X as se,cJ as _,cO as E,cK as A,a4 as b,cV as z,cW as ie,cX as te,ba as R,cY as le,Z as N,an as re,cZ as oe,a$ as ne,M as ce,aC as I,ac as T,b1 as $,aM as de,w as M,l as me,aJ as xe,_ as ue,z as pe,ap as he}from"./vendor-app-D_TKIhWN.js";import{u as fe,t as ge,m as D,a as je}from"./useAppStore-BMOdQ1NM.js";import{b as Ne}from"./bairros-Cf5Z_oCw.js";import{a as ye}from"./useCityName-DHh1crlW.js";import{B as y}from"./badge-CaoVCL1O.js";const l="animate-shimmer bg-muted rounded-lg";function be({variant:t="home"}){return t==="home"?e.jsxs("div",{className:"h-full overflow-hidden p-4 space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:`h-8 w-32 ${l}`}),e.jsx("div",{className:`h-12 w-full ${l}`})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-4",children:[e.jsx("div",{className:`h-32 ${l}`}),e.jsx("div",{className:`h-32 ${l}`}),e.jsx("div",{className:`h-24 col-span-2 ${l}`})]}),e.jsx("div",{className:"space-y-3 mt-4",children:[1,2,3].map(s=>e.jsx("div",{className:`h-20 ${l}`},s))})]}):t==="list"?e.jsxs("div",{className:"h-full overflow-hidden p-4 space-y-3",children:[e.jsx("div",{className:`h-10 w-48 ${l}`}),Array.from({length:6}).map((s,i)=>e.jsx(r.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:i*.05},className:`h-20 ${l}`},i))]}):t==="grid"?e.jsxs("div",{className:"h-full overflow-hidden p-4",children:[e.jsx("div",{className:`h-10 w-48 mb-4 ${l}`}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:Array.from({length:6}).map((s,i)=>e.jsx(r.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:i*.05},className:`h-40 ${l}`},i))})]}):e.jsxs("div",{className:"h-full overflow-hidden p-4 space-y-4",children:[e.jsx("div",{className:`h-48 ${l}`}),e.jsx("div",{className:`h-8 w-3/4 ${l}`}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:`h-6 w-20 ${l}`}),e.jsx("div",{className:`h-6 w-24 ${l}`})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:`h-4 w-full ${l}`}),e.jsx("div",{className:`h-4 w-full ${l}`}),e.jsx("div",{className:`h-4 w-2/3 ${l}`})]})]})}const V=Y,ve=ee,q=x.forwardRef(({className:t,...s},i)=>e.jsx(E,{ref:i,className:p("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s}));q.displayName=E.displayName;const v=x.forwardRef(({className:t,children:s,...i},c)=>e.jsxs(ve,{children:[e.jsx(q,{}),e.jsxs(L,{ref:c,className:p("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...i,children:[s,e.jsxs(ae,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[e.jsx(se,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));v.displayName=L.displayName;const w=({className:t,...s})=>e.jsx("div",{className:p("flex flex-col space-y-1.5 text-center sm:text-left",t),...s});w.displayName="DialogHeader";const C=x.forwardRef(({className:t,...s},i)=>e.jsx(_,{ref:i,className:p("text-lg font-semibold leading-none tracking-tight",t),...s}));C.displayName=_.displayName;const we=x.forwardRef(({className:t,...s},i)=>e.jsx(A,{ref:i,className:p("text-sm text-muted-foreground",t),...s}));we.displayName=A.displayName;function Ce({isOpen:t,onClose:s,appName:i="eTijucas"}){const c=[{icon:e.jsx(ie,{className:"h-6 w-6"}),title:"Toque em Compartilhar",description:"Na barra do Safari (quadrado com seta)"},{icon:e.jsx(te,{className:"h-6 w-6"}),title:"Adicionar Ã  Tela de InÃ­cio",description:"Role e toque nessa opÃ§Ã£o"},{icon:e.jsx(R,{className:"h-6 w-6"}),title:'Confirme tocando em "Adicionar"',description:"Pronto! O app aparecerÃ¡ na tela inicial"}];return e.jsx(V,{open:t,onOpenChange:o=>!o&&s(),children:e.jsxs(v,{className:"w-[calc(100vw-2rem)] max-w-[360px] max-h-[85vh] overflow-y-auto rounded-2xl p-5",children:[e.jsx(w,{children:e.jsxs(C,{className:"flex items-center gap-2",children:[e.jsx(b,{className:"h-5 w-5 text-primary"}),"Instalar ",i," no iPhone"]})}),e.jsxs("div",{className:"space-y-4 py-2",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Siga os passos abaixo para adicionar o app Ã  sua tela inicial:"}),e.jsx("div",{className:"space-y-3",children:c.map((o,m)=>e.jsxs(r.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:m*.1},className:"flex items-start gap-3 p-3 bg-muted/50 rounded-xl",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-primary/10 text-primary shrink-0",children:m+1}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-primary",children:o.icon}),e.jsx("span",{className:"font-medium text-sm",children:o.title})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:o.description})]})]},m))})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx(P,{onClick:s,className:"flex-1",children:"Entendi"})})]})})}function ke(){const{isInstalled:t,canInstallNative:s,isIOSSafari:i,promptInstall:c,showIOSTutorial:o,isIOSTutorialVisible:m,hideIOSTutorial:h}=Q();if(t)return null;const u=async()=>{if(console.log("[InstallMenuItem] Click - canInstallNative:",s,"isIOSSafari:",i),s){const f=await c();console.log("[InstallMenuItem] promptInstall result:",f)}else o()};return console.log("[InstallMenuItem] State:",{isInstalled:t,canInstallNative:s,isIOSSafari:i}),e.jsxs(e.Fragment,{children:[e.jsxs(r.button,{whileTap:{scale:.98},onClick:u,className:"w-full flex items-center gap-3 p-4 bg-gradient-to-r from-primary/10 to-primary/5 rounded-xl border border-primary/20 hover:border-primary/40 transition-colors",children:[e.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:e.jsx(b,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("p",{className:"font-medium text-foreground",children:"Instalar app"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:i?"Adicionar Ã  tela inicial":s?"Acesso rÃ¡pido e offline":"Instalar no navegador"})]}),e.jsx(z,{className:"h-5 w-5 text-primary"})]}),e.jsx(Ce,{isOpen:m,onClose:h}),e.jsx(Se,{isOpen:!s&&!i&&m,onClose:h})]})}function Se({isOpen:t,onClose:s}){const i=[{icon:e.jsx(le,{className:"h-6 w-6"}),title:"Clique no menu (â‹®)",description:"No canto superior direito do Chrome"},{icon:e.jsx(z,{className:"h-6 w-6"}),title:'"Instalar eTijucas..."',description:"Procure essa opÃ§Ã£o no menu"},{icon:e.jsx(R,{className:"h-6 w-6"}),title:"Confirme a instalaÃ§Ã£o",description:'Clique em "Instalar" na janela que aparecer'}];return e.jsx(V,{open:t,onOpenChange:c=>!c&&s(),children:e.jsxs(v,{className:"w-[calc(100vw-2rem)] max-w-[360px] max-h-[85vh] overflow-y-auto rounded-2xl p-5",children:[e.jsx(w,{children:e.jsxs(C,{className:"flex items-center gap-2",children:[e.jsx(b,{className:"h-5 w-5 text-primary"}),"Instalar eTijucas"]})}),e.jsxs("div",{className:"space-y-4 py-2",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Siga os passos abaixo para instalar o app no Chrome:"}),e.jsx("div",{className:"space-y-3",children:i.map((c,o)=>e.jsxs(r.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:o*.1},className:"flex items-start gap-3 p-3 bg-muted/50 rounded-xl",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-primary/10 text-primary shrink-0",children:o+1}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-primary",children:c.icon}),e.jsx("span",{className:"font-medium text-sm",children:c.title})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:c.description})]})]},o))})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx(P,{onClick:s,className:"flex-1",children:"Entendi"})})]})})}const Ie=x.lazy(()=>W(()=>import("./TrashScheduleScreen-Cua201Vh.js"),__vite__mapDeps([0,1,2,3,4]))),O={emergencias:"ðŸš¨ EmergÃªncias",seguranca:"ðŸ›¡ï¸ SeguranÃ§a",saude:"ðŸ¥ SaÃºde",prefeitura:"ðŸ›ï¸ Prefeitura",educacao:"ðŸ“š EducaÃ§Ã£o",utilidades:"ðŸ”§ Utilidades",turismo:"ðŸ–ï¸ Turismo",defesa_civil:"ðŸ†˜ Defesa Civil",servicos:"ðŸ”¨ ServiÃ§os",outros:"ðŸ“ž Outros"};function Le({scrollRef:t}){const s=X(),[i,c]=x.useState("menu"),{selectedBairro:o,reports:m}=fe(),{user:h,isAuthenticated:u,logout:f}=Z(),{name:g}=ye(),B=j(a=>a.isModuleEnabled);j(a=>a.city?.slug);const k=[u?{id:"perfil",label:"Meu Perfil",icon:N,color:"bg-primary/10 text-primary",isLink:!0}:{id:"login",label:"Entrar / Cadastrar",icon:N,color:"bg-green-100 text-green-600",isLink:!0},{id:"lixo",label:"Coleta de Lixo",icon:re,color:"bg-emerald-100 text-emerald-600",badge:"Novo"},{id:"veiculos",label:"Consultar VeÃ­culos",icon:oe,color:"bg-blue-100 text-blue-600",isLink:!0,badge:"Novo"},{id:"votacoes",label:"VotaÃ§Ãµes da CÃ¢mara",icon:ne,color:"bg-indigo-100 text-indigo-600",isLink:!0,badge:"Novo"},{id:"turismo",label:"Pontos TurÃ­sticos",icon:ce,color:"bg-secondary/10 text-secondary"},{id:"missas",label:"HorÃ¡rios das Missas",icon:I,color:"bg-primary/10 text-primary"},{id:"telefones",label:"Telefones Ãšteis",icon:T,color:"bg-accent/10 text-accent"},{id:"vereadores",label:"Vereadores",icon:N,color:"bg-blue-100 text-blue-600",isLink:!0},{id:"envios",label:`Fiscaliza ${g}`,icon:$,color:"bg-purple-100 text-purple-600",moduleKey:"reports"},{id:"trocar-cidade",label:"Trocar de Cidade",icon:de,color:"bg-slate-100 text-slate-600",isLink:!0}],U={lixo:"trash",veiculos:"vehicles",votacoes:"voting",turismo:"tourism",missas:"masses",telefones:"phones",vereadores:"council",envios:"reports"},S=k.filter(a=>{const n=U[a.id];return n?B(n):!0}),F=()=>{f(),s("/login")},H=a=>Ne.find(n=>n.id===a)?.nome||g,K=a=>["Domingo","Segunda","TerÃ§a","Quarta","Quinta","Sexta","SÃ¡bado"][a],G={recebido:"bg-blue-100 text-blue-700",em_analise:"bg-yellow-100 text-yellow-700",resolvido:"bg-green-100 text-green-700"},J={recebido:"Recebido",em_analise:"Em anÃ¡lise",resolvido:"Resolvido"};return i==="lixo"?e.jsxs("div",{className:"h-full overflow-hidden bg-background relative",children:[e.jsx(r.button,{initial:{opacity:0},animate:{opacity:1},whileTap:{scale:.9},onClick:()=>c("menu"),className:"absolute top-4 left-4 z-50 p-2 bg-white/90 backdrop-blur rounded-full shadow-md",children:e.jsx(M,{className:"w-5 h-5"})}),e.jsx(x.Suspense,{fallback:e.jsx(be,{variant:"list"}),children:e.jsx(Ie,{})})]}):i!=="menu"?e.jsxs("div",{ref:t,className:"h-full overflow-y-auto bg-background",children:[e.jsx("div",{className:"sticky top-0 z-20 bg-background safe-top border-b border-border",children:e.jsxs("div",{className:"flex items-center gap-3 px-4 py-4",children:[e.jsx(r.button,{whileTap:{scale:.9},onClick:()=>c("menu"),className:"p-2 -ml-2 rounded-full hover:bg-muted",children:e.jsx(M,{className:"w-5 h-5"})}),e.jsx("h1",{className:"text-lg font-bold text-foreground",children:k.find(a=>a.id===i)?.label})]})}),e.jsx("div",{className:"px-4 pb-24",children:e.jsxs(me,{mode:"wait",children:[i==="turismo"&&e.jsx(r.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-4 mt-4",children:ge.map((a,n)=>e.jsxs(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n*.1},className:"bg-card rounded-2xl overflow-hidden shadow-card",children:[a.imageUrl&&e.jsx("img",{src:a.imageUrl,alt:a.titulo,className:"w-full h-40 object-cover"}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-foreground mb-1",children:a.titulo}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:a.descCurta}),e.jsx("div",{className:"flex gap-1",children:a.tags.map(d=>e.jsx(y,{variant:"secondary",className:"text-xs",children:d},d))})]})]},a.id))}),i==="missas"&&e.jsxs(r.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"mt-4",children:[e.jsx("div",{className:"bg-primary/5 rounded-xl p-3 mb-4",children:e.jsxs("p",{className:"text-sm text-primary font-medium",children:["Mostrando missas em: ",o.nome]})}),e.jsxs("div",{className:"space-y-3",children:[D.filter(a=>a.bairroId===o.id).map((a,n)=>e.jsx(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n*.1},className:"bg-card rounded-2xl p-4 shadow-card",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center",children:e.jsx(I,{className:"w-6 h-6 text-primary"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-foreground",children:a.igrejaNome}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:K(a.diaSemana)}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.horarios.map(d=>e.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 rounded-lg bg-muted text-xs font-medium",children:[e.jsx(xe,{className:"w-3 h-3"}),d]},d))})]})]})},a.id)),D.filter(a=>a.bairroId===o.id).length===0&&e.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Nenhuma igreja cadastrada neste bairro."})]})]}),i==="telefones"&&e.jsx(r.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"mt-4 space-y-6",children:Object.keys(O).map(a=>{const n=je.filter(d=>d.categoria===a);return n.length===0?null:e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-foreground mb-3",children:O[a]}),e.jsx("div",{className:"space-y-2",children:n.map(d=>e.jsxs(r.a,{href:`tel:${d.numero}`,whileTap:{scale:.98},className:"flex items-center gap-3 bg-card rounded-xl p-3 shadow-card",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-accent/10 flex items-center justify-center",children:e.jsx(T,{className:"w-5 h-5 text-accent"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-foreground",children:d.nome}),e.jsx("p",{className:"text-sm text-muted-foreground",children:d.numero})]}),e.jsx(ue,{className:"w-4 h-4 text-muted-foreground"})]},d.id))})]},a)})}),i==="envios"&&e.jsxs(r.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"mt-4 space-y-3",children:[m.map((a,n)=>e.jsxs(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n*.1},className:"bg-card rounded-2xl p-4 shadow-card",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx(y,{className:G[a.status],children:J[a.status]}),e.jsxs("span",{className:"text-xs font-mono text-muted-foreground",children:["#",a.protocolo]})]}),e.jsx("p",{className:"text-foreground mb-2",children:a.texto}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[e.jsx("span",{className:"capitalize",children:a.categoria}),e.jsx("span",{children:"â€¢"}),e.jsx("span",{children:H(a.bairroId)}),e.jsx("span",{children:"â€¢"}),e.jsx("span",{children:new Date(a.createdAt).toLocaleDateString("pt-BR")})]})]},a.id)),m.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx($,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"VocÃª ainda nÃ£o fez nenhum envio."})]})]})]})})]}):e.jsxs("div",{ref:t,className:"h-full overflow-y-auto bg-background",children:[e.jsx("div",{className:"sticky top-0 z-20 bg-background safe-top border-b border-border",children:e.jsxs("div",{className:"px-4 py-4",children:[e.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Mais"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Explore ",g]})]})}),e.jsxs("div",{className:"px-4 pb-24 mt-4 space-y-3",children:[e.jsx(ke,{}),S.map((a,n)=>{const d=a.icon;return e.jsxs(r.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n*.1},whileTap:{scale:.98},onClick:()=>{a.id==="perfil"?s(u?"/perfil":"/login"):a.id==="missas"?s("/missas"):a.id==="telefones"?s("/telefones"):a.id==="votacoes"?s("/votacoes"):a.id==="lixo"?s("/coleta-lixo"):a.id==="veiculos"?s("/veiculos"):a.id==="turismo"?s("/pontos-turisticos"):a.id==="envios"?s("/denuncias"):a.id==="vereadores"?s("/vereadores"):a.id==="trocar-cidade"?(j.getState().clear(),localStorage.removeItem("etijucas_last_city"),window.location.href="/"):a.id==="login"?s("/auth"):c(a.id)},className:"w-full flex items-center gap-4 bg-card rounded-2xl p-4 shadow-card text-left",children:[e.jsx("div",{className:`w-12 h-12 rounded-xl ${a.color} flex items-center justify-center`,children:e.jsx(d,{className:"w-6 h-6"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"font-medium text-foreground",children:a.label}),"badge"in a&&a.badge&&e.jsx(y,{className:"ml-2 bg-emerald-500 text-white text-[10px] px-1.5 py-0",children:a.badge})]}),e.jsx(pe,{className:"w-5 h-5 text-muted-foreground"})]},a.id)}),u&&e.jsxs(r.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:S.length*.1},whileTap:{scale:.98},onClick:F,className:"w-full flex items-center gap-4 bg-red-50 dark:bg-red-950/30 rounded-2xl p-4 text-left border border-red-200 dark:border-red-800",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-red-100 dark:bg-red-900/50 text-red-600 flex items-center justify-center",children:e.jsx(he,{className:"w-6 h-6"})}),e.jsx("div",{className:"flex-1",children:e.jsx("span",{className:"font-medium text-red-600 dark:text-red-400",children:"Sair da conta"})})]})]})]})}export{Le as default};
