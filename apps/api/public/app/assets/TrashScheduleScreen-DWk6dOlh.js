import{r as o,j as e}from"./vendor-radix-CQkmBfGK.js";import{f as _,d as y,M as W,m as Z,X as I,p as H}from"./index-BpQg6mUF.js";import{m as i,A as D}from"./vendor-motion-3m9Rluu3.js";import{S as B}from"./star-Dh-h11ZR.js";import{I as P}from"./info-b3p0ZbeJ.js";import{T as b}from"./trash-2-BISVckRD.js";import{S as J}from"./sliders-horizontal-BeqVmWXx.js";import{C as G}from"./chevron-down-BcxF5zno.js";import{C as k}from"./clock-D1Qa-LV9.js";import{B as ee}from"./bell-Bki5oApW.js";import{L as ae}from"./lightbulb-REZODY9L.js";import{C as se}from"./circle-alert-DmszGJ8B.js";import"./vendor-utils-YRYEdvK0.js";import"./vendor-query-BnSlUk-m.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f=_("Recycle",[["path",{d:"M7 19H4.815a1.83 1.83 0 0 1-1.57-.881 1.785 1.785 0 0 1-.004-1.784L7.196 9.5",key:"x6z5xu"}],["path",{d:"M11 19h8.203a1.83 1.83 0 0 0 1.556-.89 1.784 1.784 0 0 0 0-1.775l-1.226-2.12",key:"1x4zh5"}],["path",{d:"m14 16-3 3 3 3",key:"f6jyew"}],["path",{d:"M8.293 13.596 7.196 9.5 3.1 10.598",key:"wf1obh"}],["path",{d:"m9.344 5.811 1.093-1.892A1.83 1.83 0 0 1 11.985 3a1.784 1.784 0 0 1 1.546.888l3.943 6.843",key:"9tzpgr"}],["path",{d:"m13.378 9.633 4.096 1.098 1.097-4.096",key:"1oe83g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=_("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]),S={neighborhoods:[{id:"areias",name:"Areias",aliases:["Areias"],collections:{common:{serviceType:"COMMON",cadence:"WEEKLY",weekdays:["TUE","THU","SAT"],rrule:"FREQ=WEEKLY;BYDAY=TU,TH,SA",human:"Terça, quinta e sábado"},selective:{serviceType:"SELECTIVE",cadence:"WEEKLY",weekdays:["FRI"],rrule:"FREQ=WEEKLY;BYDAY=FR",human:"Sexta"}}},{id:"campo-novo",name:"Campo Novo",aliases:["Campo Novo","CampoNovo"],collections:{common:{serviceType:"COMMON",cadence:"BIWEEKLY",weekdays:["TUE"],rrule:"FREQ=WEEKLY;INTERVAL=2;BYDAY=TU",human:"Terça (quinzenal)"},selective:{serviceType:"SELECTIVE",cadence:"BIWEEKLY",weekdays:["THU"],rrule:"FREQ=WEEKLY;INTERVAL=2;BYDAY=TH",human:"Quinta (quinzenal)"}}},{id:"centro",name:"Centro",aliases:["Centro"],collections:{common:{serviceType:"COMMON",cadence:"WEEKLY",weekdays:["MON","WED","FRI"],rrule:"FREQ=WEEKLY;BYDAY=MO,WE,FR",human:"Segunda, quarta e sexta"},selective:{serviceType:"SELECTIVE",cadence:"WEEKLY",weekdays:["TUE"],rrule:"FREQ=WEEKLY;BYDAY=TU",human:"Terça"}}},{id:"imacol",name:"Imacol",aliases:["Imacol"],collections:{common:{serviceType:"COMMON",cadence:"WEEKLY",weekdays:["TUE","THU"],rrule:"FREQ=WEEKLY;BYDAY=TU,TH",human:"Terça e quinta"},selective:{serviceType:"SELECTIVE",cadence:"WEEKLY",weekdays:["FRI"],rrule:"FREQ=WEEKLY;BYDAY=FR",human:"Sexta"}}},{id:"itinga",name:"Itinga",aliases:["Itinga"],collections:{common:{serviceType:"COMMON",cadence:"WEEKLY",weekdays:["SAT"],rrule:"FREQ=WEEKLY;BYDAY=SA",human:"Sábado"},selective:{serviceType:"SELECTIVE",cadence:"WEEKLY",weekdays:["WED"],rrule:"FREQ=WEEKLY;BYDAY=WE",human:"Quarta"}}},{id:"joaia",name:"Joáia",aliases:["Joáia","Joaia"],collections:{common:{serviceType:"COMMON",cadence:"WEEKLY",weekdays:["MON","WED","FRI"],rrule:"FREQ=WEEKLY;BYDAY=MO,WE,FR",human:"Segunda, quarta e sexta"},selective:{serviceType:"SELECTIVE",cadence:"WEEKLY",weekdays:["THU"],rrule:"FREQ=WEEKLY;BYDAY=TH",human:"Quinta"}}},{id:"morretes",name:"Morretes",aliases:["Morretes"],collections:{common:{serviceType:"COMMON",cadence:"WEEKLY",weekdays:["THU"],rrule:"FREQ=WEEKLY;BYDAY=TH",human:"Quinta"},selective:{serviceType:"SELECTIVE",cadence:"WEEKLY",weekdays:["FRI"],rrule:"FREQ=WEEKLY;BYDAY=FR",human:"Sexta"}}},{id:"nova-descoberta",name:"Nova Descoberta",aliases:["Nova Descoberta","NovaDescoberta"],collections:{common:{serviceType:"COMMON",cadence:"WEEKLY",weekdays:["THU"],rrule:"FREQ=WEEKLY;BYDAY=TH",human:"Quinta"},selective:{serviceType:"SELECTIVE",cadence:"WEEKLY",weekdays:["WED"],rrule:"FREQ=WEEKLY;BYDAY=WE",human:"Quarta"}}},{id:"oliveira",name:"Oliveira",aliases:["Oliveira"],collections:{common:{serviceType:"COMMON",cadence:"BIWEEKLY",weekdays:["TUE"],rrule:"FREQ=WEEKLY;INTERVAL=2;BYDAY=TU",human:"Terça (quinzenal)"},selective:{serviceType:"SELECTIVE",cadence:"BIWEEKLY",weekdays:["THU"],rrule:"FREQ=WEEKLY;INTERVAL=2;BYDAY=TH",human:"Quinta (quinzenal)"}}},{id:"pernambuco",name:"Pernambuco",aliases:["Pernambuco"],collections:{common:{serviceType:"COMMON",cadence:"WEEKLY",weekdays:["THU"],rrule:"FREQ=WEEKLY;BYDAY=TH",human:"Quinta"},selective:{serviceType:"SELECTIVE",cadence:"WEEKLY",weekdays:["WED"],rrule:"FREQ=WEEKLY;BYDAY=WE",human:"Quarta"}}},{id:"praca",name:"Praça",aliases:["Praça","Praca"],collections:{common:{serviceType:"COMMON",cadence:"WEEKLY",weekdays:["TUE","THU","SAT"],rrule:"FREQ=WEEKLY;BYDAY=TU,TH,SA",human:"Terça, quinta e sábado"},selective:{serviceType:"SELECTIVE",cadence:"WEEKLY",weekdays:["MON"],rrule:"FREQ=WEEKLY;BYDAY=MO",human:"Segunda"}}},{id:"santa-luzia",name:"Santa Luzia",aliases:["Santa Luzia","SantaLuzia"],collections:{common:{serviceType:"COMMON",cadence:"WEEKLY",weekdays:["TUE","THU"],rrule:"FREQ=WEEKLY;BYDAY=TU,TH",human:"Terça e quinta"},selective:{serviceType:"SELECTIVE",cadence:"WEEKLY",weekdays:["FRI"],rrule:"FREQ=WEEKLY;BYDAY=FR",human:"Sexta"}}},{id:"sul-do-rio",name:"Sul do Rio",aliases:["Sul do Rio","SulDoRio"],collections:{common:{serviceType:"COMMON",cadence:"WEEKLY",weekdays:["THU"],rrule:"FREQ=WEEKLY;BYDAY=TH",human:"Quinta"},selective:{serviceType:"SELECTIVE",cadence:"WEEKLY",weekdays:["FRI"],rrule:"FREQ=WEEKLY;BYDAY=FR",human:"Sexta"}}},{id:"terra-nova",name:"Terra Nova",aliases:["Terra Nova","TerraNova"],collections:{common:{serviceType:"COMMON",cadence:"BIWEEKLY",weekdays:["TUE"],rrule:"FREQ=WEEKLY;INTERVAL=2;BYDAY=TU",human:"Terça (quinzenal)"},selective:{serviceType:"SELECTIVE",cadence:"BIWEEKLY",weekdays:["THU"],rrule:"FREQ=WEEKLY;INTERVAL=2;BYDAY=TH",human:"Quinta (quinzenal)"}}},{id:"timbe",name:"Timbé",aliases:["Timbé","Timbe"],collections:{common:{serviceType:"COMMON",cadence:"WEEKLY",weekdays:["SAT"],rrule:"FREQ=WEEKLY;BYDAY=SA",human:"Sábado"},selective:{serviceType:"SELECTIVE",cadence:"WEEKLY",weekdays:["WED"],rrule:"FREQ=WEEKLY;BYDAY=WE",human:"Quarta"}}},{id:"universitario",name:"Universitário",aliases:["Universitário","Universitario"],collections:{common:{serviceType:"COMMON",cadence:"WEEKLY",weekdays:["MON","WED","FRI"],rrule:"FREQ=WEEKLY;BYDAY=MO,WE,FR",human:"Segunda, quarta e sexta"},selective:{serviceType:"SELECTIVE",cadence:"WEEKLY",weekdays:["TUE"],rrule:"FREQ=WEEKLY;BYDAY=TU",human:"Terça"}}},{id:"xv-de-novembro",name:"XV de Novembro",aliases:["XV de Novembro","XVDeNovembro","15 de Novembro","15DeNovembro"],collections:{common:{serviceType:"COMMON",cadence:"WEEKLY",weekdays:["MON","WED","FRI"],rrule:"FREQ=WEEKLY;BYDAY=MO,WE,FR",human:"Segunda, quarta e sexta"},selective:{serviceType:"SELECTIVE",cadence:"WEEKLY",weekdays:["THU"],rrule:"FREQ=WEEKLY;BYDAY=TH",human:"Quinta"}}},{id:"mata-atlantica-1-e-2",name:"Mata Atlântica 1 e 2",aliases:["Mata Atlântica 1 e 2","Mata Atlantica 1 e 2","MataAtlantica 1 e 2","Mata Atlântica"],collections:{common:{serviceType:"COMMON",cadence:"WEEKLY",weekdays:["MON","WED","FRI"],rrule:"FREQ=WEEKLY;BYDAY=MO,WE,FR",human:"Segunda, quarta e sexta"},selective:{serviceType:"SELECTIVE",cadence:"WEEKLY",weekdays:["TUE"],rrule:"FREQ=WEEKLY;BYDAY=TU",human:"Terça"}}},{id:"bosque-da-mata",name:"Bosque da Mata",aliases:["Bosque da Mata","BosqueDaMata"],collections:{common:{serviceType:"COMMON",cadence:"WEEKLY",weekdays:["MON","WED","FRI"],rrule:"FREQ=WEEKLY;BYDAY=MO,WE,FR",human:"Segunda, quarta e sexta"},selective:{serviceType:"SELECTIVE",cadence:"WEEKLY",weekdays:["TUE"],rrule:"FREQ=WEEKLY;BYDAY=TU",human:"Terça"}}}]},te={MON:"Segunda",TUE:"Terça",WED:"Quarta",THU:"Quinta",FRI:"Sexta",SAT:"Sábado",SUN:"Domingo"},ie={COMMON:"Comum",SELECTIVE:"Seletiva"},A={WEEKLY:"Semanal",BIWEEKLY:"Quinzenal"},X={0:"SUN",1:"MON",2:"TUE",3:"WED",4:"THU",5:"FRI",6:"SAT"},le={SUN:0,MON:1,TUE:2,WED:3,THU:4,FRI:5,SAT:6},q="etijucas-trash-favorites";function Q(){return X[new Date().getDay()]}function ne(){return["domingo","segunda","terça","quarta","quinta","sexta","sábado"][new Date().getDay()]}function K(s,a){const t=new Date,l=t.getDay(),r=[],n=x=>{const E=x==="COMMON"?s.collections.common:s.collections.selective;for(const N of E.weekdays){let p=le[N]-l;p<0&&(p+=7),p===0&&(p=0);const g=new Date(t);g.setDate(t.getDate()+p),r.push({date:g,type:x})}};if((a==="COMMON"||a==="BOTH"||!a)&&n("COMMON"),(a==="SELECTIVE"||a==="BOTH"||!a)&&n("SELECTIVE"),r.length===0)return null;r.sort((x,E)=>x.date.getTime()-E.date.getTime());const c=r[0],d=te[X[c.date.getDay()]];return{...c,dayLabel:d}}function R(s,a,t){return t==="COMMON"?s.collections.common.weekdays.includes(a):t==="SELECTIVE"?s.collections.selective.weekdays.includes(a):s.collections.common.weekdays.includes(a)||s.collections.selective.weekdays.includes(a)}function ce(s,a,t){let l=[...s];if(a.selectedDay!=="TODAY")l=l.filter(n=>R(n,a.selectedDay,a.serviceType));else{const n=Q();l=l.filter(c=>R(c,n,a.serviceType))}if(a.cadenceFilter!=="ALL"&&(l=l.filter(n=>a.serviceType==="COMMON"?n.collections.common.cadence===a.cadenceFilter:a.serviceType==="SELECTIVE"?n.collections.selective.cadence===a.cadenceFilter:n.collections.common.cadence===a.cadenceFilter||n.collections.selective.cadence===a.cadenceFilter)),a.query.trim()){const n=a.query.toLowerCase().trim();l=l.filter(c=>c.name.toLowerCase().includes(n)||c.aliases.some(d=>d.toLowerCase().includes(n)))}a.onlyFavorites&&(l=l.filter(n=>t.includes(n.id))),a.sort==="AZ"?l.sort((n,c)=>n.name.localeCompare(c.name,"pt-BR")):l.sort((n,c)=>{const d=K(n,a.serviceType),x=K(c,a.serviceType);return!d&&!x?0:d?x?d.date.getTime()-x.date.getTime():-1:1});const r=new Set(t);return l.sort((n,c)=>{const d=r.has(n.id),x=r.has(c.id);return d&&!x?-1:!d&&x?1:0}),l}const F={getAll(){return S.neighborhoods},getById(s){return S.neighborhoods.find(a=>a.id===s)},search(s){const a=s.toLowerCase();return S.neighborhoods.filter(t=>t.name.toLowerCase().includes(a)||t.aliases.some(l=>l.toLowerCase().includes(a)))},getCollectingToday(s){const a=Q();return S.neighborhoods.filter(t=>R(t,a,s||"BOTH"))},getFavorites(){try{const s=localStorage.getItem(q);return s?JSON.parse(s):[]}catch{return[]}},toggleFavorite(s){const a=this.getFavorites(),t=a.indexOf(s);return t>=0?a.splice(t,1):a.push(s),localStorage.setItem(q,JSON.stringify(a)),a},isFavorite(s){return this.getFavorites().includes(s)}},z={serviceType:"BOTH",selectedDay:"TODAY",query:"",onlyFavorites:!1,cadenceFilter:"ALL",sort:"NEXT"};function re(){const[s,a]=o.useState(z),[t,l]=o.useState([]),[r,n]=o.useState(null);o.useEffect(()=>{l(F.getFavorites())},[]);const c=o.useMemo(()=>F.getAll(),[]),d=o.useMemo(()=>ce(c,s,t),[c,s,t]),x=o.useMemo(()=>Q(),[]),E=o.useMemo(()=>{const m=ne(),h=s.serviceType==="COMMON"?"Coleta Comum":s.serviceType==="SELECTIVE"?"Coleta Seletiva":"Todas as Coletas";return s.selectedDay==="TODAY"?`Hoje é ${m} • mostrando ${h}`:`Mostrando ${{MON:"segunda",TUE:"terça",WED:"quarta",THU:"quinta",FRI:"sexta",SAT:"sábado",SUN:"domingo"}[s.selectedDay]} • ${h}`},[s.serviceType,s.selectedDay]),N=o.useCallback(m=>{a(h=>({...h,serviceType:m}))},[]),T=o.useCallback(m=>{a(h=>({...h,selectedDay:m}))},[]),p=o.useCallback(m=>{a(h=>({...h,query:m}))},[]),g=o.useCallback(()=>{a(m=>({...m,onlyFavorites:!m.onlyFavorites}))},[]),j=o.useCallback(m=>{a(h=>({...h,cadenceFilter:m}))},[]),w=o.useCallback(m=>{a(h=>({...h,sort:m}))},[]),M=o.useCallback(()=>{a(z)},[]),Y=o.useCallback(m=>{const h=F.toggleFavorite(m);l(h)},[]),O=o.useCallback(m=>t.includes(m),[t]),L=o.useMemo(()=>({total:c.length,filtered:d.length,collectingToday:F.getCollectingToday(s.serviceType).length,favoritesCount:t.length}),[c,d,t,s.serviceType]);return{neighborhoods:d,allNeighborhoods:c,favorites:t,stats:L,todayWeekday:x,dynamicSubtitle:E,filters:s,selectedNeighborhood:r,setSelectedNeighborhood:n,setServiceType:N,setSelectedDay:T,setQuery:p,toggleOnlyFavorites:g,setCadenceFilter:j,setSort:w,resetFilters:M,toggleFavorite:Y,isFavorite:O}}const oe=[{key:"TODAY",label:"Hoje"},{key:"MON",label:"Seg"},{key:"TUE",label:"Ter"},{key:"WED",label:"Qua"},{key:"THU",label:"Qui"},{key:"FRI",label:"Sex"},{key:"SAT",label:"Sáb"},{key:"SUN",label:"Dom"}],de=[{key:"COMMON",label:"Comum",icon:b},{key:"SELECTIVE",label:"Seletiva",icon:f},{key:"BOTH",label:"Ambas",icon:null}],me={hidden:{opacity:0,y:30,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:300,damping:24}},exit:{opacity:0,scale:.9,transition:{duration:.2}},tap:{scale:.97}},xe={visible:{transition:{staggerChildren:.06}}},$=o.forwardRef(({neighborhood:s,isFavorite:a,onFavorite:t,onSelect:l,serviceType:r},n)=>{const c=K(s,r),d=c&&c.date.toDateString()===new Date().toDateString();return e.jsxs(i.div,{ref:n,variants:me,initial:"hidden",animate:"visible",exit:"exit",whileTap:"tap",layout:!0,className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden cursor-pointer",onClick:l,children:[e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(W,{className:"w-4 h-4 text-gray-400"}),e.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:s.name})]}),s.collections.common.cadence==="BIWEEKLY"&&e.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-amber-600 bg-amber-50 px-2 py-0.5 rounded-full mt-1",children:[e.jsx(k,{className:"w-3 h-3"}),"Quinzenal"]})]}),e.jsx(i.button,{whileTap:{scale:.8},whileHover:{scale:1.1},onClick:x=>{x.stopPropagation(),t()},className:"p-2 -mr-2 -mt-1",children:e.jsx(i.div,{animate:a?{rotate:[0,-15,15,0],scale:[1,1.2,1]}:{},transition:{duration:.4},children:e.jsx(B,{className:y("w-5 h-5 transition-colors",a?"fill-yellow-400 text-yellow-400":"text-gray-300")})})})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[(r==="COMMON"||r==="BOTH")&&e.jsxs(i.div,{initial:{scale:0},animate:{scale:1},className:"flex items-center gap-1.5 bg-emerald-50 text-emerald-700 px-2.5 py-1.5 rounded-xl text-sm",children:[e.jsx(b,{className:"w-3.5 h-3.5"}),e.jsx("span",{className:"font-medium",children:s.collections.common.human})]}),(r==="SELECTIVE"||r==="BOTH")&&e.jsxs(i.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.05},className:"flex items-center gap-1.5 bg-cyan-50 text-cyan-700 px-2.5 py-1.5 rounded-xl text-sm",children:[e.jsx(f,{className:"w-3.5 h-3.5"}),e.jsx("span",{className:"font-medium",children:s.collections.selective.human})]})]}),c&&e.jsxs(i.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:y("flex items-center justify-between p-3 rounded-xl",d?"bg-gradient-to-r from-emerald-500 to-teal-500 text-white shadow-lg shadow-emerald-500/30":"bg-gray-50 text-gray-700"),children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(i.div,{animate:d?{rotate:[0,-10,10,0]}:{},transition:{repeat:1/0,duration:2,repeatDelay:3},children:c.type==="COMMON"?e.jsx(b,{className:"w-5 h-5"}):e.jsx(f,{className:"w-5 h-5"})}),e.jsx("span",{className:"font-semibold",children:d?"Coleta hoje!":`Próxima: ${c.dayLabel}`})]}),e.jsx("span",{className:y("text-xs px-2 py-0.5 rounded-full font-medium",d?"bg-white/25":"bg-gray-200"),children:ie[c.type]})]})]}),e.jsx("div",{className:"flex items-center justify-end px-4 py-2.5 bg-gray-50 border-t border-gray-100",children:e.jsxs("span",{className:"text-sm text-primary font-medium flex items-center gap-1",children:["Ver detalhes",e.jsx(Z,{className:"w-4 h-4"})]})})]})});$.displayName="NeighborhoodCard";function ue({neighborhood:s,isOpen:a,onClose:t,isFavorite:l,onFavorite:r}){return s?e.jsx(D,{children:a&&e.jsxs(e.Fragment,{children:[e.jsx(i.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[100]",onClick:t}),e.jsxs(i.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:28,stiffness:350},className:"fixed bottom-0 left-0 right-0 bg-white rounded-t-3xl z-[100] max-h-[90vh] overflow-auto",children:[e.jsx("div",{className:"flex justify-center pt-3 pb-2 sticky top-0 bg-white",children:e.jsx("div",{className:"w-12 h-1.5 bg-gray-300 rounded-full"})}),e.jsxs("div",{className:"px-5 pb-32",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-xl",children:e.jsx(W,{className:"w-6 h-6 text-primary"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:s.name})]}),e.jsx(i.button,{whileTap:{scale:.9},onClick:t,className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200 transition-colors",children:e.jsx(I,{className:"w-5 h-5 text-gray-600"})})]}),e.jsxs(i.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-emerald-400 to-emerald-600 rounded-2xl shadow-lg shadow-emerald-500/30",children:e.jsx(b,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:"Coleta Comum"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Lixo orgânico e rejeitos"})]})]}),e.jsxs("div",{className:"bg-emerald-50 rounded-2xl p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(H,{className:"w-4 h-4"}),e.jsx("span",{children:"Dias:"})]}),e.jsx("span",{className:"font-semibold text-emerald-700",children:s.collections.common.human})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(k,{className:"w-4 h-4"}),e.jsx("span",{children:"Frequência:"})]}),e.jsx("span",{className:"font-semibold text-emerald-700",children:A[s.collections.common.cadence]})]})]})]}),e.jsxs(i.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-cyan-400 to-cyan-600 rounded-2xl shadow-lg shadow-cyan-500/30",children:e.jsx(f,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 text-lg",children:"Coleta Seletiva"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Recicláveis: papel, plástico, metal, vidro"})]})]}),e.jsxs("div",{className:"bg-cyan-50 rounded-2xl p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(H,{className:"w-4 h-4"}),e.jsx("span",{children:"Dias:"})]}),e.jsx("span",{className:"font-semibold text-cyan-700",children:s.collections.selective.human})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(k,{className:"w-4 h-4"}),e.jsx("span",{children:"Frequência:"})]}),e.jsx("span",{className:"font-semibold text-cyan-700",children:A[s.collections.selective.cadence]})]})]})]}),e.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"flex gap-3",children:[e.jsxs(i.button,{whileTap:{scale:.95},onClick:r,className:y("flex-1 flex items-center justify-center gap-2 py-4 px-4 rounded-2xl font-semibold transition-all",l?"bg-yellow-100 text-yellow-700 shadow-lg shadow-yellow-500/20":"bg-gray-100 text-gray-700"),children:[e.jsx(B,{className:y("w-5 h-5",l&&"fill-current")}),l?"Favoritado":"Favoritar"]}),e.jsxs(i.button,{whileTap:{scale:.95},className:"flex-1 flex items-center justify-center gap-2 py-4 px-4 rounded-2xl font-semibold bg-gradient-to-r from-primary to-teal-500 text-white shadow-lg shadow-primary/30",onClick:()=>{alert("Lembretes por notificação em breve!")},children:[e.jsx(ee,{className:"w-5 h-5"}),"Lembrete"]})]})]})]})]})}):null}function he({isOpen:s,onClose:a}){return e.jsx(D,{children:s&&e.jsxs(e.Fragment,{children:[e.jsx(i.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[100]",onClick:a}),e.jsxs(i.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{type:"spring",damping:25,stiffness:300},className:"fixed inset-4 m-auto max-w-sm h-fit bg-white rounded-3xl z-[100] p-6 shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-5",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(P,{className:"w-5 h-5 text-primary"}),e.jsx("h3",{className:"text-lg font-bold",children:"Como funciona?"})]}),e.jsx(i.button,{whileTap:{scale:.9},onClick:a,className:"p-2 rounded-full bg-gray-100",children:e.jsx(I,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(i.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1},className:"flex gap-3",children:[e.jsx("div",{className:"p-2.5 bg-emerald-100 rounded-xl h-fit",children:e.jsx(b,{className:"w-5 h-5 text-emerald-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-emerald-700",children:"Coleta Comum"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Lixo orgânico, restos de comida, rejeitos não recicláveis. Sacos pretos ou cinzas."})]})]}),e.jsxs(i.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.2},className:"flex gap-3",children:[e.jsx("div",{className:"p-2.5 bg-cyan-100 rounded-xl h-fit",children:e.jsx(f,{className:"w-5 h-5 text-cyan-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-cyan-700",children:"Coleta Seletiva"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Materiais recicláveis: papel, plástico, metal e vidro. Sacos azuis ou identificados."})]})]}),e.jsxs(i.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.3},className:"flex gap-3 bg-amber-50 p-3 rounded-xl",children:[e.jsx(ae,{className:"w-5 h-5 text-amber-600 flex-shrink-0"}),e.jsxs("p",{className:"text-sm text-amber-800",children:[e.jsx("strong",{children:"Dica:"})," Coloque o lixo na calçada até às 7h da manhã do dia de coleta."]})]})]})]})]})})}function ye({isOpen:s,onClose:a,filters:t,setCadenceFilter:l,setSort:r,resetFilters:n}){return e.jsx(D,{children:s&&e.jsxs(e.Fragment,{children:[e.jsx(i.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[100]",onClick:a}),e.jsxs(i.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:28,stiffness:350},className:"fixed bottom-0 left-0 right-0 bg-white rounded-t-3xl z-[100]",children:[e.jsx("div",{className:"flex justify-center pt-3 pb-2",children:e.jsx("div",{className:"w-12 h-1.5 bg-gray-300 rounded-full"})}),e.jsxs("div",{className:"px-5 pb-32",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{className:"w-5 h-5 text-primary"}),e.jsx("h3",{className:"text-lg font-bold",children:"Filtros Avançados"})]}),e.jsx(i.button,{whileTap:{scale:.9},onClick:a,className:"p-2 rounded-full bg-gray-100",children:e.jsx(I,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"text-sm font-semibold text-gray-700 mb-3 block flex items-center gap-2",children:[e.jsx(k,{className:"w-4 h-4"}),"Frequência"]}),e.jsx("div",{className:"flex gap-2",children:["ALL","WEEKLY","BIWEEKLY"].map(c=>e.jsx(i.button,{whileTap:{scale:.95},onClick:()=>l(c),className:y("flex-1 py-3 px-3 rounded-xl text-sm font-medium transition-all",t.cadenceFilter===c?"bg-primary text-white shadow-lg shadow-primary/30":"bg-gray-100 text-gray-700"),children:c==="ALL"?"Todas":A[c]},c))})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("label",{className:"text-sm font-semibold text-gray-700 mb-3 block flex items-center gap-2",children:[e.jsx(se,{className:"w-4 h-4"}),"Ordenar por"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(i.button,{whileTap:{scale:.95},onClick:()=>r("NEXT"),className:y("flex-1 py-3 px-3 rounded-xl text-sm font-medium transition-all",t.sort==="NEXT"?"bg-primary text-white shadow-lg shadow-primary/30":"bg-gray-100 text-gray-700"),children:"Próxima coleta"}),e.jsx(i.button,{whileTap:{scale:.95},onClick:()=>r("AZ"),className:y("flex-1 py-3 px-3 rounded-xl text-sm font-medium transition-all",t.sort==="AZ"?"bg-primary text-white shadow-lg shadow-primary/30":"bg-gray-100 text-gray-700"),children:"A-Z"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(i.button,{whileTap:{scale:.95},onClick:n,className:"flex-1 py-4 rounded-2xl font-semibold bg-gray-100 text-gray-700",children:"Limpar filtros"}),e.jsx(i.button,{whileTap:{scale:.95},onClick:a,className:"flex-1 py-4 rounded-2xl font-semibold bg-gradient-to-r from-primary to-teal-500 text-white shadow-lg shadow-primary/30",children:"Aplicar"})]})]})]})]})})}function pe({neighborhoods:s,value:a,onChange:t}){return e.jsxs("div",{className:"relative",children:[e.jsx(W,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"}),e.jsxs("select",{value:a,onChange:l=>t(l.target.value),className:"w-full pl-10 pr-10 py-3 bg-gray-100 rounded-xl text-sm font-medium appearance-none focus:outline-none focus:ring-2 focus:ring-primary/30 cursor-pointer",children:[e.jsx("option",{value:"",children:"Todos os bairros"}),s.map(l=>e.jsx("option",{value:l.id,children:l.name},l.id))]}),e.jsx(G,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]})}function ke(){const{neighborhoods:s,allNeighborhoods:a,filters:t,dynamicSubtitle:l,stats:r,selectedNeighborhood:n,setSelectedNeighborhood:c,setServiceType:d,setSelectedDay:x,setQuery:E,toggleOnlyFavorites:N,setCadenceFilter:T,setSort:p,resetFilters:g,toggleFavorite:j,isFavorite:w}=re(),[M,Y]=o.useState(!1),[O,L]=o.useState(!1),[m,h]=o.useState(""),U=u=>{if(h(u),u){const v=a.find(C=>C.id===u);v&&E(v.name)}else E("")};return e.jsxs("div",{className:"min-h-screen bg-gray-50 pb-28",children:[e.jsx("div",{className:"sticky top-0 z-40 bg-gradient-to-br from-emerald-500 via-emerald-600 to-teal-600 text-white pt-safe-top",children:e.jsxs("div",{className:"px-4 py-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(i.div,{initial:{rotate:-10},animate:{rotate:[0,-5,5,0]},transition:{repeat:1/0,duration:4,repeatDelay:2},className:"p-2.5 bg-white/20 rounded-xl backdrop-blur-sm",children:e.jsx(V,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold",children:"Coleta de Lixo"}),e.jsx("p",{className:"text-white/70 text-xs",children:"Tijucas/SC"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(i.button,{whileTap:{scale:.9},onClick:()=>N(),className:y("p-2.5 rounded-xl transition-all",t.onlyFavorites?"bg-yellow-400 shadow-lg shadow-yellow-500/30":"bg-white/20 backdrop-blur-sm"),children:e.jsx(B,{className:y("w-5 h-5",t.onlyFavorites?"text-yellow-800 fill-current":"text-white")})}),e.jsx(i.button,{whileTap:{scale:.9},onClick:()=>Y(!0),className:"p-2.5 bg-white/20 backdrop-blur-sm rounded-xl",children:e.jsx(P,{className:"w-5 h-5"})})]})]}),e.jsx("p",{className:"text-white/80 text-sm",children:l})]})}),e.jsx("div",{className:"sticky top-[100px] z-30 bg-white border-b border-gray-100 shadow-sm",children:e.jsxs("div",{className:"px-4 py-4 space-y-3",children:[e.jsx("div",{className:"flex bg-gray-100 rounded-xl p-1",children:de.map(({key:u,label:v,icon:C})=>e.jsxs(i.button,{whileTap:{scale:.97},onClick:()=>d(u),className:y("flex-1 flex items-center justify-center gap-1.5 py-2.5 rounded-lg text-sm font-medium transition-all",t.serviceType===u?"bg-white text-primary shadow-md":"text-gray-600"),children:[C&&e.jsx(C,{className:"w-4 h-4"}),v]},u))}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1 -mx-4 px-4 scrollbar-hide",children:oe.map(({key:u,label:v})=>e.jsx(i.button,{whileTap:{scale:.95},onClick:()=>x(u),className:y("flex-shrink-0 px-4 py-2.5 rounded-full text-sm font-medium transition-all",t.selectedDay===u?"bg-primary text-white shadow-md shadow-primary/30":"bg-gray-100 text-gray-700"),children:v},u))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"flex-1",children:e.jsx(pe,{neighborhoods:a,value:m,onChange:U})}),e.jsx(i.button,{whileTap:{scale:.95},onClick:()=>L(!0),className:"p-3 bg-gray-100 rounded-xl",children:e.jsx(J,{className:"w-5 h-5 text-gray-600"})})]})]})}),e.jsxs("div",{className:"px-4 py-3 flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-500",children:[r.filtered," de ",r.total," bairros"]}),r.collectingToday>0&&e.jsxs(i.span,{initial:{scale:0},animate:{scale:1},className:"flex items-center gap-1.5 text-emerald-600 font-medium bg-emerald-50 px-2.5 py-1 rounded-full",children:[e.jsx(V,{className:"w-4 h-4"}),r.collectingToday," com coleta hoje"]})]}),e.jsx(i.div,{variants:xe,initial:"hidden",animate:"visible",className:"px-4 space-y-3",children:e.jsx(D,{mode:"popLayout",children:s.length>0?s.map(u=>e.jsx($,{neighborhood:u,isFavorite:w(u.id),onFavorite:()=>j(u.id),onSelect:()=>c(u),serviceType:t.serviceType},u.id)):e.jsxs(i.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-12",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(W,{className:"w-10 h-10 text-gray-300"})}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Nenhum bairro encontrado"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Tente mudar os filtros ou selecionar outro bairro"}),e.jsx(i.button,{whileTap:{scale:.95},onClick:g,className:"text-primary font-semibold px-4 py-2 bg-primary/10 rounded-xl",children:"Limpar filtros"})]})})}),e.jsx(ue,{neighborhood:n,isOpen:!!n,onClose:()=>c(null),isFavorite:n?w(n.id):!1,onFavorite:()=>n&&j(n.id)}),e.jsx(he,{isOpen:M,onClose:()=>Y(!1)}),e.jsx(ye,{isOpen:O,onClose:()=>L(!1),filters:t,setCadenceFilter:T,setSort:p,resetFilters:g})]})}export{ke as default};
