import{r as u,j as e}from"./vendor-radix-BOMdSbHx.js";import{B as h}from"./button-BjpnFJhp.js";import{B as T}from"./badge-BTXmYTga.js";import{C as n}from"./card-Co0KyQcB.js";import{I as R}from"./input-DlWuI3c2.js";import{b as A,c as L}from"./useMyReports-9bQmYfKq.js";import{b as d,u as M,c as l,E as z,T as B}from"./index-BUop3U7T.js";import{F as E}from"./file-text-9PmUPlQu.js";import{C as N}from"./circle-check-BQA-qKnk.js";import{P as D}from"./plus-P26VjSkD.js";import{C as F}from"./chevron-right-CLIjJnE7.js";import{T as I}from"./trending-up-B4jRKxKl.js";import{S as g}from"./search-pFq2Cne5.js";import{L as H}from"./loader-circle-DigY41PY.js";import{H as P}from"./heart-C3BQ_pnQ.js";import{T as _}from"./trash-2-DVE8-TMT.js";import{L as q}from"./lightbulb-C4V4OMCQ.js";import{C as Q}from"./circle-x-BCcc-pqP.js";import{C as V}from"./circle-alert-BKbSYziG.js";import{C as v}from"./clock-w5Wf77WM.js";import{m as O}from"./vendor-motion-DqUnpu2Q.js";import{h as U}from"./vendor-utils-CpAfWav3.js";import{M as X}from"./map-pin-x09jto2J.js";import{p as $}from"./pt-BR-DVg4WZTn.js";import"./vendor-query-2Fnzm2h0.js";import"./report.service-BdMY3izp.js";import"./client-BTgelhMB.js";import"./localDatabase-BiSIXPwd.js";import"./useAuthStore-B2_nvbLq.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=d("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=d("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=d("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]),f={buraco:{label:"Buraco",icon:B,color:"text-red-600 bg-red-100"},iluminacao:{label:"Iluminação",icon:q,color:"text-yellow-600 bg-yellow-100"},lixo:{label:"Lixo",icon:_,color:"text-green-600 bg-green-100"},transito:{label:"Trânsito",icon:G,color:"text-blue-600 bg-blue-100"},barulho:{label:"Barulho",icon:K,color:"text-purple-600 bg-purple-100"},alagamento:{label:"Alagamento",icon:J,color:"text-cyan-600 bg-cyan-100"},saude:{label:"Saúde",icon:P,color:"text-pink-600 bg-pink-100"},outros:{label:"Outros",icon:z,color:"text-gray-600 bg-gray-100"}},j={recebido:{label:"Recebido",color:"bg-blue-100 text-blue-700",icon:v},em_analise:{label:"Em Análise",color:"bg-amber-100 text-amber-700",icon:V},resolvido:{label:"Resolvido",color:"bg-green-100 text-green-700",icon:N},rejeitado:{label:"Rejeitado",color:"bg-red-100 text-red-700",icon:Q}};function Se({scrollRef:y}){const m=M(),[a,o]=u.useState("all"),[x,w]=u.useState(""),{stats:s,isLoading:r}=A(),{reports:p,isLoading:b}=L({status:a==="all"?void 0:a,search:x||void 0}),k=()=>{m("/denuncia/nova")},C=t=>{m(`/denuncia/${t}`)};return e.jsxs("div",{ref:y,className:"h-full overflow-y-auto bg-slate-50 dark:bg-slate-950 pb-24",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-900 border-b pb-6 rounded-b-[2rem] shadow-sm relative z-10",children:[e.jsxs("div",{className:"px-4 pt-4 pb-2",children:[e.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent",children:"Fiscaliza Tijucas"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Acompanhe as melhorias na cidade"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 px-4 mt-2",children:[e.jsxs(n,{className:"p-3 bg-gradient-to-br from-blue-50 to-white border-blue-100 dark:from-blue-950/30 dark:to-slate-900 dark:border-blue-900 shadow-sm relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-10 group-hover:opacity-20 transition-opacity",children:e.jsx(E,{className:"w-12 h-12 text-blue-600"})}),e.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 font-medium uppercase tracking-wider",children:"Total"}),e.jsxs("div",{className:"flex items-end gap-2 mt-1",children:[e.jsx("span",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:r?"...":s.total}),e.jsx("span",{className:"text-[10px] text-blue-600/80 mb-1 font-medium",children:"denúncias"})]})]}),e.jsxs(n,{className:"p-3 bg-gradient-to-br from-green-50 to-white border-green-100 dark:from-green-950/30 dark:to-slate-900 dark:border-green-900 shadow-sm relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-10 group-hover:opacity-20 transition-opacity",children:e.jsx(N,{className:"w-12 h-12 text-green-600"})}),e.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 font-medium uppercase tracking-wider",children:"Resolvidas"}),e.jsxs("div",{className:"flex items-end gap-2 mt-1",children:[e.jsx("span",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:r?"...":s.byStatus.resolvido}),e.jsx("span",{className:"text-[10px] text-green-600/80 mb-1 font-medium",children:"casos"})]})]})]}),e.jsxs("div",{className:"flex gap-2 px-4 mt-4 overflow-x-auto pb-2 scrollbar-none",children:[e.jsxs("button",{onClick:()=>o("em_analise"),className:l("flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-medium border transition-all whitespace-nowrap",a==="em_analise"?"bg-amber-100 border-amber-200 text-amber-700":"bg-white border-slate-200 text-slate-600 hover:bg-slate-50"),children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-500"}),"Em Análise (",r?"-":s.byStatus.em_analise,")"]}),e.jsxs("button",{onClick:()=>o("rejeitado"),className:l("flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-medium border transition-all whitespace-nowrap",a==="rejeitado"?"bg-red-100 border-red-200 text-red-700":"bg-white border-slate-200 text-slate-600 hover:bg-slate-50"),children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500"}),"Rejeitado (",r?"-":s.byStatus.rejeitado,")"]}),e.jsxs("button",{onClick:()=>o("recebido"),className:l("flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-medium border transition-all whitespace-nowrap",a==="recebido"?"bg-blue-100 border-blue-200 text-blue-700":"bg-white border-slate-200 text-slate-600 hover:bg-slate-50"),children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),"Recebidos (",r?"-":s.byStatus.recebido,")"]})]}),e.jsx("div",{className:"px-4 mt-4",children:e.jsxs(h,{size:"lg",className:"w-full h-14 text-lg font-semibold shadow-lg shadow-primary/20 rounded-xl flex items-center justify-between px-6 transition-transform active:scale-[0.98]",onClick:k,children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(D,{className:"w-6 h-6"}),"Nova Denúncia"]}),e.jsx("div",{className:"bg-white/20 p-1.5 rounded-lg",children:e.jsx(F,{className:"w-5 h-5"})})]})})]}),e.jsxs("div",{className:"px-4 py-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"font-semibold text-lg flex items-center gap-2",children:[e.jsx(I,{className:"w-5 h-5 text-primary"}),"Últimas Atualizações"]}),a!=="all"&&e.jsx(h,{variant:"ghost",size:"sm",onClick:()=>o("all"),className:"text-xs h-8 text-muted-foreground hover:text-foreground",children:"Limpar Filtros"})]}),e.jsxs("div",{className:"mb-4 relative",children:[e.jsx(g,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),e.jsx(R,{placeholder:"Buscar por protocolo, bairro ou título...",className:"pl-9 bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-800",value:x,onChange:t=>w(t.target.value)})]}),b&&e.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(H,{className:"w-8 h-8 text-primary animate-spin mb-3"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando denúncias..."})]}),!b&&p.length===0&&e.jsxs("div",{className:"text-center py-12 px-4",children:[e.jsx("div",{className:"w-16 h-16 bg-slate-100 dark:bg-slate-900 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(g,{className:"w-8 h-8 text-slate-400"})}),e.jsx("h3",{className:"text-base font-medium text-slate-900 dark:text-slate-100",children:"Nenhuma denúncia encontrada"}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Tente mudar os filtros ou faça uma nova denúncia."})]}),e.jsx("div",{className:"space-y-4",children:p.map(t=>{const i=f[t.category?.slug||"outros"]||f.outros,c=j[t.status]||j.recebido,S=c.icon;return e.jsx(O.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},whileTap:{scale:.98},onClick:()=>C(t.id),children:e.jsxs(n,{className:"overflow-hidden border-slate-100 dark:border-slate-800 shadow-sm hover:shadow-md transition-shadow cursor-pointer bg-white dark:bg-slate-900",children:[e.jsxs("div",{className:"p-3 flex items-start justify-between border-b border-slate-50 dark:border-slate-800",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:l("p-1.5 rounded-lg",i.color),children:e.jsx(i.icon,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:t.category?.name||i.label})]}),e.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[e.jsx(v,{className:"w-3 h-3"}),U(new Date(t.createdAt),{addSuffix:!0,locale:$})]})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h3",{className:"font-semibold text-slate-900 dark:text-slate-100 mb-1 line-clamp-1",children:t.title}),t.addressText&&e.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-500 mb-3",children:[e.jsx(X,{className:"w-3 h-3 text-slate-400"}),e.jsx("span",{className:"line-clamp-1",children:t.addressText})]}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsxs(T,{variant:"secondary",className:l("text-[10px] px-2 h-5 font-normal",c.color),children:[e.jsx(S,{className:"w-3 h-3 mr-1"}),c.label]}),e.jsxs("span",{className:"text-[10px] font-mono text-slate-400",children:["#",t.protocol]})]})]})]})},t.id)})})]})]})}export{Se as default};
