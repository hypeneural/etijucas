import{j as e,r as b}from"./vendor-radix-CQkmBfGK.js";import{I as l}from"./iconify-B9cQn18X.js";import{B as C}from"./button-D71ISVRV.js";import{C as h}from"./card-Crw0dXBq.js";import{S as u}from"./skeleton-8TtUyukm.js";import{T,a as F,b as N,c as y}from"./tabs-D9ctbEWX.js";import{u as B,P as S,a as P,b as z,c as A,g as v,d as w}from"./weather-amo6RRQy.js";import{d as c,u as L,R as E}from"./index-a72PoV5F.js";import{m,A as k}from"./vendor-motion-3m9Rluu3.js";import{A as H}from"./arrow-left-917UdkBP.js";import{h as R}from"./vendor-utils-YRYEdvK0.js";import{p as q}from"./pt-BR-Crt6ieNw.js";import"./vendor-query-BnSlUk-m.js";const V={success:{bg:"bg-emerald-50 dark:bg-emerald-900/20",border:"border-emerald-200 dark:border-emerald-700",text:"text-emerald-700 dark:text-emerald-300",iconBg:"bg-emerald-100 dark:bg-emerald-800"},info:{bg:"bg-blue-50 dark:bg-blue-900/20",border:"border-blue-200 dark:border-blue-700",text:"text-blue-700 dark:text-blue-300",iconBg:"bg-blue-100 dark:bg-blue-800"},warning:{bg:"bg-amber-50 dark:bg-amber-900/20",border:"border-amber-200 dark:border-amber-700",text:"text-amber-700 dark:text-amber-300",iconBg:"bg-amber-100 dark:bg-amber-800"},danger:{bg:"bg-red-50 dark:bg-red-900/20",border:"border-red-200 dark:border-red-700",text:"text-red-700 dark:text-red-300",iconBg:"bg-red-100 dark:bg-red-800"}},W={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.08}}},K={hidden:{opacity:0,y:20,scale:.95},show:{opacity:1,y:0,scale:1}};function M({insights:s,className:t}){return s.length?e.jsx(m.div,{variants:W,initial:"hidden",animate:"show",className:c("space-y-3",t),children:s.map((r,i)=>e.jsx(O,{insight:r},`${r.type}-${i}`))}):e.jsxs("div",{className:c("text-center py-8 text-muted-foreground",t),children:[e.jsx(l,{icon:"mdi:weather-sunny",className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"Nenhum insight disponÃ­vel"})]})}function O({insight:s}){const t=V[s.severity];return e.jsx(m.div,{variants:K,children:e.jsx(h,{className:c("p-4 border-l-4 transition-all duration-200 hover:shadow-md",t.bg,t.border),children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:c("flex-shrink-0 p-2 rounded-full",t.iconBg),children:e.jsx(l,{icon:s.icon,className:c("h-5 w-5",t.text)})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:c("font-semibold text-sm",t.text),children:s.title}),s.badge&&e.jsx("span",{className:c("text-xs px-2 py-0.5 rounded-full font-medium",t.iconBg,t.text),children:s.badge})]}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:s.message}),s.detail&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:s.detail})]}),s.meta?.score!==void 0&&e.jsxs("div",{className:"flex-shrink-0 text-center",children:[e.jsx("div",{className:c("text-2xl font-bold",s.meta.score>=7?"text-emerald-500":s.meta.score>=5?"text-amber-500":"text-red-500"),children:s.meta.score}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"/10"})]})]})})})}function $({insight:s}){const t=s.meta?.score??0,r=s.meta?.positives??[],i=s.meta?.negatives??[],a=t>=7?"from-emerald-400 to-emerald-600":t>=5?"from-amber-400 to-amber-600":"from-red-400 to-red-600";return e.jsx(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:e.jsxs(h,{className:"overflow-hidden",children:[e.jsx("div",{className:c("bg-gradient-to-r p-6 text-white",a),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(l,{icon:"mdi:beach",className:"h-6 w-6"}),"DÃ¡ praia?"]}),e.jsx("p",{className:"text-white/90 mt-1",children:s.message})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-5xl font-bold",children:t}),e.jsx("div",{className:"text-sm text-white/80",children:"/10"})]})]})}),e.jsxs("div",{className:"p-4 space-y-3",children:[r.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-medium text-emerald-600 dark:text-emerald-400 mb-1",children:"âœ“ Pontos positivos"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:r.map((n,d)=>e.jsx("span",{className:"text-xs bg-emerald-50 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300 px-2 py-1 rounded-full",children:n},d))})]}),i.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-medium text-red-600 dark:text-red-400 mb-1",children:"âœ— AtenÃ§Ã£o"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:i.map((n,d)=>e.jsx("span",{className:"text-xs bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-300 px-2 py-1 rounded-full",children:n},d))})]})]})]})})}function G({condition:s,waveHeight:t,period:r}){const i={calm:{emoji:"âœ…",label:"Mar Calmo",bg:"bg-emerald-100 dark:bg-emerald-900/40",text:"text-emerald-700 dark:text-emerald-300"},moderate:{emoji:"âš ï¸",label:"Mar Moderado",bg:"bg-amber-100 dark:bg-amber-900/40",text:"text-amber-700 dark:text-amber-300"},rough:{emoji:"â›”",label:"Mar Agitado",bg:"bg-red-100 dark:bg-red-900/40",text:"text-red-700 dark:text-red-300"}}[s];return e.jsxs("div",{className:c("inline-flex items-center gap-2 px-4 py-2 rounded-xl",i.bg),children:[e.jsx("span",{className:"text-xl",children:i.emoji}),e.jsxs("div",{children:[e.jsx("div",{className:c("font-semibold text-sm",i.text),children:i.label}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[t.toFixed(1),"m â€¢ ",r,"s"]})]})]})}function Q(s){const t=s.find(o=>o.type==="beach"),r=s.find(o=>o.type==="sea"),i=s.filter(o=>o.type==="rain"||o.type==="rain_window"),a=s.filter(o=>o.type==="wind"),n=s.filter(o=>o.type==="temperature"),d=s.filter(o=>o.type==="uv"),x=s.filter(o=>o.type==="warning");return{beach:t,sea:r,rain:i,wind:a,temperature:n,uv:d,warnings:x}}function Y({className:s}){const{data:t,isLoading:r,error:i}=B();if(r)return e.jsx(J,{});if(i||!t?.insights)return e.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[e.jsx(l,{icon:"mdi:weather-cloudy-alert",className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{children:"NÃ£o foi possÃ­vel carregar insights"})]});const{beach:a,sea:n,rain:d,wind:x,temperature:o,uv:p,warnings:j}=Q(t.insights);return e.jsxs(m.div,{initial:{opacity:0},animate:{opacity:1},className:c("space-y-4",s),children:[a&&e.jsx($,{insight:a}),e.jsxs("div",{className:"grid gap-3",children:[d.length>0&&e.jsx(g,{question:"Vai chover hoje?",icon:"mdi:weather-pouring",insights:d}),n&&e.jsx(g,{question:"Mar tÃ¡ como?",icon:"mdi:waves",insights:[n],extra:n.meta?.condition&&e.jsx(G,{condition:n.meta.condition,waveHeight:n.meta.wave_m??0,period:n.meta.period_s??0})}),x.length>0&&e.jsx(g,{question:"Vai ventar forte?",icon:"mdi:weather-windy",insights:x}),o.length>0&&e.jsx(g,{question:"Vai esfriar/esquentar?",icon:"mdi:thermometer",insights:o}),p.length>0&&e.jsx(g,{question:"Sol forte?",icon:"mdi:white-balance-sunny",insights:p})]}),j.length>0&&e.jsx("div",{className:"mt-4",children:e.jsx(M,{insights:j})})]})}function g({question:s,icon:t,insights:r,extra:i}){const a=r[0];if(!a)return null;const n={success:"text-emerald-500",info:"text-blue-500",warning:"text-amber-500",danger:"text-red-500"}[a.severity],d={success:"border-emerald-200 dark:border-emerald-700",info:"border-blue-200 dark:border-blue-700",warning:"border-amber-200 dark:border-amber-700",danger:"border-red-200 dark:border-red-700"}[a.severity];return e.jsx(m.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:e.jsx(h,{className:c("p-4 border-l-4",d),children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(l,{icon:t,className:c("h-6 w-6 flex-shrink-0 mt-0.5",n)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-sm text-muted-foreground mb-1",children:s}),e.jsx("p",{className:c("text-lg font-medium",n),children:a.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:a.message}),a.detail&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:a.detail}),i&&e.jsx("div",{className:"mt-3",children:i})]})]})})})}function J(){return e.jsxs("div",{className:"space-y-4",children:[e.jsx(u,{className:"h-40 rounded-xl"}),e.jsx("div",{className:"grid gap-3",children:[...Array(4)].map((s,t)=>e.jsx(u,{className:"h-24 rounded-xl"},t))})]})}const U=["going_out","beach","fishing","hiking"];function X({className:s}){const[t,r]=b.useState(null);return e.jsxs("div",{className:s,children:[e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:U.map(i=>{const a=S[i],n=t===i;return e.jsxs(m.button,{whileTap:{scale:.95},onClick:()=>r(n?null:i),className:c("flex-shrink-0 flex items-center gap-2 px-4 py-2 rounded-full text-sm font-medium transition-all",n?"bg-primary text-primary-foreground shadow-lg":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"),children:[e.jsx(l,{icon:a.icon,className:"h-4 w-4"}),a.title]},i)})}),e.jsx(k,{mode:"wait",children:t&&e.jsx(Z,{type:t,onClose:()=>r(null)},t)})]})}function Z({type:s,onClose:t}){const{data:r,isLoading:i,error:a}=P(s),n=S[s];return e.jsx(m.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden",children:e.jsxs(h,{className:"mt-4 p-4 border-2 border-primary/20",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(l,{icon:n.icon,className:"h-5 w-5 text-primary"}),e.jsx("h3",{className:"font-semibold",children:r?.preset?.title??n.title})]}),e.jsx("button",{onClick:t,className:"text-muted-foreground hover:text-foreground",children:e.jsx(l,{icon:"mdi:close",className:"h-5 w-5"})})]}),i?e.jsxs("div",{className:"py-8 text-center text-muted-foreground",children:[e.jsx(l,{icon:"mdi:loading",className:"h-8 w-8 mx-auto animate-spin"}),e.jsx("p",{className:"mt-2",children:"Carregando..."})]}):a?e.jsxs("div",{className:"py-8 text-center text-muted-foreground",children:[e.jsx(l,{icon:"mdi:alert",className:"h-8 w-8 mx-auto"}),e.jsx("p",{className:"mt-2",children:"Erro ao carregar"})]}):r?.preset?.insights?e.jsx(M,{insights:r.preset.insights}):e.jsx("p",{className:"text-muted-foreground",children:"Nenhum insight disponÃ­vel"}),r?.preset?.focus&&e.jsx("div",{className:"mt-4 flex gap-2 flex-wrap",children:r.preset.focus.map((d,x)=>e.jsx("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded-full",children:d},x))})]})})}const D="weather-view-mode";function ee(){return typeof window>"u"?"simple":localStorage.getItem(D)||"simple"}function se(s){localStorage.setItem(D,s)}function ye(){const s=L(),[t,r]=b.useState("hoje"),[i,a]=b.useState(ee);b.useEffect(()=>{se(i)},[i]);const{data:n,isLoading:d,refetch:x}=z({hours:48,days:10}),{data:o,isLoading:p,refetch:j}=A({hours:48,days:8}),_=d||p,I=()=>{x(),j()};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-sky-100 via-blue-50 to-white dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[e.jsxs("header",{className:"sticky top-0 z-50 backdrop-blur-xl bg-white/80 dark:bg-gray-900/80 border-b border-gray-200/50 dark:border-gray-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[e.jsx(C,{variant:"ghost",size:"icon",onClick:()=>s(-1),className:"rounded-full",children:e.jsx(H,{className:"h-5 w-5"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-lg font-semibold",children:"PrevisÃ£o do Tempo"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:n?.location?.name??"Tijucas/SC"})]}),e.jsx(C,{variant:"ghost",size:"icon",onClick:I,disabled:_,className:"rounded-full",children:e.jsx(E,{className:c("h-5 w-5",_&&"animate-spin")})})]}),n?.current&&e.jsx(te,{current:n.current})]}),e.jsxs("main",{className:"pb-20",children:[e.jsx("div",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center justify-center gap-1 bg-gray-100 dark:bg-gray-800 rounded-xl p-1 max-w-[280px] mx-auto",children:[e.jsxs(m.button,{onClick:()=>a("simple"),className:c("flex-1 py-2 px-4 text-sm font-medium rounded-lg transition-all relative",i==="simple"?"text-primary":"text-muted-foreground hover:text-foreground"),children:[i==="simple"&&e.jsx(m.div,{layoutId:"modeIndicator",className:"absolute inset-0 bg-white dark:bg-gray-700 rounded-lg shadow",transition:{type:"spring",damping:20,stiffness:300}}),e.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-1",children:[e.jsx(l,{icon:"mdi:lightbulb-outline",className:"h-4 w-4"}),"Simples"]})]}),e.jsxs(m.button,{onClick:()=>a("detailed"),className:c("flex-1 py-2 px-4 text-sm font-medium rounded-lg transition-all relative",i==="detailed"?"text-primary":"text-muted-foreground hover:text-foreground"),children:[i==="detailed"&&e.jsx(m.div,{layoutId:"modeIndicator",className:"absolute inset-0 bg-white dark:bg-gray-700 rounded-lg shadow",transition:{type:"spring",damping:20,stiffness:300}}),e.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-1",children:[e.jsx(l,{icon:"mdi:chart-line",className:"h-4 w-4"}),"Detalhado"]})]})]})}),e.jsx(k,{mode:"wait",children:i==="simple"?e.jsxs(m.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},className:"px-4 pt-2",children:[e.jsx(X,{className:"mb-4"}),e.jsx(Y,{})]},"simple"):e.jsx(m.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2},children:e.jsxs(T,{value:t,onValueChange:r,className:"w-full",children:[e.jsx("div",{className:"sticky top-[120px] z-40 bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl px-4 py-2 border-b border-gray-200/50 dark:border-gray-700/50",children:e.jsxs(F,{className:"grid w-full grid-cols-3 bg-gray-100 dark:bg-gray-800 rounded-xl p-1",children:[e.jsxs(N,{value:"hoje",className:"rounded-lg data-[state=active]:bg-white dark:data-[state=active]:bg-gray-700 data-[state=active]:shadow",children:[e.jsx(l,{icon:"mdi:clock-outline",className:"h-4 w-4 mr-1"}),"Hoje"]}),e.jsxs(N,{value:"dias",className:"rounded-lg data-[state=active]:bg-white dark:data-[state=active]:bg-gray-700 data-[state=active]:shadow",children:[e.jsx(l,{icon:"mdi:calendar",className:"h-4 w-4 mr-1"}),"10 Dias"]}),e.jsxs(N,{value:"mar",className:"rounded-lg data-[state=active]:bg-white dark:data-[state=active]:bg-gray-700 data-[state=active]:shadow",children:[e.jsx(l,{icon:"mdi:waves",className:"h-4 w-4 mr-1"}),"Mar"]})]})}),e.jsxs(k,{mode:"wait",children:[e.jsx(y,{value:"hoje",className:"mt-0 px-4 pt-4",children:d?e.jsx(ne,{}):n?.hourly?e.jsx(ae,{hours:n.hourly}):e.jsx(f,{message:"Dados nÃ£o disponÃ­veis"})}),e.jsx(y,{value:"dias",className:"mt-0 px-4 pt-4",children:d?e.jsx(de,{}):n?.daily?e.jsx(re,{days:n.daily}):e.jsx(f,{message:"Dados nÃ£o disponÃ­veis"})}),e.jsx(y,{value:"mar",className:"mt-0 px-4 pt-4",children:p?e.jsx(le,{}):o?.hourly?e.jsx(ie,{hours:o.hourly}):e.jsx(f,{message:"Dados do mar indisponÃ­veis"})})]})]})},"detailed")}),n?.cache&&e.jsx("div",{className:"px-4 py-6 text-center text-xs text-muted-foreground",children:e.jsxs("p",{children:["Atualizado"," ",R(new Date(n.cache.fetched_at),{addSuffix:!0,locale:q}),n.cache.stale&&e.jsx("span",{className:"ml-1 text-amber-500",children:"(dados antigos)"})]})})]})]})}function te({current:s}){if(!s)return null;const t=v(s.weather_code);return e.jsx(m.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"px-4 py-3 bg-gradient-to-r from-sky-500 via-blue-500 to-indigo-500 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(l,{icon:t.icon,className:"h-10 w-10"}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-3xl font-bold",children:[Math.round(s.temp_c),"Â°C"]}),e.jsx("div",{className:"text-sm text-white/80",children:s.description})]})]}),e.jsxs("div",{className:"text-right text-sm space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[e.jsx(l,{icon:"mdi:thermometer",className:"h-4 w-4"}),e.jsxs("span",{children:["SensaÃ§Ã£o ",Math.round(s.feels_like_c),"Â°"]})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[e.jsx(l,{icon:"mdi:weather-windy",className:"h-4 w-4"}),e.jsxs("span",{children:[Math.round(s.wind_kmh)," km/h ",w(s.wind_dir_deg)]})]})]})]})})}function ae({hours:s}){return e.jsxs(m.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-3",children:[e.jsxs(h,{className:"p-4 bg-gradient-to-r from-sky-100 to-blue-100 dark:from-gray-800 dark:to-gray-700",children:[e.jsx("h3",{className:"text-sm font-medium mb-3 text-gray-700 dark:text-gray-300",children:"PrÃ³ximas horas"}),e.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2 scrollbar-hide",children:s.slice(0,12).map((t,r)=>{const i=new Date(t.t),a=r===0,n=v(t.weather_code);return e.jsxs(m.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:r*.05},className:c("flex-shrink-0 text-center p-3 rounded-xl min-w-[70px]",a?"bg-blue-500 text-white shadow-lg":"bg-white/80 dark:bg-gray-600/50"),children:[e.jsx("div",{className:"text-xs font-medium mb-1",children:a?"Agora":`${i.getHours()}h`}),e.jsx(l,{icon:n.icon,className:"h-6 w-6 mx-auto my-1"}),e.jsxs("div",{className:"text-lg font-bold",children:[Math.round(t.temp_c),"Â°"]}),t.rain_prob_pct>0&&e.jsxs("div",{className:c("text-xs mt-1",a?"text-white/80":"text-blue-500"),children:["ðŸ’§ ",t.rain_prob_pct,"%"]})]},t.t)})})]}),e.jsx("div",{className:"space-y-2",children:s.slice(0,24).map((t,r)=>{const i=new Date(t.t),a=v(t.weather_code);return e.jsx(m.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:r*.02},children:e.jsx(h,{className:"p-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 text-center",children:e.jsxs("div",{className:"text-sm font-medium",children:[i.getHours(),":00"]})}),e.jsx(l,{icon:a.icon,className:"h-6 w-6",style:{color:a.color}}),e.jsxs("div",{className:"text-2xl font-bold",children:[Math.round(t.temp_c),"Â°"]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[t.rain_prob_pct>0&&e.jsxs("div",{className:"flex items-center gap-1 text-blue-500",children:[e.jsx(l,{icon:"mdi:water",className:"h-4 w-4"}),t.rain_prob_pct,"%"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(l,{icon:"mdi:weather-windy",className:"h-4 w-4"}),Math.round(t.wind_kmh)]})]})]})})},t.t)})})]})}function re({days:s}){const t=new Date().toISOString().split("T")[0];return e.jsx(m.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-2",children:s.map((r,i)=>{const a=r.date===t,n=new Date(r.date+"T12:00:00"),d=v(r.weather_code),x=a?"Hoje":n.toLocaleDateString("pt-BR",{weekday:"short"}).replace(".",""),o=n.toLocaleDateString("pt-BR",{day:"numeric",month:"short"});return e.jsx(m.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:i*.05},children:e.jsx(h,{className:c("p-4",a&&"border-2 border-blue-400 bg-blue-50 dark:bg-blue-900/20"),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-3 min-w-[100px]",children:e.jsxs("div",{children:[e.jsx("div",{className:c("text-sm font-semibold capitalize",a&&"text-blue-600 dark:text-blue-400"),children:x}),e.jsx("div",{className:"text-xs text-muted-foreground",children:o})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(l,{icon:d.icon,className:"h-8 w-8",style:{color:d.color}}),e.jsx("span",{className:"text-xs text-muted-foreground hidden sm:block",children:r.description})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[r.rain_prob_max_pct!==void 0&&r.rain_prob_max_pct>0&&e.jsxs("div",{className:"flex items-center gap-1 text-blue-500 text-sm",children:[e.jsx(l,{icon:"mdi:water",className:"h-4 w-4"}),r.rain_prob_max_pct,"%"]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("span",{className:"text-lg font-bold text-orange-500",children:[Math.round(r.max_c),"Â°"]}),e.jsx("span",{className:"text-muted-foreground mx-1",children:"/"}),e.jsxs("span",{className:"text-lg font-bold text-blue-500",children:[Math.round(r.min_c),"Â°"]})]})]})]})})},r.date)})})}function ie({hours:s}){const{SeaConditionHero:t,ExplainableMetric:r,CoastalPrecisionBanner:i}=require("@/components/weather/MarineExplainer"),a=s[0];if(!a)return e.jsx(f,{message:"Dados do mar indisponÃ­veis"});const n=d=>d>=1.5?"text-red-500":d>=.8?"text-amber-500":"text-emerald-500";return e.jsxs(m.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-4",children:[e.jsx(t,{waveHeight:a.wave_m,wavePeriod:a.wave_period_s,seaTemp:a.sea_temp_c}),e.jsx(i,{}),e.jsxs(h,{className:"p-4",children:[e.jsxs("h3",{className:"text-sm font-medium mb-4 flex items-center gap-2",children:[e.jsx(l,{icon:"mdi:information-outline",className:"h-4 w-4 text-muted-foreground"}),"Toque para entender cada mÃ©trica"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(r,{metricKey:"wave_height",value:a.wave_m.toFixed(1),unit:"m",size:"lg"}),e.jsx(r,{metricKey:"wave_period",value:a.wave_period_s.toFixed(0),unit:"s",size:"lg"}),e.jsx(r,{metricKey:"wave_direction",value:w(a.wave_dir_deg),size:"lg"}),a.sea_temp_c!==void 0&&e.jsx(r,{metricKey:"sea_temp",value:Math.round(a.sea_temp_c),unit:"Â°C",size:"lg"})]})]}),a.swell_m!==void 0&&a.swell_m>0&&e.jsxs(h,{className:"p-4",children:[e.jsxs("h3",{className:"text-sm font-medium mb-3 flex items-center gap-2",children:[e.jsx(l,{icon:"mdi:wave",className:"h-4 w-4 text-blue-500"}),"Swell (OndulaÃ§Ã£o de alto mar)"]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx(r,{metricKey:"swell",value:a.swell_m.toFixed(1),unit:"m",size:"md"}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-lg font-bold",children:[a.swell_period_s?.toFixed(0)??"-","s"]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"PerÃ­odo"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold",children:w(a.swell_dir_deg??0)}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"DireÃ§Ã£o"})]})]})]}),a.current_ms!==void 0&&a.current_ms>0&&e.jsx(h,{className:"p-4",children:e.jsx(r,{metricKey:"current",value:a.current_ms.toFixed(2),unit:" m/s",size:"lg"})}),e.jsxs(h,{className:"p-4",children:[e.jsx("h3",{className:"text-sm font-medium mb-3",children:"PrevisÃ£o por hora"}),e.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2 scrollbar-hide",children:s.slice(0,12).map((d,x)=>{const o=new Date(d.t),p=n(d.wave_m);return e.jsxs(m.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:x*.05},className:"flex-shrink-0 text-center p-3 rounded-xl bg-cyan-50 dark:bg-cyan-900/20 min-w-[70px]",children:[e.jsxs("div",{className:"text-xs font-medium mb-1",children:[o.getHours(),"h"]}),e.jsx(l,{icon:"mdi:waves",className:c("h-5 w-5 mx-auto",p)}),e.jsxs("div",{className:c("text-sm font-bold mt-1",p),children:[d.wave_m.toFixed(1),"m"]}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[d.wave_period_s.toFixed(0),"s"]})]},d.t)})})]})]})}function ne(){return e.jsxs("div",{className:"space-y-3",children:[e.jsx(u,{className:"h-32 rounded-xl"}),e.jsx("div",{className:"space-y-2",children:[...Array(6)].map((s,t)=>e.jsx(u,{className:"h-16 rounded-xl"},t))})]})}function de(){return e.jsx("div",{className:"space-y-2",children:[...Array(7)].map((s,t)=>e.jsx(u,{className:"h-20 rounded-xl"},t))})}function le(){return e.jsxs("div",{className:"space-y-4",children:[e.jsx(u,{className:"h-40 rounded-xl"}),e.jsx(u,{className:"h-24 rounded-xl"})]})}function f({message:s}){return e.jsxs("div",{className:"text-center py-12",children:[e.jsx(l,{icon:"mdi:weather-cloudy-alert",className:"h-16 w-16 mx-auto text-muted-foreground"}),e.jsx("p",{className:"mt-4 text-muted-foreground",children:s})]})}export{ye as default};
