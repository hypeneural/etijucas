import{r as j,j as e,R as Y}from"./vendor-radix-CQkmBfGK.js";import{S as me,e as Me,a as xe,b as he,c as ue}from"./sheet-BKuN3oB-.js";import{B as pe}from"./badge-ro5txhul.js";import{b as fe}from"./bairros-Cf5Z_oCw.js";import{f as A,a as J,l as B,s as ge,u as E,U as Ae,T as ee,p as S,M,x as T,k as L,E as q,y as Ee,z as je,D as Pe,q as Re,m as _,Q as _e,o as be,F as ae,X as ve,d as I,R as Be}from"./index-Hqw-C65h.js";import{m as a,u as Oe,a as P,L as ze,A as O,c as He}from"./vendor-motion-3m9Rluu3.js";import{B as Le}from"./bell-CydVD4CL.js";import{C as qe}from"./chevron-down-BW2Gv1kj.js";import{I as Fe}from"./input-3rHbMcN3.js";import{S as $e}from"./search-Cuf9aYsL.js";import{H as te}from"./heart-dEAxRXPS.js";import{C as z}from"./clock-XRqCq4VV.js";import{P as ye}from"./phone-D4QERgv4.js";import{h as y,B as R}from"./button-DxLdRvDL.js";import{u as we}from"./vendor-query-BnSlUk-m.js";import{C as Ue}from"./circle-alert-CqoFhcYt.js";import{r as Ve}from"./report.service-BCB4GeF2.js";import{F as Ne}from"./file-text-0IN4sVk_.js";import{C as ke}from"./circle-check-BNqcJA0E.js";import{L as Ge}from"./lightbulb-bn-8k97y.js";import{T as Te}from"./trash-2-Dottgp6n.js";import{C as Ce}from"./camera-PP00XbnN.js";import{T as Se}from"./trending-up-DKl215GK.js";import{S as Ye}from"./switch-Kci3olH0.js";import{f as We}from"./formatTimeAgo-sqrSmqBz.js";import{u as Ke,a as Ze}from"./useOfflineTopics-C2gMV-RX.js";import{S as W}from"./sparkles-Dqxt60r7.js";import{U as Qe}from"./users-DLkHw3QL.js";import{M as re}from"./message-circle-D-HwVLtt.js";import{S as Xe}from"./share-2-DPm_ATLX.js";import{C as Je}from"./church-DE22rv52.js";import{I as et}from"./info-DaCSJJyL.js";import{u as tt,T as st}from"./useEventsApi-DF6YJ8e3.js";import{s as at,i as rt,w as ie,p as F,x as it}from"./vendor-utils-YRYEdvK0.js";import{a as nt,T as ot}from"./tourism.types-BA_roBhw.js";import{S as lt}from"./star-DlIjZkGG.js";import{u as ct,S as Ie,D as dt,a as mt}from"./useInstallPrompt-B3Wga7vb.js";import{S as De}from"./smartphone-CQgi87ok.js";import{I as D}from"./iconify-B9cQn18X.js";import{C as X}from"./card-MJIM5IsV.js";import{S as C}from"./skeleton-CE4_V2N6.js";import{e as xt,g as ne,d as ht,h as ut}from"./useHaptic-C5DmjItv.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=A("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=A("CloudSun",[["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}],["path",{d:"M15.947 12.65a4 4 0 0 0-5.925-4.128",key:"dpwdj0"}],["path",{d:"M13 22H7a5 5 0 1 1 4.9-6H13a3 3 0 0 1 0 6Z",key:"s09mg5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=A("Construction",[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=A("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=A("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=A("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=A("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function wt({todayEventsCount:n=0,hasActiveAlert:s=!1,streakDays:t=0}){const{user:o,isAuthenticated:i}=J(),{selectedBairro:r}=B(),x=j.useMemo(()=>{const g=new Date().getHours();return g>=5&&g<12?{text:"Bom dia",icon:vt,emoji:"â˜€ï¸"}:g>=12&&g<18?{text:"Boa tarde",icon:ft,emoji:"ðŸŒ¤ï¸"}:{text:"Boa noite",icon:bt,emoji:"ðŸŒ™"}},[]),l=o?.nome?.split(" ")[0]||"",d=j.useMemo(()=>s?null:n>0?`${n} evento${n>1?"s":""} hoje em ${r.nome}`:`Veja o que estÃ¡ rolando em ${r.nome}`,[s,n,r]),p=x.icon;return e.jsxs(a.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(a.div,{animate:{rotate:[0,10,-10,0],scale:[1,1.1,1]},transition:{duration:2,repeat:1/0,repeatDelay:5},children:e.jsx(p,{className:"w-5 h-5 text-primary-foreground/80"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-primary-foreground",children:[x.text,l?`, ${l}!`:"!"," ",x.emoji]}),d&&e.jsx(a.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"text-xs text-primary-foreground/70",children:d})]})]}),t>1&&e.jsxs(a.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:300,delay:.3},className:`flex items-center gap-1 px-2 py-1 \r
                     bg-gradient-to-r from-amber-500 to-orange-500 \r
                     rounded-full text-white text-xs font-medium shadow-lg`,children:[e.jsx(jt,{className:"w-3 h-3"}),e.jsxs("span",{children:[t,"d"]})]})]})}function Nt({label:n="Ao vivo",size:s="sm",showLabel:t=!0}){const{isOnline:o}=ge(),i=s==="sm"?"w-2 h-2":"w-3 h-3",r=s==="sm"?"w-3 h-3":"w-4 h-4";return o?e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsxs("div",{className:"relative",children:[e.jsx(a.div,{className:`absolute ${r} rounded-full bg-green-500/50`,animate:{scale:[1,1.8,1],opacity:[.7,0,.7]},transition:{duration:2,repeat:1/0,ease:"easeOut"},style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}),e.jsx(a.div,{className:`relative ${i} rounded-full bg-green-500`,animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}})]}),t&&e.jsx(a.span,{initial:{opacity:0},animate:{opacity:1},className:"text-xs text-primary-foreground/70 font-medium",children:n})]}):e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:`${i} rounded-full bg-amber-500`}),t&&e.jsx("span",{className:"text-xs text-primary-foreground/70",children:"Offline"})]})}function kt({scrollRef:n,todayEventsCount:s=0,hasActiveAlert:t=!1,streakDays:o=0}){const i=E(),{selectedBairro:r,setSelectedBairro:x}=B(),{user:l,isAuthenticated:d}=J(),[p,g]=j.useState(!1),{scrollY:m}=Oe({container:n}),h=P(m,[0,80],[160,80]),v=P(m,[0,80],[1,.85]),u=P(m,[0,50],[1,0]),w=()=>{i(d?"/perfil":"/login")};return e.jsxs(a.header,{style:{height:h},className:"relative overflow-hidden bg-gradient-to-br from-primary via-primary to-primary-dark",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("svg",{className:"absolute w-[200%] h-full opacity-20 animate-wave",viewBox:"0 0 1200 200",preserveAspectRatio:"none",children:e.jsx("path",{d:"M0,100 C150,150 350,50 500,100 C650,150 850,50 1000,100 C1150,150 1200,100 1200,100 L1200,200 L0,200 Z",fill:"currentColor",className:"text-primary-foreground"})}),e.jsx("svg",{className:"absolute w-[200%] h-full opacity-10 animate-wave-slow",viewBox:"0 0 1200 200",preserveAspectRatio:"none",children:e.jsx("path",{d:"M0,120 C200,80 400,160 600,120 C800,80 1000,160 1200,120 L1200,200 L0,200 Z",fill:"currentColor",className:"text-primary-foreground"})}),e.jsx(a.div,{className:"absolute top-4 right-8 w-2 h-2 rounded-full bg-secondary/40",animate:{y:[0,-10,0],x:[0,5,0]},transition:{duration:6,repeat:1/0,ease:"easeInOut"}}),e.jsx(a.div,{className:"absolute top-12 right-20 w-3 h-3 rounded-full bg-accent/30",animate:{y:[0,8,0],x:[0,-8,0]},transition:{duration:8,repeat:1/0,ease:"easeInOut",delay:1}}),e.jsx(a.div,{className:"absolute top-8 left-16 w-1.5 h-1.5 rounded-full bg-secondary/50",animate:{y:[0,-6,0]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:2}})]}),e.jsxs("div",{className:"relative z-10 flex flex-col h-full px-4 pt-safe-top",children:[e.jsxs("div",{className:"flex items-center justify-between py-3",children:[e.jsxs(a.div,{style:{scale:v},className:"flex items-center gap-3",children:[e.jsx("h1",{className:"text-xl font-bold text-primary-foreground",children:"eTijucas"}),e.jsx(Nt,{})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(a.button,{whileTap:{scale:.9},className:"relative p-2 rounded-full bg-primary-foreground/10",children:[e.jsx(Le,{className:"w-5 h-5 text-primary-foreground"}),e.jsx(pe,{variant:"destructive",className:"absolute -top-1 -right-1 w-4 h-4 p-0 flex items-center justify-center text-[10px]",children:"2"})]}),e.jsx(a.button,{whileTap:{scale:.9},onClick:w,className:"w-8 h-8 rounded-full bg-primary-foreground/20 flex items-center justify-center overflow-hidden",children:l?.avatarUrl?e.jsx("img",{src:l.avatarUrl,alt:l.nome,className:"w-full h-full object-cover"}):e.jsx(Ae,{className:"w-4 h-4 text-primary-foreground"})})]})]}),e.jsxs(a.div,{style:{opacity:u},className:"space-y-2",children:[e.jsx(wt,{todayEventsCount:s,hasActiveAlert:t,streakDays:o}),e.jsxs(me,{open:p,onOpenChange:g,children:[e.jsx(Me,{asChild:!0,children:e.jsxs(a.button,{whileTap:{scale:.95},className:"flex items-center gap-1 px-3 py-1.5 rounded-full bg-primary-foreground/15 text-primary-foreground text-sm font-medium",children:[e.jsx("span",{className:"text-xs opacity-80",children:"ðŸ“"}),e.jsx("span",{children:r.nome}),e.jsx(qe,{className:"w-4 h-4"})]})}),e.jsxs(xe,{side:"bottom",className:"rounded-t-3xl",children:[e.jsx(he,{children:e.jsx(ue,{children:"Selecione seu bairro"})}),e.jsx("div",{className:"grid grid-cols-2 gap-2 mt-4 pb-8",children:fe.map(b=>e.jsx(a.button,{whileTap:{scale:.95},onClick:()=>{x(b),g(!1)},className:`p-3 rounded-xl text-left font-medium transition-colors ${r.id===b.id?"bg-primary text-primary-foreground":"bg-muted text-foreground hover:bg-muted/80"}`,children:b.nome},b.id))})]})]})]})]})]})}const Tt=[{id:"reportar",label:"Reportar",icon:ee,action:"reportar",color:"accent"},{id:"curtidos",label:"Mais curtidos",icon:te,action:"filter"},{id:"eventos",label:"Eventos hoje",icon:S,action:"agenda"},{id:"missas",label:"Missas hoje",icon:z,action:"mais"},{id:"telefones",label:"Telefones Ãºteis",icon:ye,action:"mais"},{id:"turismo",label:"Turismo",icon:M,action:"mais"}];function Ct({onNavigate:n}){const s=t=>{t.action&&t.action!=="filter"&&n(t.action)};return e.jsxs("div",{className:"px-4 py-4 space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx($e,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),e.jsx(Fe,{type:"text",placeholder:"Buscar denÃºncias, eventos, missas, lugaresâ€¦",className:"pl-12 pr-4 h-12 rounded-2xl bg-card border-0 shadow-card text-base placeholder:text-muted-foreground/60"})]}),e.jsx("div",{className:"flex gap-2 overflow-x-auto scrollbar-hide pb-1 -mx-4 px-4",children:Tt.map((t,o)=>{const i=t.icon,r=t.color==="accent";return e.jsxs(a.button,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:o*.05},whileTap:{scale:.92},onClick:()=>s(t),className:`flex items-center gap-1.5 px-3 py-2 rounded-full whitespace-nowrap text-sm font-medium transition-colors ${r?"bg-accent text-accent-foreground":"bg-card text-foreground shadow-card"}`,children:[e.jsx(i,{className:"w-4 h-4"}),t.label]},t.id)})})]})}function $({variant:n="default"}){return e.jsx("div",{className:"bento-card animate-pulse",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl skeleton-shimmer"}),n==="stats"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-8 w-16 skeleton-shimmer rounded"}),e.jsx("div",{className:"h-4 w-24 skeleton-shimmer rounded"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-5 w-3/4 skeleton-shimmer rounded"}),e.jsx("div",{className:"h-4 w-full skeleton-shimmer rounded"})]})]})})}function St(){return e.jsxs("div",{className:"px-4 py-2",children:[e.jsx("div",{className:"h-6 w-32 skeleton-shimmer rounded mb-3"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx($,{variant:"stats"}),e.jsx($,{variant:"stats"}),e.jsx($,{}),e.jsx($,{})]})]})}function oe(){return e.jsxs("div",{className:"flex-shrink-0 w-64 h-36 rounded-2xl skeleton-shimmer p-4",children:[e.jsx("div",{className:"h-3 w-20 bg-white/20 rounded mb-2"}),e.jsx("div",{className:"h-5 w-40 bg-white/20 rounded mb-1"}),e.jsx("div",{className:"h-4 w-32 bg-white/20 rounded"})]})}async function U(){(await T.getAll()).length}const It={async getAll(n){await U();try{const s=await L.get(q.events.list,n);return s.data&&s.data.length>0&&await T.saveMany(s.data),s}catch(s){console.warn("[EventService] API failed, using cache:",s);let t=await T.getAll();if(n?.bairroId&&(t=t.filter(l=>l.bairroId===n.bairroId)),n?.fromDate){const l=new Date(n.fromDate);t=t.filter(d=>new Date(d.dateTime)>=l)}if(n?.toDate){const l=new Date(n.toDate);t=t.filter(d=>new Date(d.dateTime)<=l)}if(n?.search){const l=n.search.toLowerCase();t=t.filter(d=>d.titulo.toLowerCase().includes(l)||d.descricao?.toLowerCase().includes(l))}t.sort((l,d)=>new Date(l.dateTime).getTime()-new Date(d.dateTime).getTime());const o=n?.page||1,i=n?.perPage||10,r=(o-1)*i,x=r+i;return{data:t.slice(r,x),meta:{total:t.length,page:o,perPage:i,lastPage:Math.ceil(t.length/i),from:r+1,to:Math.min(x,t.length)}}}},async getUpcoming(n=5){await U();try{const s=await L.get(q.events.upcoming,{limit:n});return s.data&&s.data.length>0&&await T.saveMany(s.data),s.data}catch{console.warn("[EventService] API failed for upcoming, using cache");const t=new Date;return(await T.getAll()).filter(i=>new Date(i.dateTime)>=t).sort((i,r)=>new Date(i.dateTime).getTime()-new Date(r.dateTime).getTime()).slice(0,n)}},async getByDate(n){await U();try{const s=await L.get(q.events.byDate(n));return s.data&&s.data.length>0&&await T.saveMany(s.data),s.data}catch{console.warn("[EventService] API failed for byDate, using cache");const t=new Date(n).toDateString();return(await T.getAll()).filter(i=>new Date(i.dateTime).toDateString()===t)}},async getById(n){await U();try{const s=await L.get(q.events.get(n));return s.data&&await T.save(s.data),s.data}catch{return console.warn("[EventService] API failed for getById, using cache"),T.getById(n)}},async refresh(){await T.clear(),await this.getAll()}},Dt=["offline","events","upcoming"];function Mt(n=5){const{isOnline:s}=ge();return we({queryKey:[...Dt,n],queryFn:async()=>{if(s)try{return await It.getUpcoming(n)}catch{console.warn("[useUpcomingOfflineEvents] API failed, using cache")}const t=new Date;return(await T.getAll()).filter(i=>new Date(i.dateTime)>=t).slice(0,n)},staleTime:1e3*60*5})}function At({onNavigate:n}){const s=E(),{selectedBairro:t}=B(),{data:o,isLoading:i}=Mt(5),r=Y.useMemo(()=>{if(!o)return[];const h=new Date;return o.filter(v=>new Date(v.dateTime).toDateString()===h.toDateString())},[o]),x=Ee.find(h=>h.bairroId===t.id),l=Pe[0],d=je[0],p={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.08}}},g={hidden:{opacity:0,y:20,scale:.95},show:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:300,damping:24}}},m=h=>{y("selection"),s(h)};return i?e.jsx(St,{}):e.jsxs("div",{className:"px-4 py-2",children:[e.jsx("h2",{className:"text-lg font-bold text-foreground mb-3",children:"Hoje em Tijucas"}),e.jsxs(a.div,{variants:p,initial:"hidden",animate:"show",className:"grid grid-cols-2 gap-3",children:[e.jsxs(a.button,{layoutId:"bento-eventos",variants:g,whileTap:{scale:.96},onClick:()=>m("/agenda"),className:"bento-card flex flex-col items-start gap-2 text-left relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-secondary/5 to-transparent pointer-events-none"}),e.jsx(a.div,{layoutId:"bento-eventos-icon",className:"w-10 h-10 rounded-xl bg-secondary/10 flex items-center justify-center relative z-10",children:e.jsx(S,{className:"w-5 h-5 text-secondary"})}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("p",{className:"text-2xl font-bold text-foreground",children:r.length}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Eventos hoje"})]}),r.length>0&&e.jsxs("p",{className:"text-xs text-secondary font-medium relative z-10",children:[new Date(r[0].dateTime).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})," - ",r[0].titulo]})]}),e.jsxs(a.button,{layoutId:"bento-missas",variants:g,whileTap:{scale:.96},onClick:()=>m("/missas"),className:"bento-card flex flex-col items-start gap-2 text-left relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-transparent pointer-events-none"}),e.jsx(a.div,{layoutId:"bento-missas-icon",className:"w-10 h-10 rounded-xl bg-primary/10 flex items-center justify-center relative z-10",children:e.jsx(z,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("p",{className:"text-lg font-bold text-foreground",children:x?x.horarios[0]:"â€”"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"PrÃ³xima missa"})]}),e.jsx("p",{className:"text-xs text-primary font-medium relative z-10",children:x?x.igrejaNome.slice(0,20)+"...":"Sem horÃ¡rios"})]}),e.jsxs(a.button,{layoutId:"bento-alertas",variants:g,whileTap:{scale:.96},className:"bento-card flex flex-col items-start gap-2 text-left relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-accent/5 to-transparent pointer-events-none"}),e.jsx(a.div,{layoutId:"bento-alertas-icon",className:"w-10 h-10 rounded-xl bg-accent/10 flex items-center justify-center relative z-10",animate:d?{scale:[1,1.05,1]}:{},transition:{duration:2,repeat:1/0},children:e.jsx(Ue,{className:"w-5 h-5 text-accent"})}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("p",{className:"text-sm font-semibold text-foreground",children:d?.titulo||"Sem alertas"}),e.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:d?.descricao||"Tudo tranquilo por aqui"})]})]}),e.jsxs(a.button,{layoutId:"bento-turismo",variants:g,whileTap:{scale:.96},onClick:()=>m("/pontos-turisticos"),className:"bento-card flex flex-col items-start gap-2 text-left overflow-hidden relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-secondary/5 to-transparent pointer-events-none"}),e.jsx(a.div,{layoutId:"bento-turismo-icon",className:"w-10 h-10 rounded-xl bg-secondary/10 flex items-center justify-center relative z-10",children:e.jsx(M,{className:"w-5 h-5 text-secondary"})}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("p",{className:"text-sm font-semibold text-foreground",children:l.titulo}),e.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:l.descCurta})]})]})]})]})}function Et({value:n,duration:s=1e3}){const[t,o]=Y.useState(0);return Y.useEffect(()=>{const i=Date.now(),r=t,x=n-r,l=()=>{const d=Date.now()-i,p=Math.min(d/s,1),g=1-Math.pow(1-p,3);o(Math.round(r+x*g)),p<1&&requestAnimationFrame(l)};requestAnimationFrame(l)},[n,s]),e.jsx("span",{children:t})}function Z({icon:n,label:s,value:t,color:o,delay:i}){return e.jsxs(a.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:i,duration:.3},className:"flex items-center gap-2 bg-white/10 backdrop-blur-sm rounded-xl px-3 py-2",children:[e.jsx("div",{className:`p-1.5 rounded-lg ${o}`,children:e.jsx(n,{className:"w-3.5 h-3.5 text-white"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-lg font-bold leading-none",children:e.jsx(Et,{value:t,duration:1200})}),e.jsx("p",{className:"text-[10px] opacity-80 truncate",children:s})]})]})}const Pt=[{id:"buraco",label:"Buraco",icon:ee},{id:"iluminacao",label:"IluminaÃ§Ã£o",icon:Ge},{id:"lixo",label:"Lixo",icon:Te},{id:"outros",label:"Outros",icon:Re}];function Rt({onNavigate:n}){const s=E(),{data:t}=we({queryKey:_e.reports.stats(),queryFn:()=>Ve.getReportsStats(),staleTime:1e3*60*10}),o=()=>{s("/denuncia/nova")},i=()=>{s("/denuncias")};return e.jsx("div",{className:"px-4 py-4",children:e.jsxs(a.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:[.95,1.02,1]},transition:{duration:.5,times:[0,.7,1]},className:"relative overflow-hidden bg-gradient-to-br from-orange-500 via-orange-600 to-red-600 rounded-3xl p-5 text-white",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx(a.div,{animate:{x:[0,20,0],y:[0,-10,0]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute top-0 right-0 w-40 h-40 bg-white/10 rounded-full -translate-y-1/2 translate-x-1/4"}),e.jsx(a.div,{animate:{x:[0,-15,0],y:[0,15,0]},transition:{duration:6,repeat:1/0,ease:"easeInOut"},className:"absolute bottom-0 left-0 w-32 h-32 bg-white/10 rounded-full translate-y-1/2 -translate-x-1/4"})]}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(a.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"p-2 bg-white/20 rounded-xl",children:e.jsx(yt,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold",children:"Fiscaliza Tijucas"}),e.jsx("p",{className:"text-xs opacity-80",children:"Reporte problemas na cidade"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-4",children:[e.jsx(Z,{icon:Ne,label:"Total",value:t?.total||0,color:"bg-blue-500",delay:.1}),e.jsx(Z,{icon:z,label:"Em anÃ¡lise",value:t?.byStatus?.em_analise||0,color:"bg-yellow-500",delay:.2}),e.jsx(Z,{icon:ke,label:"Resolvidos",value:t?.byStatus?.resolvido||0,color:"bg-green-500",delay:.3})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:Pt.map(r=>{const x=r.icon;return e.jsxs(a.button,{whileTap:{scale:.92},onClick:o,className:"flex items-center gap-1.5 px-3 py-1.5 rounded-full bg-white/20 backdrop-blur-sm text-sm font-medium hover:bg-white/30 transition-colors",children:[e.jsx(x,{className:"w-4 h-4"}),r.label]},r.id)})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(a.button,{whileTap:{scale:.95},onClick:o,className:"flex-1 flex items-center justify-center gap-2 bg-white text-orange-600 font-semibold py-3 rounded-xl shadow-lg shadow-orange-900/20",children:[e.jsx(Ce,{className:"w-5 h-5"}),"Reportar agora"]}),e.jsxs(a.button,{whileTap:{scale:.95},onClick:i,className:"flex items-center justify-center gap-1 bg-white/20 backdrop-blur-sm font-semibold py-3 px-4 rounded-xl hover:bg-white/30 transition-colors",children:["Ver",e.jsx(_,{className:"w-4 h-4"})]})]}),t?.thisMonth&&t.thisMonth>0&&e.jsxs(a.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"flex items-center justify-center gap-2 mt-4 pt-3 border-t border-white/20",children:[e.jsx(Se,{className:"w-4 h-4"}),e.jsxs("span",{className:"text-sm",children:[e.jsx("span",{className:"font-bold",children:t.thisMonth})," denÃºncias este mÃªs",t.resolvedThisMonth&&t.resolvedThisMonth>0&&e.jsxs("span",{className:"opacity-80",children:[" ","â€¢ ",t.resolvedThisMonth," resolvidas"]})]})]})]})]})})}const Q={reclamacao:{label:"ReclamaÃ§Ã£o",color:"text-red-700",bg:"bg-red-100"},sugestao:{label:"SugestÃ£o",color:"text-blue-700",bg:"bg-blue-100"},duvida:{label:"DÃºvida",color:"text-purple-700",bg:"bg-purple-100"},alerta:{label:"Alerta",color:"text-orange-700",bg:"bg-orange-100"},elogio:{label:"Elogio",color:"text-green-700",bg:"bg-green-100"},outros:{label:"Outros",color:"text-gray-700",bg:"bg-gray-100"}};function _t({onNavigate:n}){const s=E(),{selectedBairro:t}=B(),{isAuthenticated:o}=J(),{toast:i}=be(),[r,x]=j.useState("curtidos"),[l,d]=j.useState(!1),{data:p=[],isLoading:g}=Ke(),m=Ze(),h=j.useCallback(c=>o?!0:(i({title:"Login necessÃ¡rio",description:`Para ${c}, vocÃª precisa estar logado.`,action:e.jsx(R,{variant:"outline",size:"sm",onClick:()=>window.location.href="/login",children:"Entrar"})}),!1),[o,i]),v=j.useMemo(()=>{let c=[...p];switch(r){case"curtidos":c=c.sort((f,N)=>N.likesCount-f.likesCount);break;case"recentes":c=c.sort((f,N)=>new Date(N.createdAt).getTime()-new Date(f.createdAt).getTime());break;case"perto":c=c.filter(f=>f.bairroId===t?.id);break}return c.slice(0,3)},[p,r,t]),u=p.length,w=p.reduce((c,f)=>c+f.commentsCount,0),b=(c,f)=>f.bairro?.nome?f.bairro.nome:fe.find(N=>N.id===c)?.nome||"Tijucas",k=c=>{h("curtir")&&(navigator.vibrate&&navigator.vibrate(10),m.mutate({id:c.id,currentlyLiked:c.liked??!1}))},H=async c=>{if(navigator.share)try{await navigator.share({title:c.titulo,text:c.texto,url:window.location.href})}catch{}else await navigator.clipboard.writeText(window.location.href),i({title:"Link copiado!"})};return e.jsxs(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"px-4 py-4",children:[e.jsxs(a.div,{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-primary/10 via-primary/5 to-transparent p-4 mb-4",whileHover:{scale:1.01},transition:{type:"spring",stiffness:300},children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx(a.div,{animate:{scale:[1,1.2,1],opacity:[.1,.2,.1]},transition:{duration:3,repeat:1/0},className:"absolute -top-10 -right-10 w-40 h-40 rounded-full bg-primary/20"}),e.jsx(a.div,{animate:{scale:[1.2,1,1.2],opacity:[.1,.15,.1]},transition:{duration:4,repeat:1/0,delay:.5},className:"absolute -bottom-10 -left-10 w-32 h-32 rounded-full bg-primary/15"})]}),e.jsxs("div",{className:"relative flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(a.div,{animate:{rotate:[0,-10,10,-5,0]},transition:{duration:2,repeat:1/0,repeatDelay:3},className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center",children:e.jsx(ae,{className:"w-6 h-6 text-primary"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-bold text-foreground flex items-center gap-2",children:["Boca no Trombone",e.jsx(a.div,{animate:{scale:[1,1.2,1]},transition:{duration:1.5,repeat:1/0},children:e.jsx(W,{className:"w-4 h-4 text-yellow-500"})})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"A voz da comunidade"})]})]}),e.jsxs(R,{variant:"ghost",size:"sm",onClick:()=>n("forum"),className:"text-primary font-medium group",children:["Ver todos",e.jsx(_,{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform"})]})]}),e.jsxs(a.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"relative flex items-center gap-4 mt-3 pt-3 border-t border-primary/10",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[e.jsx(Qe,{className:"w-3.5 h-3.5"}),e.jsxs("span",{children:[e.jsx("strong",{className:"text-foreground",children:u})," tÃ³picos"]})]}),e.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-muted-foreground",children:[e.jsx(re,{className:"w-3.5 h-3.5"}),e.jsxs("span",{children:[e.jsx("strong",{className:"text-foreground",children:w})," comentÃ¡rios"]})]})]})]}),e.jsx("div",{className:"flex items-center gap-2 mb-3 overflow-x-auto scrollbar-hide -mx-4 px-4",children:[{id:"curtidos",label:"Mais curtidos",icon:Se},{id:"recentes",label:"Recentes",icon:z},{id:"perto",label:"Perto de mim",icon:M}].map(c=>{const f=c.icon,N=r===c.id;return e.jsxs(a.button,{whileTap:{scale:.95},whileHover:{y:-2},onClick:()=>x(c.id),className:`relative flex items-center gap-1.5 px-4 py-2 rounded-full whitespace-nowrap text-xs font-medium transition-all min-h-[36px] ${N?"bg-primary text-primary-foreground shadow-sm":"bg-muted text-muted-foreground hover:bg-muted-foreground/10"}`,children:[e.jsx(f,{className:"w-3.5 h-3.5"}),c.label,N&&e.jsx(a.div,{layoutId:"activeSort",className:"absolute inset-0 bg-primary rounded-full -z-10",transition:{type:"spring",stiffness:400,damping:30}})]},c.id)})}),e.jsxs(a.div,{className:"flex items-center justify-between mb-4 p-3 bg-muted/50 rounded-xl",whileHover:{backgroundColor:"hsl(var(--muted))"},children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[e.jsx(Ye,{checked:l,onCheckedChange:d,className:"scale-90"}),e.jsx("span",{className:"text-muted-foreground text-xs",children:"Postar anÃ´nimo"})]}),e.jsx(a.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsxs(R,{size:"sm",onClick:()=>s("/forum?novo=true"),className:"bg-primary text-primary-foreground text-xs h-9 px-4 shadow-sm",children:[e.jsx(ae,{className:"w-3.5 h-3.5 mr-1.5"}),"Abrir tÃ³pico"]})})]}),e.jsx(ze,{children:e.jsx("div",{className:"space-y-3",children:e.jsx(O,{mode:"popLayout",children:v.map((c,f)=>e.jsx(a.div,{layout:!0,initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.9},transition:{type:"spring",stiffness:300,damping:25,delay:f*.05},whileHover:{y:-2,boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},className:"bg-card rounded-2xl p-3 shadow-card border border-border/50 cursor-pointer",onClick:()=>n("forum"),children:e.jsxs("div",{className:"flex items-start gap-3",children:[c.fotoUrl&&e.jsxs(a.div,{className:"relative w-16 h-16 rounded-xl overflow-hidden flex-shrink-0",whileHover:{scale:1.05},children:[e.jsx("img",{src:c.fotoUrl,alt:"",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[e.jsx(pe,{className:`${Q[c.categoria].bg} ${Q[c.categoria].color} text-[10px] px-1.5 py-0 border-0`,children:Q[c.categoria].label}),e.jsxs("span",{className:"text-[10px] text-muted-foreground flex items-center gap-0.5",children:[e.jsx(M,{className:"w-2.5 h-2.5"}),b(c.bairroId,c)]}),e.jsx("span",{className:"text-[10px] text-muted-foreground ml-auto",children:We(c.createdAt)})]}),e.jsx("h3",{className:"font-medium text-sm text-foreground line-clamp-2 mb-2",children:c.titulo}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(a.button,{whileTap:{scale:.85},onClick:N=>{N.stopPropagation(),k(c)},className:"flex items-center gap-1 text-xs",children:[e.jsx(a.div,{animate:c.liked?{scale:[1,1.4,1]}:{},transition:{duration:.3},children:e.jsx(te,{className:`w-4 h-4 ${c.liked?"fill-red-500 text-red-500":"text-muted-foreground"}`})}),e.jsx("span",{className:c.liked?"text-red-500 font-medium":"text-muted-foreground",children:c.likesCount})]}),e.jsxs("button",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[e.jsx(re,{className:"w-4 h-4"}),e.jsx("span",{children:c.commentsCount})]}),e.jsx("button",{onClick:N=>{N.stopPropagation(),H(c)},className:"flex items-center gap-1 text-xs text-muted-foreground ml-auto hover:text-foreground transition-colors",children:e.jsx(Xe,{className:"w-4 h-4"})})]})]})]})},c.id))})})}),e.jsxs(a.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>n("forum"),className:"w-full mt-4 py-3 text-sm font-medium text-primary bg-primary/5 hover:bg-primary/10 rounded-xl transition-colors flex items-center justify-center gap-2",children:["Ver mais tÃ³picos",e.jsx(_,{className:"w-4 h-4"})]})]})}const Bt=[{id:"agenda",label:"Agenda de Eventos",icon:S,color:"bg-secondary/10 text-secondary",route:"/agenda"},{id:"turismo",label:"Pontos TurÃ­sticos",icon:M,color:"bg-green-100 text-green-600",route:"/pontos-turisticos"},{id:"missas",label:"HorÃ¡rios das Missas",icon:Je,color:"bg-primary/10 text-primary",route:"/missas"},{id:"telefones",label:"Telefones Ãšteis",icon:ye,color:"bg-accent/10 text-accent",route:"/telefones"},{id:"coleta",label:"Coleta de Lixo",icon:Te,color:"bg-emerald-100 text-emerald-600",route:"/coleta-lixo"},{id:"envios",label:"Fiscaliza Tijucas",icon:Ne,color:"bg-purple-100 text-purple-600",route:"/denuncias"}];function Ot({onNavigate:n}){const s=E(),t={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.05}}},o={hidden:{opacity:0,scale:.9},show:{opacity:1,scale:1,transition:{type:"spring",stiffness:300,damping:24}}},i=r=>{s(r.route)};return e.jsxs("div",{className:"px-4 py-4",children:[e.jsx("h2",{className:"text-lg font-bold text-foreground mb-3",children:"ServiÃ§os"}),e.jsx(a.div,{variants:t,initial:"hidden",animate:"show",className:"grid grid-cols-2 gap-3",children:Bt.map(r=>{const x=r.icon;return e.jsxs(a.button,{variants:o,whileTap:{scale:.95},onClick:()=>i(r),className:"bento-card flex items-center gap-3 text-left",children:[e.jsx("div",{className:`w-10 h-10 rounded-xl ${r.color} flex items-center justify-center flex-shrink-0`,children:e.jsx(x,{className:"w-5 h-5"})}),e.jsx("span",{className:"text-sm font-medium text-foreground leading-tight",children:r.label})]},r.id)})})]})}const zt={obras:gt,interdicao:ee,evento:S,clima:pt},Ht={obras:"from-orange-600 to-amber-500",interdicao:"from-red-600 to-rose-500",evento:"from-blue-600 to-sky-500",clima:"from-slate-600 to-slate-500"};function Lt({alerts:n,onDismiss:s,onTap:t}){const[o,i]=j.useState(0),[r,x]=j.useState(new Set),l=n.filter(u=>!r.has(u.id)),d=l[o%l.length];if(!d||l.length===0)return null;const p=zt[d.tipo]||et,g=Ht[d.tipo]||"from-gray-600 to-gray-500",m=u=>{u.stopPropagation(),y("light"),x(w=>new Set(w).add(d.id)),s?.(d.id)},h=()=>{y("selection"),t?.(d)},v=u=>{u.stopPropagation(),l.length>1&&i(w=>(w+1)%l.length)};return e.jsx(O,{mode:"wait",children:e.jsx(a.div,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},exit:{y:-100,opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:"sticky top-0 z-50",children:e.jsx(a.div,{role:"button",tabIndex:0,onClick:h,onKeyDown:u=>u.key==="Enter"&&h(),whileTap:{scale:.98},className:`w-full bg-gradient-to-r ${g} 
            p-3 shadow-lg text-white text-left cursor-pointer`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(a.div,{animate:{scale:[1,1.1,1],rotate:d.tipo==="interdicao"?[0,-5,5,0]:0},transition:{duration:1.5,repeat:1/0,repeatDelay:2},children:e.jsx(p,{className:"w-5 h-5 flex-shrink-0"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-semibold text-sm truncate",children:d.titulo}),e.jsx("p",{className:"text-xs opacity-80 truncate",children:d.descricao})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[l.length>1&&e.jsxs(a.button,{onClick:v,whileTap:{scale:.9},className:"text-xs bg-white/20 px-2 py-0.5 rounded-full hover:bg-white/30 transition-colors",children:[o+1,"/",l.length]}),e.jsx(_,{className:"w-4 h-4 opacity-60"}),e.jsx(a.button,{onClick:m,whileTap:{scale:.8},className:"p-1 hover:bg-white/20 rounded-full transition-colors","aria-label":"Fechar alerta",children:e.jsx(ve,{className:"w-4 h-4"})})]})]})})},d.id)})}const le=["from-violet-500 via-purple-500 to-fuchsia-500","from-cyan-500 via-blue-500 to-indigo-500","from-rose-500 via-pink-500 to-orange-400","from-emerald-500 via-teal-500 to-cyan-500","from-amber-500 via-orange-500 to-red-500"];function qt({onNavigate:n,onEventClick:s}){const t=j.useRef(null),{data:o,isLoading:i}=tt({perPage:15,orderBy:"startDateTime",order:"asc"}),r=o?.data??[],x=j.useMemo(()=>{if(!r||r.length===0)return 0;const m=at(new Date),h=rt(ie(m,7));return r.filter(v=>{try{const u=F(v.startDateTime);return it(u,{start:m,end:h})}catch{return!1}}).length},[r]),l=j.useMemo(()=>{if(!r||r.length===0)return 0;const m=new Date().toDateString();return r.filter(h=>{try{return F(h.startDateTime).toDateString()===m}catch{return!1}}).length},[r]),d=m=>{try{const h=F(m),v=new Date,u=ie(v,1);return h.toDateString()===v.toDateString()?"Hoje":h.toDateString()===u.toDateString()?"AmanhÃ£":h.toLocaleDateString("pt-BR",{weekday:"short",day:"numeric"})}catch{return"Em breve"}},p=m=>{try{return F(m).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}catch{return"--:--"}},g=m=>{y("selection"),s?.(m)};return i?e.jsxs("div",{className:"py-5",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 mb-4",children:[e.jsx("div",{className:"h-7 w-44 skeleton-shimmer rounded-lg"}),e.jsx("div",{className:"h-5 w-20 skeleton-shimmer rounded-lg"})]}),e.jsxs("div",{className:"flex gap-3 px-4 overflow-hidden",children:[e.jsx(oe,{}),e.jsx(oe,{})]})]}):r.length===0?e.jsx("div",{className:"py-5 px-4",children:e.jsxs("div",{className:"rounded-2xl border-2 border-dashed border-muted-foreground/20 bg-muted/50 p-6 text-center",children:[e.jsx(S,{className:"w-10 h-10 mx-auto text-muted-foreground/50 mb-3"}),e.jsx("h3",{className:"font-semibold text-muted-foreground",children:"Nenhum evento prÃ³ximo"}),e.jsx("p",{className:"text-sm text-muted-foreground/70 mt-1",children:"Confira a agenda completa para ver todos os eventos"}),e.jsx(a.button,{whileTap:{scale:.97},onClick:()=>n("agenda"),className:"mt-4 px-5 py-2.5 bg-primary text-primary-foreground rounded-full text-sm font-medium",children:"Ver Agenda"})]})}):e.jsxs("div",{className:"py-5",children:[e.jsxs("div",{className:"px-4 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-11 h-11 rounded-xl bg-gradient-to-br from-primary to-primary/70 flex items-center justify-center shadow-lg shadow-primary/30",children:e.jsx(W,{className:"w-5 h-5 text-white"})}),l>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-rose-500 rounded-full text-[10px] font-bold text-white flex items-center justify-center shadow-sm",children:l})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-foreground",children:"PrÃ³ximos Eventos"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.jsx("span",{className:"font-semibold text-primary",children:x})," eventos nesta semana"]})]})]}),e.jsxs(a.button,{whileTap:{scale:.95},onClick:()=>{y("light"),n("agenda")},className:"flex items-center gap-1.5 px-3.5 py-2 bg-muted hover:bg-muted/80 rounded-full text-sm font-medium text-foreground transition-colors",children:["Ver todos",e.jsx(_,{className:"w-4 h-4"})]})]}),e.jsxs("div",{className:"flex gap-2 mt-3 overflow-x-auto scrollbar-hide pb-1",children:[e.jsxs(a.button,{whileTap:{scale:.95},className:I("flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-medium shrink-0",l>0?"bg-rose-100 dark:bg-rose-900/30 text-rose-600 dark:text-rose-400":"bg-muted text-muted-foreground"),children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-rose-500"}),"Hoje: ",l]}),e.jsxs(a.div,{className:"flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-medium bg-primary/10 text-primary shrink-0",children:[e.jsx(S,{className:"w-3 h-3"}),"Semana: ",x]}),e.jsxs(a.div,{className:"flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-medium bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400 shrink-0",children:[e.jsx(st,{className:"w-3 h-3"}),"Gratuitos: ",r.filter(m=>m.ticket?.type==="free").length]})]})]}),e.jsx("div",{ref:t,className:"overflow-x-auto scrollbar-hide",children:e.jsxs(a.div,{className:"flex gap-3 px-4 pb-2",drag:"x",dragConstraints:t,dragElastic:.1,onDragStart:()=>y("selection"),children:[r.slice(0,10).map((m,h)=>e.jsxs(a.button,{initial:{opacity:0,scale:.9,y:10},animate:{opacity:1,scale:1,y:0},transition:{delay:h*.06,type:"spring",stiffness:200},whileTap:{scale:.97},onClick:()=>g(m.id),className:I("flex-shrink-0 w-72 h-36 rounded-2xl p-4 text-white text-left overflow-hidden relative group","bg-gradient-to-br shadow-lg",le[h%le.length]),children:[e.jsx("div",{className:"absolute inset-0 bg-white/5 opacity-0 group-hover:opacity-100 transition-opacity"}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden opacity-20",children:[e.jsx("div",{className:"absolute -top-6 -right-6 w-28 h-28 rounded-full bg-white/30 blur-xl"}),e.jsx("div",{className:"absolute -bottom-10 -left-10 w-36 h-36 rounded-full bg-white/20 blur-2xl"})]}),m.ticket?.type==="free"&&e.jsx("div",{className:"absolute top-3 right-3 px-2 py-0.5 bg-white/25 backdrop-blur-sm rounded-full text-[10px] font-bold uppercase tracking-wide",children:"GrÃ¡tis"}),e.jsxs("div",{className:"relative z-10 h-full flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs opacity-90",children:[e.jsx(S,{className:"w-3.5 h-3.5"}),e.jsx("span",{className:"font-medium",children:d(m.startDateTime)}),e.jsx("span",{className:"opacity-60",children:"â€¢"}),e.jsx(z,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:p(m.startDateTime)})]}),e.jsx("h3",{className:"font-bold mt-2 line-clamp-2 leading-snug text-[15px]",children:m.title})]}),e.jsxs("div",{className:"flex items-center gap-1.5 text-xs opacity-80",children:[e.jsx(M,{className:"w-3.5 h-3.5 shrink-0"}),e.jsxs("span",{className:"truncate",children:[m.venue?.name??"Tijucas",m.venue?.bairro?.nome&&` â€¢ ${m.venue.bairro.nome}`]})]})]})]},m.id)),e.jsxs(a.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:r.length*.06},whileTap:{scale:.97},onClick:()=>{y("light"),n("agenda")},className:I("flex-shrink-0 w-36 h-36 rounded-2xl","bg-gradient-to-br from-muted/80 to-muted border-2 border-dashed border-primary/30","flex flex-col items-center justify-center gap-3","text-primary hover:border-primary/50 transition-colors"),children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsx(S,{className:"w-6 h-6"})}),e.jsx("span",{className:"text-sm font-semibold",children:"Ver agenda"})]})]})})]})}function Ft({onNavigate:n}){const s=E(),{featuredSpots:t,isLoading:o,likeSpot:i}=nt(),[r,x]=j.useState(0),[l,d]=j.useState(!1),p=j.useRef(null);j.useEffect(()=>{if(!(l||t.length<=1))return p.current=setInterval(()=>{x(b=>(b+1)%t.length)},4e3),()=>{p.current&&clearInterval(p.current)}},[l,t.length]);const g=j.useCallback((b,k)=>{k.offset.x<-50?(x(c=>(c+1)%t.length),y("light")):k.offset.x>50&&(x(c=>(c-1+t.length)%t.length),y("light"))},[t.length]),m=j.useCallback(b=>{y("selection"),s(`/ponto-turistico/${b}`)},[s]),h=j.useCallback((b,k)=>{b.stopPropagation(),y("medium"),i(k)},[i]),v=j.useCallback(()=>{y("selection"),s("/pontos-turisticos")},[s]);if(o)return e.jsxs("div",{className:"px-4 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"h-6 w-40 skeleton-shimmer rounded"}),e.jsx("div",{className:"h-5 w-20 skeleton-shimmer rounded"})]}),e.jsx("div",{className:"h-48 skeleton-shimmer rounded-2xl"})]});if(!t||t.length===0)return null;const u=t[r],w=ot[u.categoria];return e.jsxs("div",{className:"py-4",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 mb-3",children:[e.jsxs("h2",{className:"text-lg font-bold text-foreground flex items-center gap-2",children:[e.jsx(a.div,{animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0,repeatDelay:2},children:e.jsx(Ce,{className:"w-5 h-5 text-primary"})}),"Descubra Tijucas"]}),e.jsxs(a.button,{whileTap:{scale:.95},onClick:v,className:"flex items-center gap-1 text-sm text-primary font-medium",children:["Ver todos ",e.jsx(_,{className:"w-4 h-4"})]})]}),e.jsxs("div",{className:"px-4",onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),children:[e.jsx(a.div,{drag:"x",dragConstraints:{left:0,right:0},dragElastic:.2,onDragEnd:g,className:"relative h-52 rounded-2xl overflow-hidden shadow-xl cursor-grab active:cursor-grabbing",children:e.jsx(O,{mode:"wait",children:e.jsxs(a.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},className:"absolute inset-0",onClick:()=>m(u.id),children:[u.imageUrl?e.jsx("img",{src:u.imageUrl,alt:u.titulo,className:"absolute inset-0 w-full h-full object-cover"}):e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary to-secondary"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/30 to-transparent"}),e.jsx(a.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"absolute top-3 left-3",children:e.jsxs("span",{className:"px-2.5 py-1 rounded-full text-xs font-medium bg-white/90 text-foreground backdrop-blur-sm flex items-center gap-1",children:[e.jsx("span",{children:w?.icon||"ðŸ“"}),w?.label||u.categoria]})}),e.jsx(a.button,{whileTap:{scale:.8},onClick:b=>h(b,u.id),className:I("absolute top-3 right-3 w-10 h-10 rounded-full flex items-center justify-center bg-white/90 backdrop-blur-sm shadow-lg",u.liked&&"bg-red-500"),children:e.jsx(te,{className:I("w-5 h-5 transition-all",u.liked?"fill-white text-white":"text-foreground")})}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[u.rating>0&&e.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[e.jsxs("div",{className:"flex items-center gap-0.5 px-2 py-0.5 rounded-full bg-amber-500 text-white",children:[e.jsx(lt,{className:"w-3 h-3 fill-current"}),e.jsx("span",{className:"text-xs font-bold",children:u.rating.toFixed(1)})]}),e.jsxs("span",{className:"text-xs text-white/80",children:["(",u.reviewsCount," avaliaÃ§Ãµes)"]})]}),e.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:u.titulo}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-white/80",children:[e.jsx(M,{className:"w-3 h-3"}),u.bairroNome||u.endereco?.split(",")[0]]}),e.jsxs(a.button,{whileTap:{scale:.95},className:"flex items-center gap-1.5 px-4 py-2 rounded-full bg-white text-foreground text-sm font-semibold mt-3",onClick:b=>{b.stopPropagation(),m(u.id)},children:[e.jsx(W,{className:"w-4 h-4"})," Explorar"]})]})]},u.id)})}),e.jsx("div",{className:"flex justify-center gap-1.5 mt-3",children:t.map((b,k)=>e.jsx(a.button,{onClick:()=>{x(k),y("light")},className:I("rounded-full transition-all duration-300",k===r?"w-6 h-2 bg-primary":"w-2 h-2 bg-muted-foreground/30"),whileTap:{scale:.9}},k))})]})]})}function $t(){const{shouldShowBanner:n,canInstallNative:s,isIOSSafari:t,promptInstall:o,dismiss:i,showIOSTutorial:r,hideIOSTutorial:x,isIOSTutorialVisible:l,isInstalled:d}=ct(),p=async()=>{await o()||i("later_24h")},g=m=>{m.stopPropagation(),i("later_7d")};return d||!n?e.jsx(ce,{isOpen:l,onClose:x}):e.jsxs(e.Fragment,{children:[e.jsx(O,{children:e.jsxs(a.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"relative overflow-hidden rounded-2xl bg-gradient-to-r from-primary via-primary to-primary/80 p-4 shadow-lg",children:[e.jsx("div",{className:"absolute -right-6 -top-6 w-24 h-24 rounded-full bg-white/10"}),e.jsx("div",{className:"absolute -left-3 -bottom-3 w-16 h-16 rounded-full bg-white/5"}),e.jsx("button",{onClick:g,className:"absolute right-2 top-2 p-1.5 hover:bg-white/20 rounded-full transition-colors z-10","aria-label":"Fechar",children:e.jsx(ve,{className:"h-4 w-4 text-white/80"})}),e.jsxs("div",{className:"relative flex items-center gap-3",children:[e.jsx("div",{className:"p-2.5 bg-white/20 rounded-xl backdrop-blur-sm shrink-0",children:e.jsx(De,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("h3",{className:"font-bold text-white text-base",children:"Instalar app"}),e.jsx(W,{className:"h-4 w-4 text-yellow-300"})]}),e.jsx("p",{className:"text-sm text-white/80 mt-0.5",children:"Acesso rÃ¡pido e funciona offline"})]}),t?e.jsxs(R,{onClick:r,size:"sm",variant:"secondary",className:"bg-white text-primary hover:bg-white/90 shrink-0 font-medium",children:[e.jsx(Ie,{className:"h-4 w-4 mr-1.5"}),"Como"]}):s?e.jsxs(R,{onClick:p,size:"sm",variant:"secondary",className:"bg-white text-primary hover:bg-white/90 shrink-0 font-medium",children:[e.jsx(dt,{className:"h-4 w-4 mr-1.5"}),"Instalar"]}):null]})]})}),e.jsx(ce,{isOpen:l,onClose:x})]})}function ce({isOpen:n,onClose:s}){const t=[{icon:e.jsx(Ie,{className:"h-6 w-6"}),title:"Toque em Compartilhar",description:"Na barra do Safari (quadrado com seta)"},{icon:e.jsx(mt,{className:"h-6 w-6"}),title:"Adicionar Ã  Tela de InÃ­cio",description:"Role e toque nessa opÃ§Ã£o"},{icon:e.jsx(ke,{className:"h-6 w-6"}),title:'Confirme tocando em "Adicionar"',description:"Pronto! O app aparecerÃ¡ na tela inicial"}];return e.jsx(me,{open:n,onOpenChange:o=>!o&&s(),children:e.jsxs(xe,{side:"bottom",className:"rounded-t-3xl pb-8",children:[e.jsx(he,{className:"pb-4",children:e.jsxs(ue,{className:"flex items-center gap-2 justify-center",children:[e.jsx(De,{className:"h-5 w-5 text-primary"}),"Instalar eTijucas"]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Siga os passos abaixo para adicionar o app:"}),e.jsx("div",{className:"space-y-3",children:t.map((o,i)=>e.jsxs(a.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:i*.1},className:"flex items-start gap-3 p-3 bg-muted/50 rounded-xl",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-primary/10 text-primary shrink-0 font-semibold",children:i+1}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-primary",children:o.icon}),e.jsx("span",{className:"font-medium text-sm",children:o.title})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:o.description})]})]},i))}),e.jsx(R,{onClick:s,className:"w-full mt-4",children:"Entendi"})]})]})})}function Ut(n,s,t,o,i){return o>=61&&o<=67?"ðŸŒ§ï¸ Chovendo agora":o>=80&&o<=82?"ðŸŒ¦ï¸ Pancadas de chuva":o>=95?"â›ˆï¸ Tempestade!":t?"ðŸŒ§ï¸ Chuva Ã  tarde":s>=35?"ðŸ¥µ Muito quente!":s>=30&&(i??0)>70?"ðŸ˜“ Abafado":s>=28?"â˜€ï¸ Dia quente":s<=15?"ðŸ§¥ Dia frio":s<=18?"ðŸƒ Fresco":o===0?"â˜€ï¸ CÃ©u limpo":o<=3?"â›… Parcialmente nublado":o>=45&&o<=48?"ðŸŒ«ï¸ Nevoeiro":"ðŸŒ¤ï¸ Tempo bom"}function Vt(){const n=E(),{data:s,isLoading:t,error:o}=xt({hours:6}),i=()=>{ut("light"),n("/previsao")};if(t)return e.jsx(Gt,{});if(o||!s?.current)return e.jsx(X,{className:"p-4 bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900 cursor-pointer",onClick:i,children:e.jsxs("div",{className:"flex items-center gap-3 text-muted-foreground",children:[e.jsx(D,{icon:"mdi:weather-cloudy-alert",className:"h-8 w-8"}),e.jsx("span",{className:"text-sm",children:"PrevisÃ£o indisponÃ­vel"})]})});const{current:r,today:x,next_hours:l,marine_preview:d}=s,p=ne(r.weather_code),g=Yt(x?.sunrise,x?.sunset),m=l?.some(v=>v.rain_prob_pct>50),h=Ut(r.temp_c,r.feels_like_c,m??!1,r.weather_code,r.feels_like_c>r.temp_c+3?80:50);return e.jsx(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:e.jsxs(X,{className:I("relative overflow-hidden cursor-pointer transition-all hover:shadow-lg active:scale-[0.98]","bg-gradient-to-br",g?"from-indigo-900 via-purple-900 to-slate-900 text-white":"from-sky-400 via-blue-500 to-indigo-600 text-white"),onClick:i,children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute -top-10 -right-10 w-40 h-40 bg-white/10 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute -bottom-10 -left-10 w-32 h-32 bg-white/5 rounded-full blur-2xl"})]}),e.jsxs("div",{className:"relative p-4 space-y-4",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(a.div,{animate:{rotate:r.weather_code===0?[0,10,-10,0]:0,scale:[1,1.05,1]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},children:e.jsx(D,{icon:g&&p.iconNight?p.iconNight:p.icon,className:"h-12 w-12 drop-shadow-lg"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-4xl font-bold tracking-tight",children:[Math.round(r.temp_c),"Â°"]}),e.jsx("div",{className:"text-sm font-medium text-white/90 mt-0.5",children:h})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm font-medium",children:r.description}),x&&e.jsxs("div",{className:"text-xs text-white/70 mt-1",children:["â†‘",Math.round(x.max_c),"Â° â†“",Math.round(x.min_c),"Â°"]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-2",children:[e.jsx(D,{icon:"mdi:weather-windy",className:"h-5 w-5 mx-auto mb-1 text-white/80"}),e.jsxs("div",{className:"text-sm font-semibold",children:[Math.round(r.wind_kmh)," km/h"]}),e.jsx("div",{className:"text-xs text-white/60",children:ht(r.wind_dir_deg)})]}),e.jsxs("div",{className:I("backdrop-blur-sm rounded-xl p-2",m?"bg-blue-400/30":"bg-white/10"),children:[e.jsx(D,{icon:"mdi:water",className:"h-5 w-5 mx-auto mb-1 text-white/80"}),e.jsxs("div",{className:"text-sm font-semibold",children:[x?.rain_prob_max_pct??0,"%"]}),e.jsx("div",{className:"text-xs text-white/60",children:"chuva"})]}),d&&e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-2",children:[e.jsx(D,{icon:"mdi:waves",className:"h-5 w-5 mx-auto mb-1 text-white/80"}),e.jsxs("div",{className:"text-sm font-semibold",children:[d.wave_m.toFixed(1),"m"]}),e.jsx("div",{className:"text-xs text-white/60",children:d.sea_temp_c?`${Math.round(d.sea_temp_c)}Â°`:"mar"})]})]}),l&&l.length>0&&e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1 scrollbar-hide",children:l.slice(0,6).map((v,u)=>{const w=ne(v.weather_code),b=new Date(v.t);return e.jsxs("div",{className:"flex-shrink-0 text-center bg-white/10 backdrop-blur-sm rounded-lg px-2 py-1.5",children:[e.jsxs("div",{className:"text-xs text-white/70",children:[b.getHours(),"h"]}),e.jsx(D,{icon:w.icon,className:"h-4 w-4 mx-auto my-0.5"}),e.jsxs("div",{className:"text-xs font-medium",children:[Math.round(v.temp_c),"Â°"]})]},u)})}),e.jsxs("div",{className:"flex items-center justify-center gap-1 text-xs text-white/50",children:[e.jsx("span",{children:"Toque para ver mais"}),e.jsx(D,{icon:"mdi:chevron-right",className:"h-4 w-4"})]})]})]})})}function Gt(){return e.jsxs(X,{className:"p-4 bg-gradient-to-br from-gray-200 to-gray-300 dark:from-gray-700 dark:to-gray-800",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(C,{className:"h-12 w-12 rounded-full"}),e.jsxs("div",{children:[e.jsx(C,{className:"h-10 w-16"}),e.jsx(C,{className:"h-4 w-24 mt-1"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(C,{className:"h-5 w-20"}),e.jsx(C,{className:"h-4 w-16 mt-1"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsx(C,{className:"h-16 rounded-xl"}),e.jsx(C,{className:"h-16 rounded-xl"}),e.jsx(C,{className:"h-16 rounded-xl"})]})]})}function Yt(n,s){if(!n||!s){const r=new Date().getHours();return r<6||r>=18}const t=new Date,o=new Date(n),i=new Date(s);return t<o||t>i}const V=80,G=120,de=.4;function Bs({scrollRef:n,onNavigate:s}){const t=j.useRef(null),o=j.useRef(0),{isRefreshing:i,setIsRefreshing:r}=B(),{toast:x}=be(),[l,d]=j.useState(!1),[p,g]=j.useState(!1),m=je,h=He(0,{stiffness:400,damping:40,mass:.5}),v=P(h,f=>f<=0?0:G*(1-Math.exp(-f/G*de*5))),u=P(h,[0,V],[0,180]),w=P(h,f=>f>=V?1.2:1),b=j.useCallback(async()=>{r(!0),y("success"),await new Promise(f=>setTimeout(f,1500)),r(!1),g(!1),x({title:"Atualizado agora",description:"ConteÃºdo atualizado com sucesso!"})},[r,x]),k=j.useCallback(f=>{t.current?.scrollTop===0&&!i&&(o.current=f.touches[0].clientY,d(!0),g(!1))},[i]),H=j.useCallback(f=>{if(!l||i)return;if(t.current&&t.current.scrollTop>0){d(!1),h.set(0);return}const K=f.touches[0].clientY-o.current;if(K>0){const se=K*Math.pow(de,K/G);h.set(Math.min(se,G*1.5)),se>=V&&!p&&(y("medium"),g(!0))}},[l,i,h,p]),c=j.useCallback(()=>{if(!l)return;h.get()>=V&&!i?(h.set(60),b()):h.set(0),d(!1)},[l,h,i,b]);return Y.useEffect(()=>{i||h.set(0)},[i,h]),e.jsxs("div",{ref:f=>{t&&(t.current=f),n(f)},className:"h-full overflow-y-auto overflow-x-hidden scrollbar-hide",onTouchStart:k,onTouchMove:H,onTouchEnd:c,children:[e.jsx(Lt,{alerts:m,onTap:f=>{y("selection")}}),e.jsx(O,{children:(h.get()>0||i)&&e.jsxs(a.div,{style:{height:i?60:v},className:"flex items-center justify-center bg-gradient-to-b from-primary/10 to-transparent overflow-hidden",children:[e.jsx(a.div,{style:{rotate:i?void 0:u,scale:w},animate:i?{rotate:360}:void 0,transition:i?{repeat:1/0,duration:1,ease:"linear"}:void 0,className:"flex items-center justify-center",children:e.jsx(Be,{className:`w-6 h-6 transition-colors ${p||i?"text-primary":"text-muted-foreground"}`})}),p&&!i&&e.jsx(a.span,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},className:"absolute mt-10 text-xs text-primary font-medium",children:"Solte para atualizar"})]})}),e.jsx(kt,{scrollRef:t,todayEventsCount:0,hasActiveAlert:m.length>0,streakDays:3}),e.jsxs("div",{className:"pb-24",children:[e.jsx(Ct,{onNavigate:s}),e.jsx("div",{className:"px-4 pb-2",children:e.jsx($t,{})}),e.jsx("div",{className:"px-4 pb-4",children:e.jsx(Vt,{})}),e.jsx(At,{onNavigate:s}),e.jsx(qt,{onNavigate:s}),e.jsx(Ft,{onNavigate:s}),e.jsx(Rt,{onNavigate:s}),e.jsx(_t,{onNavigate:s}),e.jsx(Ot,{onNavigate:s})]})]})}export{Bs as default};
