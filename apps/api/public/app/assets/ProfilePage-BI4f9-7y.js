import{g as Je,aa as Qe,r as d,ab as S,j as t,l as ne,m as w,X as et,ac as tt,Z as I,ad as Ce,ae as at,af as rt,a9 as ot,a0 as he,E as re,ag as st,ah as it,ai as nt,aj as ct,s as lt,_ as Ne,ak as ee,M as Se,L as le,al as Re,am as dt,a3 as ht,an as te,ao as Pe,ap as Ee,a4 as pt,a5 as ut}from"./vendor-app-L90565EI.js";import{t as mt,f as Ae}from"./auth.service-BW-PeZUX.js";import{a as K,E as Z,A as ft}from"./client-BdVdTjkU.js";import{B as P,c as W,u as xt}from"./index-Df2jNpcx.js";import{I as H}from"./input-DS8k7m0y.js";import{L as B}from"./label-CYdkBzn7.js";import{C as G}from"./card-5YiuobC4.js";import{S as de}from"./switch-BMri11J6.js";import{A as gt}from"./AddressAutocomplete-BJAnIz4Q.js";import{S as vt}from"./slider-CGEaEN_i.js";import{B as wt}from"./BottomTabBar-DPpPLToD.js";import{u as yt}from"./useAuthStore-DShg7od0.js";import{u as bt}from"./useAppStore-DIyb1zqK.js";import{m as ze,P as jt}from"./auth-utils-B5I9WPFS.js";import"./useCityName-CQpT0qaj.js";import"./bairros-Cf5Z_oCw.js";import"./uuid-BwYzP5ph.js";const J={async getProfile(){return(await K.get(Z.users.me)).data},async updateProfile(s){return(await K.put(Z.users.update,s)).data},async uploadAvatar(s){const o=new FormData;o.append("file",s);const e=mt.getToken(),a=`${ft.baseURL}${Z.users.avatar}`,r=await fetch(a,{method:"POST",headers:{Accept:"application/json",...e&&{Authorization:`Bearer ${e}`}},body:o});if(!r.ok){const c=await r.json().catch(()=>({}));throw new Error(c.message||"Falha no upload da imagem")}return await r.json()},async removeAvatar(){await K.delete(Z.users.avatar)},async changePassword(s){await K.put(Z.users.password,s)},async updateNotifications(s){return(await K.put(Z.users.notifications,s)).data}};var De=!1,F,pe,ue,oe,se,Oe,ie,me,fe,xe,Ue,ge,ve,Ze,He;function R(){if(!De){De=!0;var s=navigator.userAgent,o=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(s),e=/(Mac OS X)|(Windows)|(Linux)/.exec(s);if(ge=/\b(iPhone|iP[ao]d)/.exec(s),ve=/\b(iP[ao]d)/.exec(s),xe=/Android/i.exec(s),Ze=/FBAN\/\w+;/i.exec(s),He=/Mobile/i.exec(s),Ue=!!/Win64/.exec(s),o){F=o[1]?parseFloat(o[1]):o[5]?parseFloat(o[5]):NaN,F&&document&&document.documentMode&&(F=document.documentMode);var a=/(?:Trident\/(\d+.\d+))/.exec(s);Oe=a?parseFloat(a[1])+4:F,pe=o[2]?parseFloat(o[2]):NaN,ue=o[3]?parseFloat(o[3]):NaN,oe=o[4]?parseFloat(o[4]):NaN,oe?(o=/(?:Chrome\/(\d+\.\d+))/.exec(s),se=o&&o[1]?parseFloat(o[1]):NaN):se=NaN}else F=pe=ue=se=oe=NaN;if(e){if(e[1]){var r=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(s);ie=r?parseFloat(r[1].replace("_",".")):!0}else ie=!1;me=!!e[2],fe=!!e[3]}else ie=me=fe=!1}}var we={ie:function(){return R()||F},ieCompatibilityMode:function(){return R()||Oe>F},ie64:function(){return we.ie()&&Ue},firefox:function(){return R()||pe},opera:function(){return R()||ue},webkit:function(){return R()||oe},safari:function(){return we.webkit()},chrome:function(){return R()||se},windows:function(){return R()||me},osx:function(){return R()||ie},linux:function(){return R()||fe},iphone:function(){return R()||ge},mobile:function(){return R()||ge||ve||xe||He},nativeApp:function(){return R()||Ze},android:function(){return R()||xe},ipad:function(){return R()||ve}},Ct=we,Nt=!!(typeof window<"u"&&window.document&&window.document.createElement),St={canUseDOM:Nt},Rt=St,Be=Rt,Ge;Be.canUseDOM&&(Ge=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function Pt(s,o){if(!Be.canUseDOM||o&&!("addEventListener"in document))return!1;var e="on"+s,a=e in document;if(!a){var r=document.createElement("div");r.setAttribute(e,"return;"),a=typeof r[e]=="function"}return!a&&Ge&&s==="wheel"&&(a=document.implementation.hasFeature("Events.wheel","3.0")),a}var Et=Pt,At=Ct,zt=Et,_e=10,Me=40,ke=800;function Xe(s){var o=0,e=0,a=0,r=0;return"detail"in s&&(e=s.detail),"wheelDelta"in s&&(e=-s.wheelDelta/120),"wheelDeltaY"in s&&(e=-s.wheelDeltaY/120),"wheelDeltaX"in s&&(o=-s.wheelDeltaX/120),"axis"in s&&s.axis===s.HORIZONTAL_AXIS&&(o=e,e=0),a=o*_e,r=e*_e,"deltaY"in s&&(r=s.deltaY),"deltaX"in s&&(a=s.deltaX),(a||r)&&s.deltaMode&&(s.deltaMode==1?(a*=Me,r*=Me):(a*=ke,r*=ke)),a&&!o&&(o=a<1?-1:1),r&&!e&&(e=r<1?-1:1),{spinX:o,spinY:e,pixelX:a,pixelY:r}}Xe.getEventType=function(){return At.firefox()?"DOMMouseScroll":zt("wheel")?"wheel":"mousewheel"};var Dt=Xe,_t=Dt;const Mt=Je(_t);function kt(s,o,e,a,r,i){i===void 0&&(i=0);var c=X(s,o,i),n=c.width,l=c.height,h=Math.min(n,e),p=Math.min(l,a);return h>p*r?{width:p*r,height:p}:{width:h,height:h/r}}function Tt(s){return s.width>s.height?s.width/s.naturalWidth:s.height/s.naturalHeight}function Q(s,o,e,a,r){r===void 0&&(r=0);var i=X(o.width,o.height,r),c=i.width,n=i.height;return{x:Te(s.x,c,e.width,a),y:Te(s.y,n,e.height,a)}}function Te(s,o,e,a){var r=o*a/2-e/2;return ce(s,-r,r)}function Fe(s,o){return Math.sqrt(Math.pow(s.y-o.y,2)+Math.pow(s.x-o.x,2))}function Ie(s,o){return Math.atan2(o.y-s.y,o.x-s.x)*180/Math.PI}function Ft(s,o,e,a,r,i,c){i===void 0&&(i=0),c===void 0&&(c=!0);var n=c?It:Wt,l=X(o.width,o.height,i),h=X(o.naturalWidth,o.naturalHeight,i),p={x:n(100,((l.width-e.width/r)/2-s.x/r)/l.width*100),y:n(100,((l.height-e.height/r)/2-s.y/r)/l.height*100),width:n(100,e.width/l.width*100/r),height:n(100,e.height/l.height*100/r)},m=Math.round(n(h.width,p.width*h.width/100)),u=Math.round(n(h.height,p.height*h.height/100)),g=h.width>=h.height*a,y=g?{width:Math.round(u*a),height:u}:{width:m,height:Math.round(m/a)},v=S(S({},y),{x:Math.round(n(h.width-y.width,p.x*h.width/100)),y:Math.round(n(h.height-y.height,p.y*h.height/100))});return{croppedAreaPercentages:p,croppedAreaPixels:v}}function It(s,o){return Math.min(s,Math.max(0,o))}function Wt(s,o){return o}function Lt(s,o,e,a,r,i){var c=X(o.width,o.height,e),n=ce(a.width/c.width*(100/s.width),r,i),l={x:n*c.width/2-a.width/2-c.width*n*(s.x/100),y:n*c.height/2-a.height/2-c.height*n*(s.y/100)};return{crop:l,zoom:n}}function Ot(s,o,e){var a=Tt(o);return e.height>e.width?e.height/(s.height*a):e.width/(s.width*a)}function Ut(s,o,e,a,r,i){e===void 0&&(e=0);var c=X(o.naturalWidth,o.naturalHeight,e),n=ce(Ot(s,o,a),r,i),l=a.height>a.width?a.height/s.height:a.width/s.width,h={x:((c.width-s.width)/2-s.x)*l,y:((c.height-s.height)/2-s.y)*l};return{crop:h,zoom:n}}function We(s,o){return{x:(o.x+s.x)/2,y:(o.y+s.y)/2}}function Zt(s){return s*Math.PI/180}function X(s,o,e){var a=Zt(e);return{width:Math.abs(Math.cos(a)*s)+Math.abs(Math.sin(a)*o),height:Math.abs(Math.sin(a)*s)+Math.abs(Math.cos(a)*o)}}function ce(s,o,e){return Math.min(Math.max(s,o),e)}function ae(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];return s.filter(function(e){return typeof e=="string"&&e.length>0}).join(" ").trim()}var Ht=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,Bt=1,Gt=3,Xt=1,Vt=function(s){Qe(o,s);function o(){var e=s!==null&&s.apply(this,arguments)||this;return e.cropperRef=d.createRef(),e.imageRef=d.createRef(),e.videoRef=d.createRef(),e.containerPosition={x:0,y:0},e.containerRef=null,e.styleRef=null,e.containerRect=null,e.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},e.dragStartPosition={x:0,y:0},e.dragStartCrop={x:0,y:0},e.gestureZoomStart=0,e.gestureRotationStart=0,e.isTouching=!1,e.lastPinchDistance=0,e.lastPinchRotation=0,e.rafDragTimeout=null,e.rafPinchTimeout=null,e.wheelTimer=null,e.currentDoc=typeof document<"u"?document:null,e.currentWindow=typeof window<"u"?window:null,e.resizeObserver=null,e.previousCropSize=null,e.isInitialized=!1,e.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},e.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!e.containerRef)){var a=!0;e.resizeObserver=new window.ResizeObserver(function(r){if(a){a=!1;return}e.computeSizes()}),e.resizeObserver.observe(e.containerRef)}},e.preventZoomSafari=function(a){return a.preventDefault()},e.cleanEvents=function(){e.currentDoc&&(e.currentDoc.removeEventListener("mousemove",e.onMouseMove),e.currentDoc.removeEventListener("mouseup",e.onDragStopped),e.currentDoc.removeEventListener("touchmove",e.onTouchMove),e.currentDoc.removeEventListener("touchend",e.onDragStopped),e.currentDoc.removeEventListener("gesturechange",e.onGestureChange),e.currentDoc.removeEventListener("gestureend",e.onGestureEnd),e.currentDoc.removeEventListener("scroll",e.onScroll))},e.clearScrollEvent=function(){e.containerRef&&e.containerRef.removeEventListener("wheel",e.onWheel),e.wheelTimer&&clearTimeout(e.wheelTimer)},e.onMediaLoad=function(){var a=e.computeSizes();a&&(e.previousCropSize=a,e.emitCropData(),e.setInitialCrop(a),e.isInitialized=!0),e.props.onMediaLoaded&&e.props.onMediaLoaded(e.mediaSize)},e.setInitialCrop=function(a){if(e.props.initialCroppedAreaPercentages){var r=Lt(e.props.initialCroppedAreaPercentages,e.mediaSize,e.props.rotation,a,e.props.minZoom,e.props.maxZoom),i=r.crop,c=r.zoom;e.props.onCropChange(i),e.props.onZoomChange&&e.props.onZoomChange(c)}else if(e.props.initialCroppedAreaPixels){var n=Ut(e.props.initialCroppedAreaPixels,e.mediaSize,e.props.rotation,a,e.props.minZoom,e.props.maxZoom),i=n.crop,c=n.zoom;e.props.onCropChange(i),e.props.onZoomChange&&e.props.onZoomChange(c)}},e.computeSizes=function(){var a,r,i,c,n,l,h=e.imageRef.current||e.videoRef.current;if(h&&e.containerRef){e.containerRect=e.containerRef.getBoundingClientRect(),e.saveContainerPosition();var p=e.containerRect.width/e.containerRect.height,m=((a=e.imageRef.current)===null||a===void 0?void 0:a.naturalWidth)||((r=e.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,u=((i=e.imageRef.current)===null||i===void 0?void 0:i.naturalHeight)||((c=e.videoRef.current)===null||c===void 0?void 0:c.videoHeight)||0,g=h.offsetWidth<m||h.offsetHeight<u,y=m/u,v=void 0;if(g)switch(e.state.mediaObjectFit){default:case"contain":v=p>y?{width:e.containerRect.height*y,height:e.containerRect.height}:{width:e.containerRect.width,height:e.containerRect.width/y};break;case"horizontal-cover":v={width:e.containerRect.width,height:e.containerRect.width/y};break;case"vertical-cover":v={width:e.containerRect.height*y,height:e.containerRect.height};break}else v={width:h.offsetWidth,height:h.offsetHeight};e.mediaSize=S(S({},v),{naturalWidth:m,naturalHeight:u}),e.props.setMediaSize&&e.props.setMediaSize(e.mediaSize);var j=e.props.cropSize?e.props.cropSize:kt(e.mediaSize.width,e.mediaSize.height,e.containerRect.width,e.containerRect.height,e.props.aspect,e.props.rotation);return(((n=e.state.cropSize)===null||n===void 0?void 0:n.height)!==j.height||((l=e.state.cropSize)===null||l===void 0?void 0:l.width)!==j.width)&&e.props.onCropSizeChange&&e.props.onCropSizeChange(j),e.setState({cropSize:j},e.recomputeCropPosition),e.props.setCropSize&&e.props.setCropSize(j),j}},e.saveContainerPosition=function(){if(e.containerRef){var a=e.containerRef.getBoundingClientRect();e.containerPosition={x:a.left,y:a.top}}},e.onMouseDown=function(a){e.currentDoc&&(a.preventDefault(),e.currentDoc.addEventListener("mousemove",e.onMouseMove),e.currentDoc.addEventListener("mouseup",e.onDragStopped),e.saveContainerPosition(),e.onDragStart(o.getMousePoint(a)))},e.onMouseMove=function(a){return e.onDrag(o.getMousePoint(a))},e.onScroll=function(a){e.currentDoc&&(a.preventDefault(),e.saveContainerPosition())},e.onTouchStart=function(a){e.currentDoc&&(e.isTouching=!0,!(e.props.onTouchRequest&&!e.props.onTouchRequest(a))&&(e.currentDoc.addEventListener("touchmove",e.onTouchMove,{passive:!1}),e.currentDoc.addEventListener("touchend",e.onDragStopped),e.saveContainerPosition(),a.touches.length===2?e.onPinchStart(a):a.touches.length===1&&e.onDragStart(o.getTouchPoint(a.touches[0]))))},e.onTouchMove=function(a){a.preventDefault(),a.touches.length===2?e.onPinchMove(a):a.touches.length===1&&e.onDrag(o.getTouchPoint(a.touches[0]))},e.onGestureStart=function(a){e.currentDoc&&(a.preventDefault(),e.currentDoc.addEventListener("gesturechange",e.onGestureChange),e.currentDoc.addEventListener("gestureend",e.onGestureEnd),e.gestureZoomStart=e.props.zoom,e.gestureRotationStart=e.props.rotation)},e.onGestureChange=function(a){if(a.preventDefault(),!e.isTouching){var r=o.getMousePoint(a),i=e.gestureZoomStart-1+a.scale;if(e.setNewZoom(i,r,{shouldUpdatePosition:!0}),e.props.onRotationChange){var c=e.gestureRotationStart+a.rotation;e.props.onRotationChange(c)}}},e.onGestureEnd=function(a){e.cleanEvents()},e.onDragStart=function(a){var r,i,c=a.x,n=a.y;e.dragStartPosition={x:c,y:n},e.dragStartCrop=S({},e.props.crop),(i=(r=e.props).onInteractionStart)===null||i===void 0||i.call(r)},e.onDrag=function(a){var r=a.x,i=a.y;e.currentWindow&&(e.rafDragTimeout&&e.currentWindow.cancelAnimationFrame(e.rafDragTimeout),e.rafDragTimeout=e.currentWindow.requestAnimationFrame(function(){if(e.state.cropSize&&!(r===void 0||i===void 0)){var c=r-e.dragStartPosition.x,n=i-e.dragStartPosition.y,l={x:e.dragStartCrop.x+c,y:e.dragStartCrop.y+n},h=e.props.restrictPosition?Q(l,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):l;e.props.onCropChange(h)}}))},e.onDragStopped=function(){var a,r;e.isTouching=!1,e.cleanEvents(),e.emitCropData(),(r=(a=e.props).onInteractionEnd)===null||r===void 0||r.call(a)},e.onWheel=function(a){if(e.currentWindow&&!(e.props.onWheelRequest&&!e.props.onWheelRequest(a))){a.preventDefault();var r=o.getMousePoint(a),i=Mt(a).pixelY,c=e.props.zoom-i*e.props.zoomSpeed/200;e.setNewZoom(c,r,{shouldUpdatePosition:!0}),e.state.hasWheelJustStarted||e.setState({hasWheelJustStarted:!0},function(){var n,l;return(l=(n=e.props).onInteractionStart)===null||l===void 0?void 0:l.call(n)}),e.wheelTimer&&clearTimeout(e.wheelTimer),e.wheelTimer=e.currentWindow.setTimeout(function(){return e.setState({hasWheelJustStarted:!1},function(){var n,l;return(l=(n=e.props).onInteractionEnd)===null||l===void 0?void 0:l.call(n)})},250)}},e.getPointOnContainer=function(a,r){var i=a.x,c=a.y;if(!e.containerRect)throw new Error("The Cropper is not mounted");return{x:e.containerRect.width/2-(i-r.x),y:e.containerRect.height/2-(c-r.y)}},e.getPointOnMedia=function(a){var r=a.x,i=a.y,c=e.props,n=c.crop,l=c.zoom;return{x:(r+n.x)/l,y:(i+n.y)/l}},e.setNewZoom=function(a,r,i){var c=i===void 0?{}:i,n=c.shouldUpdatePosition,l=n===void 0?!0:n;if(!(!e.state.cropSize||!e.props.onZoomChange)){var h=ce(a,e.props.minZoom,e.props.maxZoom);if(l){var p=e.getPointOnContainer(r,e.containerPosition),m=e.getPointOnMedia(p),u={x:m.x*h-p.x,y:m.y*h-p.y},g=e.props.restrictPosition?Q(u,e.mediaSize,e.state.cropSize,h,e.props.rotation):u;e.props.onCropChange(g)}e.props.onZoomChange(h)}},e.getCropData=function(){if(!e.state.cropSize)return null;var a=e.props.restrictPosition?Q(e.props.crop,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):e.props.crop;return Ft(a,e.mediaSize,e.state.cropSize,e.getAspect(),e.props.zoom,e.props.rotation,e.props.restrictPosition)},e.emitCropData=function(){var a=e.getCropData();if(a){var r=a.croppedAreaPercentages,i=a.croppedAreaPixels;e.props.onCropComplete&&e.props.onCropComplete(r,i),e.props.onCropAreaChange&&e.props.onCropAreaChange(r,i)}},e.emitCropAreaChange=function(){var a=e.getCropData();if(a){var r=a.croppedAreaPercentages,i=a.croppedAreaPixels;e.props.onCropAreaChange&&e.props.onCropAreaChange(r,i)}},e.recomputeCropPosition=function(){var a,r;if(e.state.cropSize){var i=e.props.crop;if(e.isInitialized&&(!((a=e.previousCropSize)===null||a===void 0)&&a.width)&&(!((r=e.previousCropSize)===null||r===void 0)&&r.height)){var c=Math.abs(e.previousCropSize.width-e.state.cropSize.width)>1e-6||Math.abs(e.previousCropSize.height-e.state.cropSize.height)>1e-6;if(c){var n=e.state.cropSize.width/e.previousCropSize.width,l=e.state.cropSize.height/e.previousCropSize.height;i={x:e.props.crop.x*n,y:e.props.crop.y*l}}}var h=e.props.restrictPosition?Q(i,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):i;e.previousCropSize=e.state.cropSize,e.props.onCropChange(h),e.emitCropData()}},e.onKeyDown=function(a){var r,i,c=e.props,n=c.crop,l=c.onCropChange,h=c.keyboardStep,p=c.zoom,m=c.rotation,u=h;if(e.state.cropSize){a.shiftKey&&(u*=.2);var g=S({},n);switch(a.key){case"ArrowUp":g.y-=u,a.preventDefault();break;case"ArrowDown":g.y+=u,a.preventDefault();break;case"ArrowLeft":g.x-=u,a.preventDefault();break;case"ArrowRight":g.x+=u,a.preventDefault();break;default:return}e.props.restrictPosition&&(g=Q(g,e.mediaSize,e.state.cropSize,p,m)),a.repeat||(i=(r=e.props).onInteractionStart)===null||i===void 0||i.call(r),l(g)}},e.onKeyUp=function(a){var r,i;switch(a.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":a.preventDefault();break;default:return}e.emitCropData(),(i=(r=e.props).onInteractionEnd)===null||i===void 0||i.call(r)},e}return o.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=Ht,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},o.prototype.componentWillUnmount=function(){var e,a;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((a=this.styleRef.parentNode)===null||a===void 0||a.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},o.prototype.componentDidUpdate=function(e){var a,r,i,c,n,l,h,p,m;e.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):e.aspect!==this.props.aspect?this.computeSizes():e.objectFit!==this.props.objectFit?this.computeSizes():e.zoom!==this.props.zoom?this.recomputeCropPosition():((a=e.cropSize)===null||a===void 0?void 0:a.height)!==((r=this.props.cropSize)===null||r===void 0?void 0:r.height)||((i=e.cropSize)===null||i===void 0?void 0:i.width)!==((c=this.props.cropSize)===null||c===void 0?void 0:c.width)?this.computeSizes():(((n=e.crop)===null||n===void 0?void 0:n.x)!==((l=this.props.crop)===null||l===void 0?void 0:l.x)||((h=e.crop)===null||h===void 0?void 0:h.y)!==((p=this.props.crop)===null||p===void 0?void 0:p.y))&&this.emitCropAreaChange(),e.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),e.video!==this.props.video&&((m=this.videoRef.current)===null||m===void 0||m.load());var u=this.getObjectFit();u!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:u},this.computeSizes)},o.prototype.getAspect=function(){var e=this.props,a=e.cropSize,r=e.aspect;return a?a.width/a.height:r},o.prototype.getObjectFit=function(){var e,a,r,i;if(this.props.objectFit==="cover"){var c=this.imageRef.current||this.videoRef.current;if(c&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var n=this.containerRect.width/this.containerRect.height,l=((e=this.imageRef.current)===null||e===void 0?void 0:e.naturalWidth)||((a=this.videoRef.current)===null||a===void 0?void 0:a.videoWidth)||0,h=((r=this.imageRef.current)===null||r===void 0?void 0:r.naturalHeight)||((i=this.videoRef.current)===null||i===void 0?void 0:i.videoHeight)||0,p=l/h;return p<n?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},o.prototype.onPinchStart=function(e){var a=o.getTouchPoint(e.touches[0]),r=o.getTouchPoint(e.touches[1]);this.lastPinchDistance=Fe(a,r),this.lastPinchRotation=Ie(a,r),this.onDragStart(We(a,r))},o.prototype.onPinchMove=function(e){var a=this;if(!(!this.currentDoc||!this.currentWindow)){var r=o.getTouchPoint(e.touches[0]),i=o.getTouchPoint(e.touches[1]),c=We(r,i);this.onDrag(c),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var n=Fe(r,i),l=a.props.zoom*(n/a.lastPinchDistance);a.setNewZoom(l,c,{shouldUpdatePosition:!1}),a.lastPinchDistance=n;var h=Ie(r,i),p=a.props.rotation+(h-a.lastPinchRotation);a.props.onRotationChange&&a.props.onRotationChange(p),a.lastPinchRotation=h})}},o.prototype.render=function(){var e=this,a,r=this.props,i=r.image,c=r.video,n=r.mediaProps,l=r.cropperProps,h=r.transform,p=r.crop,m=p.x,u=p.y,g=r.rotation,y=r.zoom,v=r.cropShape,j=r.showGrid,f=r.roundCropAreaPixels,z=r.style,E=z.containerStyle,V=z.cropAreaStyle,L=z.mediaStyle,T=r.classes,Y=T.containerClassName,$=T.cropAreaClassName,O=T.mediaClassName,_=(a=this.state.mediaObjectFit)!==null&&a!==void 0?a:this.getObjectFit();return d.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(b){return e.containerRef=b},"data-testid":"container",style:E,className:ae("reactEasyCrop_Container",Y)},i?d.createElement("img",S({alt:"",className:ae("reactEasyCrop_Image",_==="contain"&&"reactEasyCrop_Contain",_==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",_==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",O)},n,{src:i,ref:this.imageRef,style:S(S({},L),{transform:h||"translate(".concat(m,"px, ").concat(u,"px) rotate(").concat(g,"deg) scale(").concat(y,")")}),onLoad:this.onMediaLoad})):c&&d.createElement("video",S({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:ae("reactEasyCrop_Video",_==="contain"&&"reactEasyCrop_Contain",_==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",_==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",O)},n,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:S(S({},L),{transform:h||"translate(".concat(m,"px, ").concat(u,"px) rotate(").concat(g,"deg) scale(").concat(y,")")}),controls:!1}),(Array.isArray(c)?c:[{src:c}]).map(function(C){return d.createElement("source",S({key:C.src},C))})),this.state.cropSize&&d.createElement("div",S({ref:this.cropperRef,style:S(S({},V),{width:f?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:f?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:ae("reactEasyCrop_CropArea",v==="round"&&"reactEasyCrop_CropAreaRound",j&&"reactEasyCrop_CropAreaGrid",$)},l)))},o.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:Gt,minZoom:Bt,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:Xt},o.getMousePoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},o.getTouchPoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},o}(d.Component);async function Yt(s,o,e=0){const a=await $t(s),r=document.createElement("canvas"),i=r.getContext("2d");if(!i)throw new Error("No 2d context");const n=2*(Math.max(a.width,a.height)/2*Math.sqrt(2));r.width=n,r.height=n,i.translate(n/2,n/2),i.rotate(e*Math.PI/180),i.translate(-n/2,-n/2),i.drawImage(a,n/2-a.width/2,n/2-a.height/2);const l=i.getImageData(0,0,n,n);return r.width=o.width,r.height=o.height,i.putImageData(l,Math.round(0-n/2+a.width/2-o.x),Math.round(0-n/2+a.height/2-o.y)),r.toDataURL("image/jpeg",.9)}function $t(s){return new Promise((o,e)=>{const a=new Image;a.addEventListener("load",()=>o(a)),a.addEventListener("error",r=>e(r)),a.crossOrigin="anonymous",a.src=s})}function qt({image:s,onCrop:o,onCancel:e,aspectRatio:a=1}){const[r,i]=d.useState({x:0,y:0}),[c,n]=d.useState(1),[l,h]=d.useState(0),[p,m]=d.useState(null),[u,g]=d.useState(!1),y=d.useCallback((f,z)=>{m(z)},[]),v=d.useCallback(async()=>{if(p){g(!0);try{const f=await Yt(s,p,l);o(f)}catch(f){console.error("Error cropping image:",f)}finally{g(!1)}}},[p,s,l,o]),j=d.useCallback(()=>{h(f=>(f+90)%360)},[]);return t.jsx(ne,{children:t.jsxs(w.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] bg-black flex flex-col",children:[t.jsxs(w.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"flex items-center justify-between p-4 text-white safe-top",children:[t.jsx(P,{variant:"ghost",size:"icon",onClick:e,className:"text-white hover:bg-white/10 rounded-full",children:t.jsx(et,{className:"h-6 w-6"})}),t.jsxs("h2",{className:"font-semibold text-lg flex items-center gap-2",children:[t.jsx(tt,{className:"h-5 w-5"}),"Ajustar foto"]}),t.jsx(P,{variant:"ghost",size:"icon",onClick:v,disabled:u,className:"text-green-400 hover:bg-green-500/20 rounded-full",children:t.jsx(I,{className:"h-6 w-6"})})]}),t.jsx("div",{className:"relative flex-1 bg-black",children:t.jsx(Vt,{image:s,crop:r,zoom:c,rotation:l,aspect:a,cropShape:"round",showGrid:!1,onCropChange:i,onZoomChange:n,onCropComplete:y,classes:{containerClassName:"bg-black",cropAreaClassName:"rounded-full"},style:{containerStyle:{background:"#000"},cropAreaStyle:{border:"3px solid rgba(255, 255, 255, 0.8)",boxShadow:"0 0 0 9999px rgba(0, 0, 0, 0.7)"}}})}),t.jsxs(w.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},className:"p-6 space-y-5 bg-gradient-to-t from-black via-black/95 to-transparent safe-bottom",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between text-white/70 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ce,{className:"h-4 w-4"}),t.jsx("span",{children:"Zoom"})]}),t.jsxs("span",{className:"font-mono",children:[Math.round(c*100),"%"]})]}),t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(P,{variant:"ghost",size:"icon",onClick:()=>n(f=>Math.max(1,f-.2)),className:"text-white hover:bg-white/10 rounded-full h-10 w-10",children:t.jsx(at,{className:"h-5 w-5"})}),t.jsx(vt,{value:[c],min:1,max:3,step:.05,onValueChange:([f])=>n(f),className:"flex-1"}),t.jsx(P,{variant:"ghost",size:"icon",onClick:()=>n(f=>Math.min(3,f+.2)),className:"text-white hover:bg-white/10 rounded-full h-10 w-10",children:t.jsx(rt,{className:"h-5 w-5"})})]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs(P,{variant:"outline",onClick:j,className:"flex-1 h-12 border-white/20 bg-white/5 text-white hover:bg-white/10 rounded-xl",children:[t.jsx(ot,{className:"h-5 w-5 mr-2"}),"Girar 90°"]}),t.jsx(P,{onClick:v,disabled:u,className:"flex-1 h-12 bg-primary hover:bg-primary/90 rounded-xl font-semibold",children:u?t.jsx(w.div,{animate:{rotate:360},transition:{repeat:1/0,duration:1,ease:"linear"},children:t.jsx(Ce,{className:"h-5 w-5"})}):t.jsxs(t.Fragment,{children:[t.jsx(I,{className:"h-5 w-5 mr-2"}),"Aplicar"]})})]})]})]})})}function Le({currentUrl:s,name:o="U",onUpload:e,onRemove:a,disabled:r=!1,size:i="lg"}){const c=d.useRef(null),[n,l]=d.useState(!1),[h,p]=d.useState(null),[m,u]=d.useState(!1),[g,y]=d.useState(!1),[v,j]=d.useState(!1),[f,z]=d.useState(null),E=h||s,V=o.split(" ").map(b=>b[0]).join("").slice(0,2).toUpperCase(),L={sm:"w-16 h-16",md:"w-24 h-24",lg:"w-32 h-32"},T={sm:"h-6 w-6",md:"h-8 w-8",lg:"h-10 w-10"},Y=d.useCallback(async b=>{const N=b.target.files?.[0];if(!N)return;if(!N.type.startsWith("image/")){alert("Por favor, selecione uma imagem.");return}if(N.size>5*1024*1024){alert("A imagem deve ter no máximo 5MB.");return}u(!1);const D=new FileReader;D.onload=M=>{const k=M.target?.result;z(k),j(!0)},D.readAsDataURL(N),c.current&&(c.current.value="")},[]),$=d.useCallback(b=>{j(!1),z(null),l(!0),p(b),fetch(b).then(N=>N.blob()).then(async N=>{const D=new File([N],"avatar.jpg",{type:"image/jpeg"});await e(D,b),y(!0),setTimeout(()=>y(!1),2e3)}).catch(N=>{console.error("Upload failed",N)}).finally(()=>{l(!1)})},[e]),O=d.useCallback(()=>{j(!1),z(null)},[]),_=d.useCallback(()=>{p(null),u(!1),a?.()},[a]),C=d.useCallback(()=>{c.current?.click()},[]);return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex flex-col items-center gap-4",children:[t.jsxs("div",{className:"relative",children:[t.jsxs(w.div,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>!r&&u(!m),className:W(L[i],"rounded-full overflow-hidden cursor-pointer","ring-4 ring-background shadow-xl","relative group"),children:[E?t.jsx(w.img,{initial:{opacity:0,scale:1.1},animate:{opacity:1,scale:1},src:E,alt:o,className:"w-full h-full object-cover"},E):t.jsx("div",{className:W("w-full h-full flex items-center justify-center","bg-gradient-to-br from-primary to-primary/70","text-white font-bold",i==="lg"?"text-4xl":i==="md"?"text-2xl":"text-lg"),children:V||t.jsx(he,{className:T[i]})}),t.jsx(w.div,{initial:{opacity:0},whileHover:{opacity:1},className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:n?t.jsx(re,{className:"h-8 w-8 text-white animate-spin"}):t.jsx(st,{className:"h-8 w-8 text-white"})}),t.jsx(ne,{children:g&&t.jsx(w.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},className:"absolute inset-0 bg-green-500/80 flex items-center justify-center",children:t.jsx(I,{className:"h-12 w-12 text-white"})})})]}),t.jsx(w.div,{whileHover:{scale:1.1},className:W("absolute -bottom-1 -right-1 p-2 rounded-full","bg-primary text-white shadow-lg cursor-pointer",r&&"opacity-50 cursor-not-allowed"),onClick:()=>!r&&C(),children:t.jsx(it,{className:"h-4 w-4"})})]}),t.jsx(ne,{children:m&&!r&&t.jsxs(w.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"flex gap-2",children:[t.jsxs(P,{size:"sm",variant:"outline",onClick:C,className:"rounded-full",children:[t.jsx(nt,{className:"h-4 w-4 mr-1"}),E?"Trocar":"Adicionar"]}),E&&a&&t.jsxs(P,{size:"sm",variant:"outline",onClick:_,className:"rounded-full text-red-500 hover:text-red-600 hover:bg-red-50",children:[t.jsx(ct,{className:"h-4 w-4 mr-1"}),"Remover"]})]})}),t.jsx("input",{ref:c,type:"file",accept:"image/*",capture:"user",onChange:Y,className:"hidden"}),t.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Toque para alterar sua foto"})]}),v&&f&&t.jsx(qt,{image:f,onCrop:$,onCancel:O})]})}function ma(){const s=xt(),{user:o,updateUser:e,logout:a,isAuthenticated:r}=yt(),[i,c]=d.useState(o?.nome||""),[n,l]=d.useState(o?.email||""),[h,p]=d.useState(o?.avatarUrl||""),[m,u]=d.useState(o?.address||{}),[g,y]=d.useState(""),[v,j]=d.useState(""),[f,z]=d.useState(""),[E,V]=d.useState(!1),[L,T]=d.useState(o?.notificationSettings?.reportsEnabled??!0),[Y,$]=d.useState(o?.notificationSettings?.eventsEnabled??!0),[O,_]=d.useState(o?.notificationSettings?.alertsEnabled??!0),[C,b]=d.useState(null),[N,D]=d.useState(!1),[M,k]=d.useState(!1),[U,A]=d.useState(null);d.useEffect(()=>{r||s("/login")},[r,s]);const ye=d.useCallback(async x=>{if(x)try{const q=await J.uploadAvatar(x);p(q.url),o&&e({...o,avatarUrl:q.url})}catch(q){console.error("Avatar upload failed:",q),A(ze(q))}},[o,e]),be=d.useCallback(async()=>{try{await J.removeAvatar(),p(""),o&&e({...o,avatarUrl:void 0})}catch(x){console.error("Avatar remove failed:",x),A("Falha ao remover avatar")}},[o,e]),Ve=d.useCallback(async()=>{if(!i.trim()){A("Nome é obrigatório");return}D(!0),A(null);try{const x=await J.updateProfile({nome:i.trim(),email:n.trim()||void 0});e(x),k(!0),setTimeout(()=>{k(!1),b(null)},1500)}catch(x){A(x instanceof Error?x.message:"Erro ao salvar")}finally{D(!1)}},[i,n,e]),Ye=d.useCallback(async()=>{if(!m.cep||!m.logradouro){A("Preencha o endereço completo");return}D(!0),A(null);try{const x=await J.updateProfile({address:m});e(x),k(!0),setTimeout(()=>{k(!1),b(null)},1500)}catch(x){A(x instanceof Error?x.message:"Erro ao salvar")}finally{D(!1)}},[m,e]),$e=d.useCallback(async()=>{if(!g||!v||!f){A("Preencha todos os campos de senha");return}if(v!==f){A("As senhas não conferem");return}if(!jt.test(v)){A("A nova senha deve ter min. 8 chars, maiúscula, minúscula e número.");return}D(!0),A(null);try{await J.changePassword({currentPassword:g,newPassword:v,confirmPassword:f}),k(!0),y(""),j(""),z(""),setTimeout(()=>{k(!1),b(null)},1500)}catch(x){A(ze(x))}finally{D(!1)}},[g,v,f]),qe=d.useCallback(()=>{a(),s("/login")},[a,s]),{setActiveTab:je}=bt(),Ke=d.useCallback(x=>{je(x),s("/")},[je,s]);return o?t.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-primary/5 via-background to-primary/10",children:[t.jsx(w.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"sticky top-0 z-50 bg-background/80 backdrop-blur-lg border-b",children:t.jsxs("div",{className:"flex items-center justify-between p-4",children:[t.jsx(P,{variant:"ghost",size:"icon",onClick:()=>C?b(null):s(-1),className:"rounded-xl",children:t.jsx(lt,{className:"h-5 w-5"})}),t.jsx("h1",{className:"font-semibold text-lg",children:C==="profile"?"Editar Perfil":C==="address"?"Editar Endereço":C==="password"?"Alterar Senha":C==="notifications"?"Notificações":"Minha Conta"}),t.jsx("div",{className:"w-10"})]})}),t.jsx("div",{className:"p-4 pb-24 space-y-6",children:t.jsxs(ne,{mode:"wait",children:[!C&&t.jsxs(w.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[t.jsxs(G,{className:"p-6 text-center",children:[t.jsx(Le,{currentUrl:o.avatarUrl,name:o.nome,onUpload:ye,onRemove:be,size:"lg"}),t.jsx("h2",{className:"text-xl font-bold mt-4",children:o.nome}),t.jsxs("p",{className:"text-muted-foreground flex items-center justify-center gap-1",children:[t.jsx(Ne,{className:"h-4 w-4"}),Ae(o.phone)]}),o.phoneVerified&&t.jsxs("div",{className:"mt-2 inline-flex items-center gap-1 px-2 py-1 rounded-full bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 text-xs",children:[t.jsx(I,{className:"h-3 w-3"}),"Verificado"]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs(w.button,{whileTap:{scale:.98},onClick:()=>b("profile"),className:"w-full flex items-center justify-between p-4 bg-card rounded-xl border",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:t.jsx(he,{className:"h-5 w-5 text-primary"})}),t.jsxs("div",{className:"text-left",children:[t.jsx("p",{className:"font-medium",children:"Dados pessoais"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Nome, e-mail e foto"})]})]}),t.jsx(ee,{className:"h-5 w-5 text-muted-foreground"})]}),t.jsxs(w.button,{whileTap:{scale:.98},onClick:()=>b("address"),className:"w-full flex items-center justify-between p-4 bg-card rounded-xl border",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10",children:t.jsx(Se,{className:"h-5 w-5 text-blue-500"})}),t.jsxs("div",{className:"text-left",children:[t.jsx("p",{className:"font-medium",children:"Endereço"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:o.address?`${o.address.localidade||""}, ${o.address.uf||""}`:"Não cadastrado"})]})]}),t.jsx(ee,{className:"h-5 w-5 text-muted-foreground"})]}),t.jsxs(w.button,{whileTap:{scale:.98},onClick:()=>b("password"),className:"w-full flex items-center justify-between p-4 bg-card rounded-xl border",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-amber-500/10",children:t.jsx(le,{className:"h-5 w-5 text-amber-500"})}),t.jsxs("div",{className:"text-left",children:[t.jsx("p",{className:"font-medium",children:"Alterar senha"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Trocar sua senha de acesso"})]})]}),t.jsx(ee,{className:"h-5 w-5 text-muted-foreground"})]}),t.jsxs(w.button,{whileTap:{scale:.98},onClick:()=>b("notifications"),className:"w-full flex items-center justify-between p-4 bg-card rounded-xl border",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-purple-500/10",children:t.jsx(Re,{className:"h-5 w-5 text-purple-500"})}),t.jsxs("div",{className:"text-left",children:[t.jsx("p",{className:"font-medium",children:"Notificações"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Configurar alertas"})]})]}),t.jsx(ee,{className:"h-5 w-5 text-muted-foreground"})]})]}),t.jsxs(P,{variant:"outline",size:"lg",onClick:qe,className:"w-full h-14 rounded-2xl text-red-500 border-red-200 hover:bg-red-50 dark:border-red-800 dark:hover:bg-red-950/30",children:[t.jsx(dt,{className:"h-5 w-5 mr-2"}),"Sair da conta"]})]},"main"),C==="profile"&&t.jsxs(w.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[t.jsx(G,{className:"p-6",children:t.jsx(Le,{currentUrl:h,name:i,onUpload:ye,onRemove:be,size:"lg"})}),t.jsxs(G,{className:"p-4 space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs(B,{className:"flex items-center gap-2",children:[t.jsx(he,{className:"h-4 w-4"}),"Nome completo"]}),t.jsx(H,{type:"text",value:i,onChange:x=>c(x.target.value),className:"h-12"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs(B,{className:"flex items-center gap-2",children:[t.jsx(ht,{className:"h-4 w-4"}),"E-mail"]}),t.jsx(H,{type:"email",value:n,onChange:x=>l(x.target.value),placeholder:"seu@email.com",className:"h-12"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs(B,{className:"flex items-center gap-2",children:[t.jsx(Ne,{className:"h-4 w-4"}),"WhatsApp"]}),t.jsx(H,{type:"tel",value:Ae(o.phone),disabled:!0,className:"h-12 bg-muted"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"O número de WhatsApp não pode ser alterado"})]})]}),U&&t.jsx(w.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-3 rounded-xl bg-red-50 dark:bg-red-950/30 border border-red-200 dark:border-red-800",children:t.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400 flex items-center gap-2",children:[t.jsx(te,{className:"h-4 w-4"}),U]})}),t.jsx(P,{size:"lg",onClick:Ve,disabled:N,className:W("w-full h-14 rounded-2xl text-lg font-semibold",M?"bg-green-600 hover:bg-green-600":"bg-gradient-to-r from-primary to-primary/80"),children:N?t.jsxs(t.Fragment,{children:[t.jsx(re,{className:"h-5 w-5 mr-2 animate-spin"}),"Salvando..."]}):M?t.jsxs(t.Fragment,{children:[t.jsx(I,{className:"h-5 w-5 mr-2"}),"Salvo!"]}):t.jsxs(t.Fragment,{children:[t.jsx(Pe,{className:"h-5 w-5 mr-2"}),"Salvar alterações"]})})]},"profile"),C==="address"&&t.jsxs(w.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[t.jsx(G,{className:"p-4",children:t.jsx(gt,{value:m,onChange:u})}),U&&t.jsx(w.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-3 rounded-xl bg-red-50 dark:bg-red-950/30 border border-red-200 dark:border-red-800",children:t.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400 flex items-center gap-2",children:[t.jsx(te,{className:"h-4 w-4"}),U]})}),t.jsx(P,{size:"lg",onClick:Ye,disabled:N,className:W("w-full h-14 rounded-2xl text-lg font-semibold",M?"bg-green-600 hover:bg-green-600":"bg-gradient-to-r from-primary to-primary/80"),children:N?t.jsxs(t.Fragment,{children:[t.jsx(re,{className:"h-5 w-5 mr-2 animate-spin"}),"Salvando..."]}):M?t.jsxs(t.Fragment,{children:[t.jsx(I,{className:"h-5 w-5 mr-2"}),"Salvo!"]}):t.jsxs(t.Fragment,{children:[t.jsx(Pe,{className:"h-5 w-5 mr-2"}),"Salvar endereço"]})})]},"address"),C==="password"&&t.jsxs(w.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[t.jsxs(G,{className:"p-4 space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs(B,{className:"flex items-center gap-2",children:[t.jsx(Ee,{className:"h-4 w-4"}),"Senha atual"]}),t.jsxs("div",{className:"relative",children:[t.jsx(H,{type:E?"text":"password",value:g,onChange:x=>y(x.target.value),className:"h-12 pr-12"}),t.jsx(P,{type:"button",variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 -translate-y-1/2",onClick:()=>V(!E),children:E?t.jsx(pt,{className:"h-5 w-5"}):t.jsx(ut,{className:"h-5 w-5"})})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs(B,{className:"flex items-center gap-2",children:[t.jsx(le,{className:"h-4 w-4"}),"Nova senha"]}),t.jsx(H,{type:E?"text":"password",value:v,onChange:x=>j(x.target.value),placeholder:"Mínimo 6 caracteres",className:"h-12"})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs(B,{className:"flex items-center gap-2",children:[t.jsx(le,{className:"h-4 w-4"}),"Confirmar nova senha"]}),t.jsx(H,{type:E?"text":"password",value:f,onChange:x=>z(x.target.value),className:W("h-12",f&&v!==f&&"border-red-400")}),f&&v!==f&&t.jsx("p",{className:"text-xs text-red-500",children:"As senhas não conferem"})]})]}),U&&t.jsx(w.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-3 rounded-xl bg-red-50 dark:bg-red-950/30 border border-red-200 dark:border-red-800",children:t.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400 flex items-center gap-2",children:[t.jsx(te,{className:"h-4 w-4"}),U]})}),t.jsx(P,{size:"lg",onClick:$e,disabled:N||!g||!v||!f,className:W("w-full h-14 rounded-2xl text-lg font-semibold",M?"bg-green-600 hover:bg-green-600":"bg-gradient-to-r from-primary to-primary/80"),children:N?t.jsxs(t.Fragment,{children:[t.jsx(re,{className:"h-5 w-5 mr-2 animate-spin"}),"Alterando..."]}):M?t.jsxs(t.Fragment,{children:[t.jsx(I,{className:"h-5 w-5 mr-2"}),"Senha alterada!"]}):t.jsxs(t.Fragment,{children:[t.jsx(Ee,{className:"h-5 w-5 mr-2"}),"Alterar senha"]})})]},"password"),C==="notifications"&&t.jsxs(w.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-4",children:[t.jsxs(G,{className:"p-4 space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-green-500/10",children:t.jsx(Se,{className:"h-5 w-5 text-green-500"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:"Minhas denúncias"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Atualizações sobre suas denúncias"})]})]}),t.jsx(de,{checked:L,onCheckedChange:T})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10",children:t.jsx(Re,{className:"h-5 w-5 text-blue-500"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:"Eventos"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Novos eventos na cidade"})]})]}),t.jsx(de,{checked:Y,onCheckedChange:$})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-lg bg-amber-500/10",children:t.jsx(te,{className:"h-5 w-5 text-amber-500"})}),t.jsxs("div",{children:[t.jsx("p",{className:"font-medium",children:"Alertas"}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Alertas importantes da cidade"})]})]}),t.jsx(de,{checked:O,onCheckedChange:_})]})]}),t.jsx("p",{className:"text-xs text-muted-foreground text-center px-4",children:"Você receberá notificações via WhatsApp para as opções ativadas"})]},"notifications")]})}),t.jsx(wt,{activeTab:"mais",onTabChange:Ke})]}):null}export{ma as default};
