import{n as a,o as l,s as n,p as s,q as u}from"./index-C7gvV03_.js";const i=u("etijucas-reports","reports"),y=u("etijucas-topics","topics"),f=u("etijucas-comments","comments"),d=u("etijucas-sync","queue"),m=u("etijucas-events","events"),g=u("etijucas-tourism","spots"),D={async getAll(){try{const r=await a(i),e=[];for(const t of r){const o=await s(t,i);o&&e.push(o)}return e.sort((t,o)=>new Date(o.createdAt).getTime()-new Date(t.createdAt).getTime())}catch(r){return console.error("Error getting reports from IndexedDB:",r),[]}},async getById(r){try{return await s(r,i)}catch(e){console.error("Error getting report from IndexedDB:",e);return}},async save(r){try{await n(r.id,r,i)}catch(e){console.error("Error saving report to IndexedDB:",e)}},async saveMany(r){try{for(const e of r)await n(e.id,e,i)}catch(e){console.error("Error saving reports to IndexedDB:",e)}},async delete(r){try{await l(r,i)}catch(e){console.error("Error deleting report from IndexedDB:",e)}},async clear(){try{const r=await a(i);for(const e of r)await l(e,i)}catch(r){console.error("Error clearing reports from IndexedDB:",r)}}},h={async getAll(){try{const r=await a(y),e=[];for(const t of r){const o=await s(t,y);o&&e.push(o)}return e.sort((t,o)=>new Date(o.createdAt).getTime()-new Date(t.createdAt).getTime())}catch(r){return console.error("Error getting topics from IndexedDB:",r),[]}},async getById(r){try{return await s(r,y)}catch(e){console.error("Error getting topic from IndexedDB:",e);return}},async save(r){try{await n(r.id,r,y)}catch(e){console.error("Error saving topic to IndexedDB:",e)}},async saveMany(r){try{for(const e of r)await n(e.id,e,y)}catch(e){console.error("Error saving topics to IndexedDB:",e)}},async update(r,e){try{const t=await s(r,y);if(t){const o={...t,...e};return await n(r,o,y),o}}catch(t){console.error("Error updating topic in IndexedDB:",t)}},async delete(r){try{await l(r,y)}catch(e){console.error("Error deleting topic from IndexedDB:",e)}}},B={async getByTopicId(r){try{const e=await a(f),t=[];for(const o of e){const c=await s(o,f);c&&c.topicId===r&&t.push(c)}return t.sort((o,c)=>new Date(o.createdAt).getTime()-new Date(c.createdAt).getTime())}catch(e){return console.error("Error getting comments from IndexedDB:",e),[]}},async save(r){try{await n(r.id,r,f)}catch(e){console.error("Error saving comment to IndexedDB:",e)}},async delete(r){try{await l(r,f)}catch(e){console.error("Error deleting comment from IndexedDB:",e)}}},v={async getAll(){try{const r=await a(d),e=[];for(const t of r){const o=await s(t,d);o&&e.push(o)}return e.sort((t,o)=>new Date(t.createdAt).getTime()-new Date(o.createdAt).getTime())}catch(r){return console.error("Error getting sync queue from IndexedDB:",r),[]}},async add(r){const e={...r,id:`sync-${Date.now()}-${Math.random().toString(36).slice(2)}`,createdAt:new Date,retryCount:0};try{await n(e.id,e,d)}catch(t){console.error("Error adding to sync queue:",t)}return e},async update(r,e){try{const t=await s(r,d);t&&await n(r,{...t,...e},d)}catch(t){console.error("Error updating sync queue item:",t)}},async remove(r){try{await l(r,d)}catch(e){console.error("Error removing from sync queue:",e)}},async clear(){try{const r=await a(d);for(const e of r)await l(e,d)}catch(r){console.error("Error clearing sync queue:",r)}},async exists(r){try{return(await this.getAll()).some(t=>t.idempotencyKey===r)}catch{return!1}}},I={async getAll(){try{const r=await a(m),e=[];for(const t of r){const o=await s(t,m);o&&e.push(o)}return e.sort((t,o)=>{const c=t.startDateTime||t.dateTime,w=o.startDateTime||o.dateTime;return!c||!w?0:new Date(c).getTime()-new Date(w).getTime()})}catch(r){return console.error("Error getting events from IndexedDB:",r),[]}},async getById(r){try{return await s(r,m)}catch(e){console.error("Error getting event from IndexedDB:",e);return}},async save(r){try{await n(r.id,r,m)}catch(e){console.error("Error saving event to IndexedDB:",e)}},async saveMany(r){try{for(const e of r)await n(e.id,e,m)}catch(e){console.error("Error saving events to IndexedDB:",e)}},async clear(){try{const r=await a(m);for(const e of r)await l(e,m)}catch(r){console.error("Error clearing events from IndexedDB:",r)}}},x={async getAll(){try{const r=await a(g),e=[];for(const t of r){const o=await s(t,g);o&&e.push(o)}return e}catch(r){return console.error("Error getting tourism spots from IndexedDB:",r),[]}},async saveMany(r){try{for(const e of r)await n(e.id,e,g)}catch(e){console.error("Error saving tourism spots to IndexedDB:",e)}},async clear(){try{const r=await a(g);for(const e of r)await l(e,g)}catch(r){console.error("Error clearing tourism spots from IndexedDB:",r)}}};export{x as a,B as c,I as e,D as r,v as s,h as t};
