import{a as s,E as o}from"./client-BdVdTjkU.js";import{b as r}from"./localDatabase-Bww6WEsf.js";async function i(){(await r.getAll()).length}const w={async getAll(){await i();try{const a=await s.get(o.bairros.list);return a.data&&a.data.length>0&&(await r.clear(),await r.saveMany(a.data)),a.data}catch(a){return console.warn("[BairroService] API failed, using cache:",a),r.getAll()}},async getById(a){await i();try{return(await s.get(o.bairros.get(a))).data}catch{return console.warn("[BairroService] API failed for getById, using cache"),(await r.getAll()).find(t=>t.id===a)}},async search(a){await i();const e=a.toLowerCase();return(await r.getAll()).filter(t=>t.nome.toLowerCase().includes(e))},async refresh(){await r.clear(),await this.getAll()}};export{w as b};
