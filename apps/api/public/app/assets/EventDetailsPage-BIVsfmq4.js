import{r as n,j as e}from"./vendor-radix-i3jPA7eY.js";import{B as r}from"./button-rzM8wV8T.js";import{B as l}from"./badge-BAPp0roA.js";import{C as I}from"./card-BmaSWi2r.js";import{u as U,f as H,a as D,A as K,b as W,c as J,d as Q}from"./useEventFilters-CVNdtLRI.js";import{b as f,e as X,u as Z,f as ee,g as L,c as o,C as ae}from"./index-CcRQdJ8g.js";import{u as se,a as g,b as te,m as t,A as ie}from"./vendor-motion-CFwwOuCD.js";import{A as S}from"./arrow-left-CfD044EO.js";import{S as b}from"./share-2-CUtRIpGV.js";import{H as E}from"./heart-DK8rQVcS.js";import{U as re}from"./users-BXJFrUl5.js";import{B as le}from"./bell-ATVyNb_N.js";import{C as ne}from"./clock-CZBzjhcy.js";import{M as oe}from"./map-pin-Cp2KGZMh.js";import{E as ce}from"./external-link-BpmhkmU2.js";import{T as de}from"./useEventsApi-CZhBu2_X.js";import{I as me,G as xe}from"./instagram-BdiNBbA6.js";import{M as pe}from"./message-circle-DCiR8bxv.js";import"./vendor-utils-DycLLelI.js";import"./chevron-down-qPCpgCSa.js";import"./pt-BR-DblHnrUS.js";import"./vendor-query-1wfeA5IL.js";import"./client-BoGyDRku.js";import"./localDatabase-CDfLZ4Kb.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=f("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=f("Music2",[["circle",{cx:"8",cy:"18",r:"4",key:"1fc0mg"}],["path",{d:"M12 18V2l7 4",key:"g04rme"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=f("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),be=[{key:"instagram",icon:me,label:"Instagram",color:"from-pink-500 to-purple-500"},{key:"whatsapp",icon:pe,label:"WhatsApp",color:"from-green-500 to-green-600"},{key:"website",icon:xe,label:"Site",color:"from-blue-500 to-blue-600"},{key:"youtube",icon:ge,label:"YouTube",color:"from-red-500 to-red-600"},{key:"tiktok",icon:ue,label:"TikTok",color:"from-gray-800 to-black"}],fe={show:"Show",festa:"Festa",cultura:"Cultura",infantil:"Infantil",gastronomico:"GastronÃ´mico",esportes:"Esportes"},ye={show:"bg-purple-500/20 text-purple-300 border-purple-500/30",festa:"bg-pink-500/20 text-pink-300 border-pink-500/30",cultura:"bg-amber-500/20 text-amber-300 border-amber-500/30",infantil:"bg-green-500/20 text-green-300 border-green-500/30",gastronomico:"bg-orange-500/20 text-orange-300 border-orange-500/30",esportes:"bg-blue-500/20 text-blue-300 border-blue-500/30"};function qe(){const{eventId:$}=X(),m=Z(),{allEvents:h,toggleFavorite:M,isFavorite:y}=U(),{toast:c}=ee(),[j,R]=n.useState(!1),[v,N]=n.useState(null),[d,z]=n.useState(!1),[G,P]=n.useState(!1),w=n.useRef(null),{scrollY:x}=se({container:w}),B=g(x,[0,200],[0,1]),F=g(x,[0,200],[1,1.1]),O=g(x,[0,300],[1,.3]);te(x,"change",s=>{P(s>150)});const a=h.find(s=>s.id===$),k=n.useMemo(()=>a?h.filter(s=>s.id!==a.id&&(s.category.slug===a.category.slug||s.venue?.bairro?.id===a.venue?.bairro?.id)).sort((s,i)=>i.popularityScore-s.popularityScore).slice(0,5):[],[h,a]);if(!a)return e.jsxs(t.div,{initial:{opacity:0},animate:{opacity:1},className:"min-h-screen bg-background flex flex-col items-center justify-center gap-4",children:[e.jsx("div",{className:"rounded-full bg-muted p-6",children:e.jsx(L,{className:"h-8 w-8 text-muted-foreground"})}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Evento nÃ£o encontrado."}),e.jsx(r,{variant:"outline",onClick:()=>m(-1),children:"Voltar"})]});const u=async()=>{const s={title:a.title,text:`${a.title} â€¢ ${a.venue.name}`,url:window.location.href};if(navigator.share){try{await navigator.share(s),c({title:"Compartilhado!"})}catch{}return}if(navigator.clipboard?.writeText)try{await navigator.clipboard.writeText(s.url),c({title:"Link copiado!",description:"Cole onde quiser compartilhar."})}catch{}},C=()=>{M(a.id);const s=!y(a.id);c({title:s?"Adicionado aos favoritos":"Removido dos favoritos",description:s?"VocÃª serÃ¡ notificado sobre este evento.":void 0})},V=()=>{z(!d),d||c({title:"ðŸŽ‰ PresenÃ§a confirmada!",description:"VocÃª receberÃ¡ lembretes sobre este evento."})},_=()=>{c({title:"Adicionado ao calendÃ¡rio",description:"Lembrete configurado para o dia do evento."})},Y=a.ticket?.type==="free"?"GrÃ¡tis":`R$ ${a.ticket?.minPrice??0}`,A=y(a.id),q=a.media?.bannerImageMobile??a.media?.bannerImage??a.media?.coverImage??a.coverImage??"/placeholder.svg",T=n.useMemo(()=>(a.media?.gallery??[]).map(i=>typeof i=="string"?i:i?.url).filter(i=>!!i),[a.media?.gallery]);return e.jsxs("div",{ref:w,className:"min-h-screen bg-background overflow-y-auto",children:[e.jsx(t.div,{style:{opacity:B},className:o("fixed top-0 left-0 right-0 z-50 border-b bg-background/95 backdrop-blur-xl",!G&&"pointer-events-none"),children:e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 safe-top",children:[e.jsx(r,{variant:"ghost",size:"icon",onClick:()=>m(-1),children:e.jsx(S,{className:"h-5 w-5"})}),e.jsx("p",{className:"text-sm font-medium truncate max-w-[50%]",children:a.title}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(r,{variant:"ghost",size:"icon",onClick:u,children:e.jsx(b,{className:"h-4 w-4"})}),e.jsx(r,{variant:"ghost",size:"icon",onClick:C,children:e.jsx(E,{className:o("h-4 w-4",A&&"fill-red-500 text-red-500")})})]})]})}),e.jsxs("div",{className:"relative h-80 overflow-hidden",children:[e.jsx(t.img,{style:{scale:F,opacity:O},src:q,alt:a.title,className:"h-full w-full object-cover origin-center"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background via-background/20 to-transparent"}),e.jsxs(t.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"absolute top-4 left-4 right-4 flex items-center justify-between safe-top",children:[e.jsx(r,{variant:"ghost",size:"icon",onClick:()=>m(-1),className:"bg-black/40 hover:bg-black/60 text-white backdrop-blur-sm rounded-full h-10 w-10",children:e.jsx(S,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(t.div,{whileTap:{scale:.9},children:e.jsx(r,{variant:"ghost",size:"icon",onClick:u,className:"bg-black/40 hover:bg-black/60 text-white backdrop-blur-sm rounded-full h-10 w-10",children:e.jsx(b,{className:"h-5 w-5"})})}),e.jsx(t.div,{whileTap:{scale:.9},children:e.jsx(r,{variant:"ghost",size:"icon",onClick:C,className:"bg-black/40 hover:bg-black/60 text-white backdrop-blur-sm rounded-full h-10 w-10",children:e.jsx(E,{className:o("h-5 w-5 transition-all",A&&"fill-red-400 text-red-400 scale-110")})})})]})]}),e.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"absolute bottom-4 left-4 right-4 text-white",children:[e.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[e.jsx(l,{className:o("border",ye[a.category.slug]||"bg-primary/20"),children:fe[a.category.slug]??a.category.name}),e.jsx(l,{className:"bg-white/20 text-white border-white/30",children:Y}),e.jsx(l,{className:"bg-white/20 text-white border-white/30",children:a.flags.ageRating})]}),e.jsx("h1",{className:"text-2xl font-bold leading-tight",children:a.title}),e.jsxs("p",{className:"text-sm text-white/80 mt-1 flex items-center gap-1",children:[e.jsx(re,{className:"h-3.5 w-3.5"}),e.jsxs("span",{children:[a.popularityScore,"+ interessados"]})]})]})]}),e.jsxs("div",{className:"px-4 py-6 space-y-6",children:[e.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"grid grid-cols-3 gap-3",children:[e.jsxs(t.button,{whileTap:{scale:.95},onClick:V,className:o("flex flex-col items-center justify-center gap-2 p-4 rounded-2xl border transition-all",d?"bg-green-500/10 border-green-500/30 text-green-600":"bg-card border-border hover:bg-muted/50"),children:[e.jsx(ae,{className:o("h-6 w-6",d&&"fill-green-500")}),e.jsx("span",{className:"text-xs font-medium",children:d?"Confirmado!":"Confirmar"})]}),e.jsxs(t.button,{whileTap:{scale:.95},onClick:_,className:"flex flex-col items-center justify-center gap-2 p-4 rounded-2xl border bg-card border-border hover:bg-muted/50 transition-all",children:[e.jsx(le,{className:"h-6 w-6 text-primary"}),e.jsx("span",{className:"text-xs font-medium",children:"Lembrete"})]}),e.jsxs(t.button,{whileTap:{scale:.95},onClick:u,className:"flex flex-col items-center justify-center gap-2 p-4 rounded-2xl border bg-card border-border hover:bg-muted/50 transition-all",children:[e.jsx(b,{className:"h-6 w-6 text-primary"}),e.jsx("span",{className:"text-xs font-medium",children:"Compartilhar"})]})]}),e.jsx(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.35},children:e.jsx(I,{className:"rounded-2xl p-4 bg-gradient-to-br from-card to-muted/30",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 rounded-xl bg-primary/10",children:e.jsx(L,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold",children:H(a.start)}),e.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[e.jsx(ne,{className:"h-3.5 w-3.5"}),D(a.start,a.end)]})]})]}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"p-3 rounded-xl bg-primary/10",children:e.jsx(oe,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold",children:a.venue?.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:a.venue?.bairro?.nome})]}),e.jsxs(r,{variant:"outline",size:"sm",onClick:()=>window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(a.venue.address)}`,"_blank"),children:[e.jsx(ce,{className:"h-3.5 w-3.5 mr-1"}),"Mapa"]})]})]})})}),a.ticket?.purchaseUrl&&e.jsx(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:e.jsxs(I,{className:"rounded-2xl p-4 bg-gradient-to-r from-primary/10 via-primary/5 to-transparent border-primary/20",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-xl bg-primary/20",children:e.jsx(de,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:a.ticket?.type==="free"?"Entrada Gratuita":`A partir de ${a.ticket?.minPrice?`R$ ${a.ticket.minPrice}`:"???"}`}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a.ticket?.type==="free"?"Reserve seu lugar":"Garanta seu ingresso"})]})]}),e.jsx(r,{onClick:()=>window.open(a.ticket.purchaseUrl,"_blank"),children:a.ticket?.type==="free"?"Reservar":"Comprar"})]}),a.ticket?.lots&&a.ticket.lots.length>0&&e.jsx("div",{className:"mt-4 pt-4 border-t border-border/50 space-y-2",children:a.ticket.lots.map(s=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:s.name}),e.jsxs("span",{className:"font-medium",children:["R$ ",s.price]})]},s.name))})]})}),e.jsxs(t.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.45},className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Sobre o evento"}),e.jsx(l,{variant:"outline",className:"text-xs",children:a.organizer?.name??"Organizador"})]}),e.jsxs(t.div,{layout:!0,className:"rounded-2xl border bg-card p-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:j?a.descriptionFull:a.descriptionShort}),e.jsx(r,{variant:"link",size:"sm",className:"px-0 mt-2",onClick:()=>R(s=>!s),children:j?"Ler menos":"Ler mais"})]})]}),(()=>{const s=Array.isArray(a.schedule)?a.schedule:a.schedule?.items;return!s||s.length===0?null:e.jsxs(t.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"space-y-3",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"ProgramaÃ§Ã£o"}),e.jsx(K,{type:"multiple",className:"space-y-2",children:s.map((i,p)=>e.jsxs(W,{value:`${a.id}-${p}`,className:"border rounded-xl overflow-hidden",children:[e.jsx(J,{className:"px-4 hover:no-underline",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-sm font-bold text-primary tabular-nums",children:i.time}),e.jsx("span",{className:"text-sm font-medium",children:i.title})]})}),i.description&&e.jsx(Q,{className:"px-4 pb-4 pt-1 text-muted-foreground",children:i.description})]},`${a.id}-schedule-${p}`))})]})})(),e.jsxs(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.55},className:"flex flex-wrap gap-2",children:[a.flags.parking&&e.jsxs(l,{variant:"outline",className:"gap-1",children:[e.jsx("span",{className:"text-lg",children:"ðŸ…¿ï¸"})," Estacionamento"]}),a.flags.accessibility&&e.jsxs(l,{variant:"outline",className:"gap-1",children:[e.jsx("span",{className:"text-lg",children:"â™¿"})," AcessÃ­vel"]}),a.flags.outdoor&&e.jsxs(l,{variant:"outline",className:"gap-1",children:[e.jsx("span",{className:"text-lg",children:"ðŸŒ³"})," Ao ar livre"]}),a.flags.kids&&e.jsxs(l,{variant:"outline",className:"gap-1",children:[e.jsx("span",{className:"text-lg",children:"ðŸ‘¶"})," Kids"]})]}),a.links&&e.jsxs(t.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"space-y-3",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Links e redes"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[be.map(s=>{const i=a.links[s.key];if(!i)return null;const p=s.icon;return e.jsxs(t.button,{whileTap:{scale:.95},onClick:()=>window.open(i,"_blank"),className:o("flex items-center gap-2 p-3 rounded-xl border bg-gradient-to-r",s.color,"text-white"),children:[e.jsx(p,{className:"h-5 w-5"}),e.jsx("span",{className:"text-sm font-medium",children:s.label})]},s.key)}),a.links.other&&a.links.other.map((s,i)=>e.jsxs(t.button,{whileTap:{scale:.95},onClick:()=>window.open(s.url,"_blank"),className:"flex items-center gap-2 p-3 rounded-xl border bg-card hover:bg-muted/50",children:[e.jsx(he,{className:"h-5 w-5 text-muted-foreground"}),e.jsx("span",{className:"text-sm font-medium",children:s.label??"Link"})]},`other-${i}`))]})]}),T.length>0&&e.jsxs(t.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.65},className:"space-y-3",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Galeria"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:T.map((s,i)=>e.jsx(t.button,{whileTap:{scale:.95},whileHover:{scale:1.02},onClick:()=>N(s),className:"overflow-hidden rounded-2xl aspect-[4/3]",children:e.jsx("img",{src:s,alt:"Galeria do evento",className:"h-full w-full object-cover"})},`${a.id}-gallery-${i}`))})]}),k.length>0&&e.jsxs(t.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"space-y-3 pb-8",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h2",{className:"text-lg font-semibold",children:"VocÃª tambÃ©m pode curtir"})}),e.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2 -mx-4 px-4 snap-x snap-mandatory",children:k.map((s,i)=>e.jsxs(t.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.7+i*.05},whileTap:{scale:.96},onClick:()=>m(`/agenda/${s.id}`),className:"min-w-[180px] rounded-2xl border bg-card p-3 text-left shadow-card snap-start",children:[e.jsx("img",{src:s.media?.coverImage??s.coverImage??"/placeholder.svg",alt:s.title,className:"h-24 w-full rounded-xl object-cover"}),e.jsx("p",{className:"mt-2 text-sm font-semibold line-clamp-2",children:s.title}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.venue?.bairro?.nome??""})]},s.id))})]})]}),e.jsx(ie,{children:v&&e.jsx(t.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 px-6",onClick:()=>N(null),children:e.jsx(t.img,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{type:"spring",damping:25},src:v,alt:"Evento",className:"max-h-[85vh] w-full rounded-2xl object-contain"})})})]})}export{qe as default};
